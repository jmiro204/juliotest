/**
* This file was auto-generated by SAP Web IDE build and includes all
* the source files required by SAPUI5 runtime for performance optimization.
* PLEASE DO NOT EDIT THIS FILE!! Changes will be overwritten the next time the build is run.
*/
jQuery.sap.registerPreloadedModules({
	"version": "2.0",
	"name": "app/eci/zcaraltatrx2/Component-preload",
	"modules": {
		"app/eci/zcaraltatrx2/controller/Worklist.controller.js": "/*global location history */\r\nsap.ui.define([\r\n\t\"app/eci/zcaraltatrx2/controller/BaseController\",\r\n\t\"sap/ui/model/json/JSONModel\",\r\n\t\"sap/ui/core/routing/History\",\r\n\t\"app/eci/zcaraltatrx2/model/formatter\",\r\n\t\"sap/ui/model/Filter\",\r\n\t\"sap/ui/model/FilterOperator\",\r\n\t\"sap/ui/model/odata/v2/ODataModel\"\r\n], function(BaseController, JSONModel, History, formatter, Filter, FilterOperator, ODataModel) {\r\n\t\"use strict\";\r\n\r\n\treturn BaseController.extend(\"app.eci.zcaraltatrx2.controller.Worklist\", {\r\n\r\n\t\tformatter: formatter,\r\n\r\n\t\t/* =========================================================== */\r\n\t\t/* lifecycle methods                                           */\r\n\t\t/* =========================================================== */\r\n\r\n\t\t/**\r\n\t\t * Called when the worklist controller is instantiated.\r\n\t\t * @public\r\n\t\t */\r\n\t\tonInit: function() {\r\n\t\t\tvar oViewModel,\r\n\t\t\t\tiOriginalBusyDelay,\r\n\t\t\t\toTable = this.byId(\"table\");\r\n\r\n\t\t\t// Put down worklist table's original value for busy indicator delay,\r\n\t\t\t// so it can be restored later on. Busy handling on the table is\r\n\t\t\t// taken care of by the table itself.\r\n\t\t\tiOriginalBusyDelay = oTable.getBusyIndicatorDelay();\r\n\t\t\t// keeps the search state\r\n\t\t\tthis._aTableSearchState = [];\r\n\r\n\t\t\tthis.getRouter().getRoute(\"worklist\").attachPatternMatched(this._onObjectMatched, this);\r\n\r\n\t\t\t// Model used to manipulate control states\r\n\t\t\toViewModel = new JSONModel({\r\n\t\t\t\tworklistTableTitle: this.getResourceBundle().getText(\"worklistTableTitle\"),\r\n\t\t\t\tsaveAsTileTitle: this.getResourceBundle().getText(\"saveAsTileTitle\", this.getResourceBundle().getText(\"worklistViewTitle\")),\r\n\t\t\t\tshareOnJamTitle: this.getResourceBundle().getText(\"worklistTitle\"),\r\n\t\t\t\tshareSendEmailSubject: this.getResourceBundle().getText(\"shareSendEmailWorklistSubject\"),\r\n\t\t\t\tshareSendEmailMessage: this.getResourceBundle().getText(\"shareSendEmailWorklistMessage\", [location.href]),\r\n\t\t\t\ttableNoDataText: this.getResourceBundle().getText(\"tableNoDataText\"),\r\n\t\t\t\ttableBusyDelay: 0\r\n\t\t\t});\r\n\t\t\tthis.setModel(oViewModel, \"worklistView\");\r\n\r\n\t\t\t// Make sure, busy indication is showing immediately so there is no\r\n\t\t\t// break after the busy indication for loading the view's meta data is\r\n\t\t\t// ended (see promise 'oWhenMetadataIsLoaded' in AppController)\r\n\t\t\toTable.attachEventOnce(\"updateFinished\", function() {\r\n\t\t\t\t// Restore original busy indicator delay for worklist's table\r\n\t\t\t\toViewModel.setProperty(\"/tableBusyDelay\", iOriginalBusyDelay);\r\n\t\t\t});\r\n\t\t\t// Add the worklist page to the flp routing history\r\n\t\t\tthis.addHistoryEntry({\r\n\t\t\t\ttitle: this.getResourceBundle().getText(\"worklistViewTitle\"),\r\n\t\t\t\ticon: \"sap-icon://table-view\",\r\n\t\t\t\tintent: \"#Altadetransacciones-display\"\r\n\t\t\t}, true);\r\n\r\n\t\t},\r\n\t\tonAfterRendering: function(oEvent) {\r\n\t\t\tvar oModel = this.getView().getModel(),\r\n\t\t\t\toFiltersBar = this.getView().byId(\"smartFilterBar\");\r\n\t\t\tthis.getView().getModel().setSizeLimit(9999);\r\n\t\t\tthis.getView().setBusy(true);\r\n\t\t\tthis._oDelegateEvent = {\r\n\t\t\t\t\"onAfterRendering\": function() {\r\n\t\t\t\t\tthis._setFiters();\r\n\t\t\t\t}.bind(this)\r\n\t\t\t};\r\n\t\t\toFiltersBar.addEventDelegate(this._oDelegateEvent, this);\r\n\t\t\toModel.read(\"/FormpagCard\", {\r\n\t\t\t\tsuccess: function(data, resp) {\r\n\t\t\t\t\tsap.ui.getCore().setModel(new JSONModel(data.results), \"FormpagCard\");\r\n\t\t\t\t\tthis.getView().setBusy(false);\r\n\t\t\t\t}.bind(this),\r\n\t\t\t\terror: function(error) {\r\n\r\n\t\t\t\t}.bind(this)\r\n\t\t\t});\r\n\t\t},\r\n\t\t_setFiters: function() {\r\n\t\t\tvar oHistory = sap.ui.core.routing.History.getInstance(),\r\n\t\t\t\tvDirection = oHistory ? oHistory.getDirection() : null,\r\n\t\t\t\toFiltersBar = this.getView().byId(\"smartFilterBar\"),\r\n\t\t\t\toFltersCache;\r\n\t\t\tif (vDirection && vDirection === 'Backwards') {\r\n\t\t\t\toFltersCache = this._getFiltersStorage(false);\r\n\t\t\t\tif (oFltersCache) {\r\n\t\t\t\t\toFiltersBar.setFilterData(oFltersCache);\r\n\t\t\t\t\toFiltersBar.fireSearch();\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tthis._getFiltersStorage(true);\r\n\t\t\t}\r\n\r\n\t\t},\r\n\t\t_getFiltersStorage: function(pClearFilter) {\r\n\t\t\tvar sFiltrosGuardados = sessionStorage.getItem(\"filtrosAltaTrx\");\r\n\t\t\tif (pClearFilter) {\r\n\t\t\t\tsFiltrosGuardados = null;\r\n\t\t\t\tsessionStorage.removeItem(\"misFiltrosGTrx\");\r\n\t\t\t} else {\r\n\t\t\t\tsFiltrosGuardados = JSON.parse(sFiltrosGuardados);\r\n\t\t\t\tif (sFiltrosGuardados.Businessdaydate) {\r\n\t\t\t\t\tsFiltrosGuardados.Businessdaydate = new Date(sFiltrosGuardados.Businessdaydate);\r\n\t\t\t\t}\r\n\t\t\t\tif (sFiltrosGuardados.Auditbusinessdaydate) {\r\n\t\t\t\t\tsFiltrosGuardados.Auditbusinessdaydate = new Date(sFiltrosGuardados.Auditbusinessdaydate);\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\t\t\treturn sFiltrosGuardados;\r\n\r\n\t\t},\r\n\r\n\t\t_onObjectMatched: function(oEvent) {\r\n\t\t\t//this.getView().byId(\"smartFilterBar\").fireSearch();\r\n\t\t\tthis._getParametersUrlFilters();\r\n\t\t\tthis._setFilterDataCreate();\r\n\t\t},\r\n\t\t_getParametersUrlFilters: function() {\r\n\t\t\tthis.getView().byId(\"smartFilterBar\").attachInitialise(function(oEvent) {\r\n\t\t\t\t\tvar vUrl = window.location.href;\r\n\t\t\t\t\tvar vPiece = vUrl.split(\"?\");\r\n\t\t\t\t\tvar vSetFilters = false;\r\n\t\t\t\t\tvPiece.forEach(function(param) {\r\n\t\t\t\t\t\tvar oParams = param.split(\"&\");\r\n\t\t\t\t\t\tvar oGroupItems = oEvent.getSource().getFilterGroupItems();\r\n\t\t\t\t\t\t$.each(oParams, function(key, value) {\r\n\t\t\t\t\t\t\tvar OParameter = value.split(\"=\"),\r\n\t\t\t\t\t\t\t\tvKey = OParameter[0],\r\n\t\t\t\t\t\t\t\tvValue = OParameter[1];\r\n\t\t\t\t\t\t\tif (vValue) {\r\n\t\t\t\t\t\t\t\toGroupItems.forEach(function(item) {\r\n\t\t\t\t\t\t\t\t\tvar oControl = item.getControl(),\r\n\t\t\t\t\t\t\t\t\t\toMetadata = oControl.getMetadata();\r\n\t\t\t\t\t\t\t\t\tif (oMetadata._sClassName.includes(\"Date\") && oControl.getId().includes(vKey)) {\r\n\t\t\t\t\t\t\t\t\t\toControl.setDateValue(new Date(vValue.substr(0, 10)));\r\n\t\t\t\t\t\t\t\t\t\tvSetFilters = true;\r\n\t\t\t\t\t\t\t\t\t} else if (oControl.getId().includes(vKey)) {\r\n\t\t\t\t\t\t\t\t\t\toControl.setValue(vValue);\r\n\t\t\t\t\t\t\t\t\t\tvSetFilters = true;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}.bind(this))\r\n\t\t\t\t\tif (vSetFilters) {\r\n\t\t\t\t\t\tthis.getView().byId(\"smartFilterBar\").fireSearch()\r\n\t\t\t\t\t}\r\n\t\t\t\t}.bind(this))\r\n\t\t\t\t/*this.getView().byId(\"smartFilterBar\").attachInitialise(function(oEvent) {\r\n\t\t\t\t\tvar vUrl = window.location.href;\r\n\t\t\t\t\tvar vPiece = vUrl.split(\"?\");\r\n\t\t\t\t\tvar oParams = vPiece[1].split(\"&\");\r\n\t\t\t\t\tvar oGroupItems = oEvent.getSource().getFilterGroupItems();\r\n\t\t\t\t\t$.each(oParams, function(key, value) {\r\n\t\t\t\t\t\tvar OParameter = value.split(\"=\"),\r\n\t\t\t\t\t\t\tvKey = OParameter[0],\r\n\t\t\t\t\t\t\tvValue = OParameter[1];\r\n\t\t\t\t\t\toGroupItems.forEach(function(item){\r\n\t\t\t\t\t\t\tvar oControl = item.getControl(),\r\n\t\t\t\t\t\t\t\toMetadata = oControl.getMetadata();\r\n\t\t\t\t\t\t\tif(oMetadata._sClassName.includes(\"Date\") && oControl.getId().includes(vKey)){\r\n\t\t\t\t\t\t\t\toControl.setDateValue(new Date(vValue.substr(0,10)));\r\n\t\t\t\t\t\t\t}else if(oControl.getId().includes(vKey)){\r\n\t\t\t\t\t\t\t\toControl.setValue(vValue);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t});\r\n\t\t\t\t}.bind(this))*/\r\n\r\n\t\t},\r\n\t\t_setFilterDataCreate: function() {\r\n\t\t\tvar oFilter = this.getView().byId(\"smartFilterBar\"),\r\n\t\t\t\toDataCreate = sap.ui.getCore().getModel(\"modelCreateTrx\") ? sap.ui.getCore().getModel(\"modelCreateTrx\").getData() : {};\r\n\t\t\tif (oDataCreate.Retailstoreid) {\r\n\t\t\t\toFilter.setFilterData(oDataCreate);\r\n\t\t\t\toFilter.fireSearch();\r\n\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\tsap.ui.getCore().setModel(new JSONModel(), \"modelCreateTrx\");\r\n\t\t\t\t}.bind(this), 100);\r\n\r\n\t\t\t}\r\n\r\n\t\t},\r\n\t\t/* =========================================================== */\r\n\t\t/* event handlers                                              */\r\n\t\t/* =========================================================== */\r\n\r\n\t\t/**\r\n\t\t * Triggered by the table's 'updateFinished' event: after new table\r\n\t\t * data is available, this handler method updates the table counter.\r\n\t\t * This should only happen if the update was successful, which is\r\n\t\t * why this handler is attached to 'updateFinished' and not to the\r\n\t\t * table's list binding's 'dataReceived' method.\r\n\t\t * @param {sap.ui.base.Event} oEvent the update finished event\r\n\t\t * @public\r\n\t\t */\r\n\t\tonUpdateFinished: function(oEvent) {\r\n\t\t\t// update the worklist's object counter after the table update\r\n\t\t\tvar sTitle,\r\n\t\t\t\toTable = oEvent.getSource(),\r\n\t\t\t\tiTotalItems = oEvent.getParameter(\"total\");\r\n\t\t\t// only update the counter if the length is final and\r\n\t\t\t// the table is not empty\r\n\t\t\tif (iTotalItems && oTable.getBinding(\"items\").isLengthFinal()) {\r\n\t\t\t\tsTitle = this.getResourceBundle().getText(\"worklistTableTitleCount\", [iTotalItems]);\r\n\t\t\t} else {\r\n\t\t\t\tsTitle = this.getResourceBundle().getText(\"worklistTableTitle\");\r\n\t\t\t}\r\n\t\t\tthis.getModel(\"worklistView\").setProperty(\"/worklistTableTitle\", sTitle);\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Event handler when a table item gets pressed\r\n\t\t * @param {sap.ui.base.Event} oEvent the table selectionChange event\r\n\t\t * @public\r\n\t\t */\r\n\t\tonPress: function(oEvent) {\r\n\t\t\t// The source is the list item that got pressed\r\n\t\t\tthis._showObject(oEvent.getSource());\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Event handler when the share in JAM button has been clicked\r\n\t\t * @public\r\n\t\t */\r\n\t\tonShareInJamPress: function() {\r\n\t\t\tvar oViewModel = this.getModel(\"worklistView\"),\r\n\t\t\t\toShareDialog = sap.ui.getCore().createComponent({\r\n\t\t\t\t\tname: \"sap.collaboration.components.fiori.sharing.dialog\",\r\n\t\t\t\t\tsettings: {\r\n\t\t\t\t\t\tobject: {\r\n\t\t\t\t\t\t\tid: location.href,\r\n\t\t\t\t\t\t\tshare: oViewModel.getProperty(\"/shareOnJamTitle\")\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\toShareDialog.open();\r\n\t\t},\r\n\r\n\t\tonSearch: function(oEvent) {\r\n\t\t\tif (oEvent.getParameters().refreshButtonPressed) {\r\n\t\t\t\t// Search field's 'refresh' button has been pressed.\r\n\t\t\t\t// This is visible if you select any master list item.\r\n\t\t\t\t// In this case no new search is triggered, we only\r\n\t\t\t\t// refresh the list binding.\r\n\t\t\t\tthis.onRefresh();\r\n\t\t\t} else {\r\n\t\t\t\tvar aTableSearchState = [];\r\n\t\t\t\tvar sQuery = oEvent.getParameter(\"query\");\r\n\r\n\t\t\t\tif (sQuery && sQuery.length > 0) {\r\n\t\t\t\t\taTableSearchState = [new Filter(\"Workstationid\", FilterOperator.Contains, sQuery)];\r\n\t\t\t\t}\r\n\t\t\t\tthis._applySearch(aTableSearchState);\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Event handler for refresh event. Keeps filter, sort\r\n\t\t * and group settings and refreshes the list binding.\r\n\t\t * @public\r\n\t\t */\r\n\t\tonRefresh: function() {\r\n\t\t\tvar oTable = this.byId(\"table\");\r\n\t\t\toTable.getBinding(\"items\").refresh();\r\n\t\t},\r\n\r\n\t\t/* =========================================================== */\r\n\t\t/* internal methods                                            */\r\n\t\t/* =========================================================== */\r\n\r\n\t\t/**\r\n\t\t * Shows the selected item on the object page\r\n\t\t * On phones a additional history entry is created\r\n\t\t * @param {sap.m.ObjectListItem} oItem selected Item\r\n\t\t * @private\r\n\t\t */\r\n\t\t_showObject: function(oItem) {\r\n\t\t\tthis.getRouter().navTo(\"object\", {\r\n\t\t\t\tobjectId: oItem.getBindingContext().getProperty(\"Transactions\")\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Internal helper method to apply both filter and search state together on the list binding\r\n\t\t * @param {sap.ui.model.Filter[]} aTableSearchState An array of filters for the search\r\n\t\t * @private\r\n\t\t */\r\n\t\t_applySearch: function(aTableSearchState) {\r\n\t\t\tvar oTable = this.byId(\"table\"),\r\n\t\t\t\toViewModel = this.getModel(\"worklistView\");\r\n\t\t\toTable.getBinding(\"items\").filter(aTableSearchState, \"Application\");\r\n\t\t\t// changes the noDataText of the list in case there are no filter results\r\n\t\t\tif (aTableSearchState.length !== 0) {\r\n\t\t\t\toViewModel.setProperty(\"/tableNoDataText\", this.getResourceBundle().getText(\"worklistNoDataWithSearchText\"));\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t//ACCIONES\r\n\t\tonCreate: function(oEvent) {\r\n\t\t\t/*this.getView().setBusy(true);\r\n\t\t\tthis.getView().getModel().callFunction(\"/createInstance\", {\r\n\t\t\t\tmethod: \"POST\",\r\n\t\t\t\turlParameters: {\r\n\t\t\t\t\tResultIsActiveEntity: false,\r\n\t\t\t\t\tOperatorid: \"\"\r\n\t\t\t\t},\r\n\t\t\t\tsuccess: function(data, resp) {\r\n\t\t\t\t\tif (resp.statusCode.startsWith(\"2\") && data.Transactions !== \"\") {\r\n\t\t\t\t\t\tvar mBindPath = \"Head(Transactions='\" + encodeURIComponent(data.Transactions) + \"',IsActiveEntity=false)\";\r\n\t\t\t\t\t\tthis.getRouter().navTo(\"object\", {\r\n\t\t\t\t\t\t\tobjectId: mBindPath,\r\n\t\t\t\t\t\t\tactionC: \"C\"\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tsap.m.MessageBox.error(\"Error creando el registros de borrador\");\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.getView().setBusy(false);\r\n\t\t\t\t}.bind(this),\r\n\t\t\t\terror: function(error) {\r\n\t\t\t\t\tsap.m.MessageBox.error(\"Error creando el registros de borrador\");\r\n\t\t\t\t\tthis.getView().setBusy(false);\r\n\t\t\t\t}.bind(this)\r\n\t\t\t});*/\r\n\t\t\tthis.getRouter().navTo(\"object\", {\r\n\t\t\t\tobjectId: 'C',\r\n\t\t\t\tactionC: \"C\"\r\n\t\t\t});\r\n\t\t},\r\n\t\tonBeforeRebindTable: function(oEvent) {\r\n\t\t\t/*\tvar mBindingParams = oEvent.getParameter(\"bindingParams\");\r\n\t\t\t\tmBindingParams.filters.push(\r\n\t\t\t\t\tnew sap.ui.model.Filter(\r\n\t\t\t\t\t\t\"IsActiveEntity\",\r\n\t\t\t\t\t\tsap.ui.model.FilterOperator.EQ,\r\n\t\t\t\t\t\ttrue\r\n\t\t\t\t\t)\r\n\t\t\t\t);\r\n\t\t\t\tmBindingParams.filters.push(\r\n\t\t\t\t\tnew sap.ui.model.Filter(\r\n\t\t\t\t\t\t\"IsActiveEntity\",\r\n\t\t\t\t\t\tsap.ui.model.FilterOperator.EQ,\r\n\t\t\t\t\t\tfalse\r\n\t\t\t\t\t)\r\n\t\t\t\t);*/\r\n\t\t},\r\n\t\t_onNavigate: function(pStoreid, pDate, pIndex, pTransNumber, pWorkstation, pActive) {\r\n\t\t\tvar vRoute = \"Head(Retailstoreid='\" + pStoreid.padStart(10, \"0\") +\r\n\t\t\t\t\"',Businessdaydate=datetime'\" + pDate +\r\n\t\t\t\t\"',Transindex=\" + pIndex + \",Transnumber='\" + pTransNumber +\r\n\t\t\t\t\"',Workstationid='\" + pWorkstation + \"',IsActiveEntity=\" + pActive + \")\";\r\n\t\t\tif (sap.ushell.Container) {\r\n\t\t\t\tvar oFilterData = this.byId(\"smartFilterBar\").getFilterData();\r\n\t\t\t\tsessionStorage.setItem(\"filtrosAltaTrx\", JSON.stringify(oFilterData));\r\n\t\t\t\tsap.ushell.Container\r\n\t\t\t\t\t.getService(\"CrossApplicationNavigation\")\r\n\t\t\t\t\t.toExternal({\r\n\t\t\t\t\t\ttarget: {\r\n\t\t\t\t\t\t\tsemanticObject: \"zconsultrx\",\r\n\t\t\t\t\t\t\taction: \"manage\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tappSpecificRoute: vRoute\r\n\t\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\t\tonRowSelectTable1: function(oEvent) {\r\n\r\n\t\t\tvar oBindContext = oEvent.getSource().getBindingContext(), //oEvent.getParameter(\"listItem\").getBindingContext(),\r\n\t\t\t\toPath = oBindContext.getPath().substring(1, oBindContext.getPath().length),\r\n\t\t\t\toNav = sap.ushell.Container.getService(\"CrossApplicationNavigation\"),\r\n\t\t\t\toModel = this.getModel();\r\n\t\t\tvar oFilterData = this.byId(\"smartFilterBar\").getFilterData();\r\n\t\t\tsessionStorage.setItem(\"filtrosAltaTrx\", JSON.stringify(oFilterData));\r\n\t\t\tthis.getView().byId(\"table\").removeSelections();\r\n\t\t\tthis.getView().setBusy(true);\r\n\t\t\toModel.read(\"/\" + oPath, {\r\n\t\t\t\tsuccess: function(data, resp) {\r\n\t\t\t\t\tthis.getView().setBusy(false);\r\n\t\t\t\t\tvar vRetailstoreid = data.Retailstoreid,\r\n\t\t\t\t\t\tvDate = data.Businessdaydate.toISOString().replaceAll(\"T00:00:00.000Z\", \"T00%3A00%3A00\"),\r\n\t\t\t\t\t\tvTransindext = data.Transindex,\r\n\t\t\t\t\t\toshellHash =\r\n\t\t\t\t\t\t\"#zconsultrx-manage&/Head(Retailstoreid='\" + vRetailstoreid + \"',Businessdaydate=datetime'\" + vDate + \"',Transindex=\" +\r\n\t\t\t\t\t\tvTransindext +\r\n\t\t\t\t\t\t\",IsActiveEntity=true)\";\r\n\t\t\t\t\toNav.toExternal({\r\n\t\t\t\t\t\ttarget: {\r\n\t\t\t\t\t\t\tshellHash: oshellHash\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}.bind(this),\r\n\t\t\t\terror: function(rest) {\r\n\t\t\t\t\tthis.getView().setBusy(false);\r\n\t\t\t\t}.bind(this)\r\n\t\t\t});\r\n\t\t\t/*\t\t\tif (oBindContext.getPath().split(\"=\")[2].includes(\"false\")) {\r\n\t\t\t\t\t\t\tthis.getRouter().navTo(\"object\", {\r\n\t\t\t\t\t\t\t\tobjectId: oPath,\r\n\t\t\t\t\t\t\t\tactionC: \"V\"\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t} else if (sap.ushell.Container && oNav) {\r\n\t\t\t\t\t\t\tthis.getView().setBusy(true);\r\n\t\t\t\t\t\t\toModel.read(\"/\" + oPath, {\r\n\t\t\t\t\t\t\t\tsuccess: function(data, resp) {\r\n\t\t\t\t\t\t\t\t\tthis.getView().setBusy(false);\r\n\t\t\t\t\t\t\t\t\tvar vRetailstoreid = data.Retailstoreid,\r\n\t\t\t\t\t\t\t\t\t\tvDate = data.Businessdaydate.toISOString().replaceAll(\"T00:00:00.000Z\", \"T00%3A00%3A00\"),\r\n\t\t\t\t\t\t\t\t\t\tvTransindext = data.Transindex,\r\n\t\t\t\t\t\t\t\t\t\toshellHash =\r\n\t\t\t\t\t\t\t\t\t\t\"#zconsultrx-manage&/Head(Retailstoreid='\" + vRetailstoreid + \"',Businessdaydate=datetime'\" + vDate + \"',Transindex=\" +\r\n\t\t\t\t\t\t\t\t\t\tvTransindext +\r\n\t\t\t\t\t\t\t\t\t\t\",IsActiveEntity=true)\";\r\n\t\t\t\t\t\t\t\t\toNav.toExternal({\r\n\t\t\t\t\t\t\t\t\t\ttarget: {\r\n\t\t\t\t\t\t\t\t\t\t\tshellHash: oshellHash\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t}.bind(this),\r\n\t\t\t\t\t\t\t\terror: function(rest) {\r\n\t\t\t\t\t\t\t\t\tthis.getView().setBusy(false);\r\n\t\t\t\t\t\t\t\t}.bind(this)\r\n\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t}\r\n\t\t\t*/\r\n\r\n\t\t},\r\n\r\n\t\tonRowSelectTable2: function(oEvent) {\r\n\t\t\tvar oBindContext = oEvent.getSource().getBindingContext(), //oEvent.getParameter(\"listItem\").getBindingContext(),\r\n\t\t\t\toPath = oBindContext.getPath().substring(1, oBindContext.getPath().length),\r\n\t\t\t\toNav = sap.ushell.Container.getService(\"CrossApplicationNavigation\"),\r\n\t\t\t\toModel = this.getModel();\r\n\r\n\t\t\tthis.getView().byId(\"table\").removeSelections();\r\n\t\t\tthis.getView().setBusy(true);\r\n\r\n\t\t\toModel.read(\"/\" + oPath, {\r\n\t\t\t\tsuccess: function(data, resp) {\r\n\t\t\t\t\tthis.getView().setBusy(false);\r\n\t\t\t\t\tvar vRetailstoreid = data.Retailstoreid,\r\n\t\t\t\t\t\tvDate = data.Businessdaydate.toISOString().replaceAll(\"T00:00:00.000Z\", \"T00%3A00%3A00\"),\r\n\t\t\t\t\t\tvTransindex = data.Transindex,\r\n\t\t\t\t\t\t//     oshellHash =\r\n\t\t\t\t\t\t//     \"#zconsultrx-manage&/Head(Retailstoreid='\" + vRetailstoreid + \"',Businessdaydate=datetime'\" + vDate + \"',Transindex=\" +\r\n\t\t\t\t\t\t//     vTransindex +\r\n\t\t\t\t\t\t//     \",IsActiveEntity=true)\";\r\n\t\t\t\t\t\t// oNav.toExternal({\r\n\t\t\t\t\t\t//     target: {\r\n\t\t\t\t\t\t//         shellHash: oshellHash\r\n\t\t\t\t\t\t//     }\r\n\t\t\t\t\t\t// });\r\n\r\n\t\t\t\t\t\toModelHead = new sap.ui.model.odata.ODataModel(\"/sap/opu/odata/sap/ZCAR_SB_CDS_TRANS_HEAD/\", true);\r\n\t\t\t\t\tvar oFilters = [\r\n\t\t\t\t\t\tnew sap.ui.model.Filter(\"Retailstoreid\", sap.ui.model.FilterOperator.EQ, vRetailstoreid.padStart(10, \"0\")),\r\n\t\t\t\t\t\tnew sap.ui.model.Filter(\"Businessdaydate\", sap.ui.model.FilterOperator.EQ, data.Businessdaydate),\r\n\t\t\t\t\t\tnew sap.ui.model.Filter(\"Transindex\", sap.ui.model.FilterOperator.EQ, vTransindex)\r\n\t\t\t\t\t];\r\n\r\n\t\t\t\t\toModelHead.read(\"/Head\", {\r\n\t\t\t\t\t\tfilters: oFilters,\r\n\t\t\t\t\t\turlParameters: {\r\n\t\t\t\t\t\t\t\"$expand\": \"DraftAdministrativeData\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tsuccess: function(data, resp) {\r\n\t\t\t\t\t\t\tvar isActive = true,\r\n\t\t\t\t\t\t\t\tvUserDraft = \"\",\r\n\t\t\t\t\t\t\t\tvUserLogin = sap.ushell.Container.getService(\"UserInfo\").getUser().getId(),\r\n\t\t\t\t\t\t\t\tvFullNameLogin = sap.ushell.Container.getService(\"UserInfo\").getUser().getFullName();\r\n\t\t\t\t\t\t\tdata.results.forEach(function(item) {\r\n\t\t\t\t\t\t\t\tif (item.DraftAdministrativeData) {\r\n\t\t\t\t\t\t\t\t\tisActive = false;\r\n\t\t\t\t\t\t\t\t\tvUserDraft = item.DraftAdministrativeData.CreatedByUser;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tif (vUserDraft === vUserLogin || vUserDraft === \"\") {\r\n\t\t\t\t\t\t\t\tthis._onNavigate(\r\n\t\t\t\t\t\t\t\t\tdata.results[0].Retailstoreid,\r\n\t\t\t\t\t\t\t\t\tvDate,\r\n\t\t\t\t\t\t\t\t\tdata.results[0].Transindex,\r\n\t\t\t\t\t\t\t\t\tdata.results[0].Transnumber,\r\n\t\t\t\t\t\t\t\t\tdata.results[0].Workstationid,\r\n\t\t\t\t\t\t\t\t\tisActive);\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tsap.m.MessageBox.alert(\"La transacción esta siendo editada por usuario: \" + vUserDraft + \", ¿Desea visualizar?\", {\r\n\t\t\t\t\t\t\t\t\tactions: [sap.m.MessageBox.Action.OK, sap.m.MessageBox.Action.CANCEL],\r\n\t\t\t\t\t\t\t\t\tonClose: function(sAction) {\r\n\t\t\t\t\t\t\t\t\t\tif (sAction === \"OK\") {\r\n\t\t\t\t\t\t\t\t\t\t\tthis._onNavigate(\r\n\t\t\t\t\t\t\t\t\t\t\t\tdata.results[0].Retailstoreid,\r\n\t\t\t\t\t\t\t\t\t\t\t\tvDate,\r\n\t\t\t\t\t\t\t\t\t\t\t\tdata.results[0].Transindex,\r\n\t\t\t\t\t\t\t\t\t\t\t\tdata.results[0].Transnumber,\r\n\t\t\t\t\t\t\t\t\t\t\t\tdata.results[0].Workstationid, !isActive);\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}.bind(this),\r\n\t\t\t\t\t\t\t\t\tdependentOn: this.getView()\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}.bind(this),\r\n\t\t\t\t\t\terror: function(err) {\r\n\t\t\t\t\t\t\tthis.getView().setBusy(false);\r\n\t\t\t\t\t\t\tsap.m.MessageToast.show(\"Error al leer los datos de la cabecera.\");\r\n\t\t\t\t\t\t}.bind(this)\r\n\t\t\t\t\t});\r\n\t\t\t\t}.bind(this),\r\n\t\t\t\terror: function(err) {\r\n\t\t\t\t\tthis.getView().setBusy(false);\r\n\t\t\t\t\tsap.m.MessageToast.show(\"Error al leer los datos de la transacción.\");\r\n\t\t\t\t}.bind(this)\r\n\t\t\t});\r\n\r\n\t\t\treturn true;\r\n\t\t},\r\n\r\n\t\tonRowSelectTable: function(oEvent) {\r\n\t\t\tvar oBindContext = oEvent.getSource().getBindingContext(), //oEvent.getParameter(\"listItem\").getBindingContext(),\r\n\t\t\t\toPath = oBindContext.getPath().substring(1, oBindContext.getPath().length),\r\n\t\t\t\toNav = sap.ushell.Container.getService(\"CrossApplicationNavigation\"),\r\n\t\t\t\toModel = this.getModel(),\r\n\t\t\t\toObject = oBindContext.getObject(),\r\n\t\t\t\toSplit = oPath.split(\"'\"),\r\n\t\t\t\tvDate = oObject.Auditbusinessdaydate.toISOString().replaceAll(\"T00:00:00.000Z\", \"T00%3A00%3A00\");\r\n\t\t\tvar oFilterData = this.byId(\"smartFilterBar\").getFilterData();\r\n\t\t\tsessionStorage.setItem(\"filtrosAltaTrx\", JSON.stringify(oFilterData));\r\n\t\t\tthis.getView().byId(\"table\").removeSelections();\r\n\t\t\tthis.getView().setBusy(true);\r\n\t\t\toModel.read(oBindContext.getPath(), {\r\n\t\t\t\tsuccess: function(data) {\r\n\t\t\t\t\tvDate = data.Businessdaydate.toISOString().replaceAll(\"T00:00:00.000Z\", \"T00%3A00%3A00\");\r\n\t\t\t\t\tthis._onNavigateWithoutDraft(\r\n\t\t\t\t\t\tdata.Retailstoreid,\r\n\t\t\t\t\t\tvDate,\r\n\t\t\t\t\t\tdata.Transindex,\r\n\t\t\t\t\t\tdata.Transnumber,\r\n\t\t\t\t\t\tdata.Workstationid);\r\n\t\t\t\t}.bind(this),\r\n\t\t\t\terror: function(resp) {\r\n\t\t\t\t\tthis.getView().setBusy(false);\r\n\t\t\t\t}.bind(this)\r\n\t\t\t});\r\n\r\n\t\t\treturn true;\r\n\t\t},\r\n\t\t_onNavigateWithoutDraft: function(pStoreid, pDate, pIndex, pTransNumber, pWorkstation) {\r\n\t\t\tvar vRoute = \"Head/Head(Retailstoreid='\" + pStoreid +\r\n\t\t\t\t\"',Businessdaydate=datetime'\" + pDate +\r\n\t\t\t\t\"',Transindex=\" + pIndex + \",Transnumber='\" + pTransNumber +\r\n\t\t\t\t\"',Workstationid='\" + pWorkstation + \"')\";\r\n\t\t\tif (sap.ushell.Container) {\r\n\t\t\t\tsap.ushell.Container\r\n\t\t\t\t\t.getService(\"CrossApplicationNavigation\")\r\n\t\t\t\t\t.toExternal({\r\n\t\t\t\t\t\ttarget: {\r\n\t\t\t\t\t\t\tsemanticObject: \"zconsultrx\",\r\n\t\t\t\t\t\t\taction: \"manage\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tappSpecificRoute: vRoute\r\n\t\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tthis.getView().setBusy(false);\r\n\t\t},\r\n\t\tonExecuteBajaTrx: function(oEvent) {\r\n\t\t\tsap.m.MessageBox.alert(this.getResourceBundle().getText(\"txtBoxConfirmBaja\"), {\r\n\t\t\t\tactions: [sap.m.MessageBox.Action.OK, sap.m.MessageBox.Action.CLOSE],\r\n\t\t\t\tonClose: function(sAction) {\r\n\t\t\t\t\tif (sAction === \"OK\") {\r\n\t\t\t\t\t\tthis._onActionConfirm(\"/BajaTransaction\");\r\n\t\t\t\t\t}\r\n\t\t\t\t}.bind(this)\r\n\t\t\t});\r\n\t\t},\r\n\t\t_onActionConfirm: function(pAction) {\r\n\t\t\tvar\r\n\t\t\t\toTable = this.getView().byId(\"table\"),\r\n\t\t\t\toContextSelected = oTable.getSelectedContexts(),\r\n\t\t\t\toModelApp = this.getView().getModel(),\r\n\t\t\t\tmParameters = {\r\n\t\t\t\t\tgroupId: \"foo\",\r\n\t\t\t\t\tsuccess: function(data, resp) {\r\n\t\t\t\t\t\tif (resp.data.__batchResponses.length > 0) {\r\n\t\t\t\t\t\t\tresp.data.__batchResponses.forEach(function(resp) {\r\n\t\t\t\t\t\t\t\tif (resp.response && resp.response.body) {\r\n\t\t\t\t\t\t\t\t\tlet oErrorDetail = JSON.parse(resp.response.body).error.innererror.errordetails;\r\n\t\t\t\t\t\t\t\t\toErrorDetail.forEach(function(detail) {\r\n\t\t\t\t\t\t\t\t\t\tthis.gErrorDetail.push({\r\n\t\t\t\t\t\t\t\t\t\t\tmessage: detail.message,\r\n\t\t\t\t\t\t\t\t\t\t\ttype: detail.severity\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t}.bind(this));\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}.bind(this));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (this.gErrorDetail.length > 0) {\r\n\t\t\t\t\t\t\tthis._FunctionPopUpError(this.gErrorDetail);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.getView().byId(\"smartFilterBar\").fireSearch()\r\n\t\t\t\t\t\t\tsap.m.MessageBox.confirm(this.getResourceBundle().getText(\"txtCondirmAction\"));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.getView().setBusy(false);\r\n\t\t\t\t\t}.bind(this),\r\n\t\t\t\t\terror: function(data, resp) {\r\n\t\t\t\t\t\tthis.getView().setBusy(false);\r\n\t\t\t\t\t}.bind(this)\r\n\t\t\t\t};\r\n\t\t\tthis.gErrorDetail = [];\r\n\r\n\t\t\tif (oContextSelected.length > 0) {\r\n\t\t\t\tlet vPath = oTable.getSelectedContexts()[0].getPath(),\r\n\t\t\t\t\toObject = oTable.getSelectedContexts()[0].getObject(),\r\n\t\t\t\t\toKeys = {};\r\n\t\t\t\tthis.getView().setBusy(true);\r\n\t\t\t\toModelApp.read(vPath, {\r\n\t\t\t\t\tsuccess: function(data) {\r\n\t\t\t\t\t\tthis._callFunction(data, mParameters);\r\n\t\t\t\t\t\tthis.getView().setBusy(false);\r\n\t\t\t\t\t}.bind(this),\r\n\t\t\t\t\terror: function(resp) {\r\n\t\t\t\t\t\tthis.getView().setBusy(false);\r\n\t\t\t\t\t}.bind(this)\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t},\r\n\t\t_callFunction: function(data, mParameters) {\r\n\t\t\tvar oModel = new ODataModel(\"/sap/opu/odata/sap/ZCAR_SB_CDS_TRANS_HEAD_V2/\", true);\r\n\t\t\toModel.setDefaultBindingMode(sap.ui.model.BindingMode.TwoWay);\r\n\t\t\toModel.setUseBatch(true);\r\n\t\t\toModel.setDeferredGroups([\"foo\"]);\r\n\t\t\toModel.callFunction(\"/BajaTransaction\", {\r\n\t\t\t\tmethod: \"POST\",\r\n\t\t\t\turlParameters: {\r\n\t\t\t\t\t\"Retailstoreid\": data.Retailstoreid,\r\n\t\t\t\t\t\"Businessdaydate\": data.Businessdaydate,\r\n\t\t\t\t\t\"Transindex\": parseInt(data.Transindex),\r\n\t\t\t\t\t\"Transnumber\": data.Transnumber,\r\n\t\t\t\t\t\"Workstationid\": data.Workstationid\r\n\t\t\t\t},\r\n\t\t\t\tgroupId: \"foo\"\r\n\t\t\t});\r\n\t\t\toModel.submitChanges(mParameters);\r\n\r\n\t\t},\r\n\t\t_FunctionPopUpError: function(oErrorsList) {\r\n\t\t\tthis.getView().setModel(new JSONModel(oErrorsList), \"ModelErrors\");\r\n\t\t\tif (!this.oDefaultDialog) {\r\n\t\t\t\tthis.oDefaultDialog = new sap.m.Dialog({\r\n\t\t\t\t\ttitle: this.getResourceBundle().getText(\"tableDialogError\"), //\"Errores de ejecución\",\r\n\t\t\t\t\tresizable: false,\r\n\t\t\t\t\tcontent: new sap.m.List({\r\n\t\t\t\t\t\titems: {\r\n\t\t\t\t\t\t\tpath: \"ModelErrors>/\",\r\n\t\t\t\t\t\t\ttemplate: new sap.m.StandardListItem({\r\n\t\t\t\t\t\t\t\ttitle: \"{ModelErrors>message}\",\r\n\t\t\t\t\t\t\t\tinfo: \"{ModelErrors>type}\"\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}),\r\n\t\t\t\t\tbeginButton: new sap.m.Button({\r\n\t\t\t\t\t\ttype: sap.m.ButtonType.Emphasized,\r\n\t\t\t\t\t\ttext: this.getResourceBundle().getText(\"tableDialogOk\"),\r\n\t\t\t\t\t\tpress: function() {\r\n\t\t\t\t\t\t\tthis.oDefaultDialog.close();\r\n\t\t\t\t\t\t}.bind(this)\r\n\t\t\t\t\t})\r\n\t\t\t\t});\r\n\t\t\t\tthis.getView().addDependent(this.oDefaultDialog);\r\n\t\t\t}\r\n\r\n\t\t\tthis.oDefaultDialog.open();\r\n\r\n\t\t}\r\n\r\n\t});\r\n});",
		"app/eci/zcaraltatrx2/controller/Object.controller.js": "/*global location*/\r\nsap.ui.define([\r\n\t\"app/eci/zcaraltatrx2/controller/BaseController\",\r\n\t\"sap/ui/model/json/JSONModel\",\r\n\t\"sap/ui/core/routing/History\",\r\n\t\"app/eci/zcaraltatrx2/model/formatter\",\r\n\t\"sap/ui/core/util/MockServer\",\r\n\t\"sap/ui/model/odata/v2/ODataModel\",\r\n\t\"sap/ui/model/BindingMode\",\r\n\t'sap/m/SearchField',\r\n\t'sap/ui/model/type/String',\r\n\t'sap/ui/table/Column',\r\n\t'sap/ui/model/Sorter'\r\n], function(\r\n\tBaseController,\r\n\tJSONModel,\r\n\tHistory,\r\n\tformatter,\r\n\tMockServer,\r\n\tODataModel,\r\n\tBindingMode,\r\n\tSearchField,\r\n\tTypeString,\r\n\tUIColumn,\r\n\tSorter\r\n) {\r\n\t\"use strict\";\r\n\r\n\treturn BaseController.extend(\"app.eci.zcaraltatrx2.controller.Object\", {\r\n\r\n\t\tformatter: formatter,\r\n\t\tgOpenMessage: true,\r\n\r\n\t\t/* =========================================================== */\r\n\t\t/* lifecycle methods                                           */\r\n\t\t/* =========================================================== */\r\n\r\n\t\t/**\r\n\t\t * Called when the worklist controller is instantiated.\r\n\t\t * @public\r\n\t\t */\r\n\t\tonInit: function() {\r\n\t\t\t// Model used to manipulate control states. The chosen values make sure,\r\n\t\t\t// detail page is busy indication immediately so there is no break in\r\n\t\t\t// between the busy indication for loading the view's meta data\r\n\t\t\tvar iOriginalBusyDelay,\r\n\t\t\t\toViewModel = new JSONModel({\r\n\t\t\t\t\tbusy: true,\r\n\t\t\t\t\tdelay: 0,\r\n\t\t\t\t\tdisplayDate: false,\r\n\t\t\t\t\tdisabled: [],\r\n\t\t\t\t\tZzimptransOrg: \"0.00\",\r\n\t\t\t\t\tminDate: new Date()\r\n\t\t\t\t});\r\n\r\n\t\t\tthis.getRouter().getRoute(\"object\").attachPatternMatched(this._onObjectMatched, this);\r\n\r\n\t\t\t// Store original busy indicator delay, so it can be restored later on\r\n\t\t\tiOriginalBusyDelay = this.getView().getBusyIndicatorDelay();\r\n\t\t\tthis.setModel(oViewModel, \"objectView\");\r\n\t\t\tthis.getOwnerComponent().getModel().metadataLoaded().then(function() {\r\n\t\t\t\t// Restore original busy indicator delay for the object view\r\n\t\t\t\toViewModel.setProperty(\"/delay\", iOriginalBusyDelay);\r\n\t\t\t});\r\n\t\t},\r\n\t\tonAfterRendering: function(oEvent) {\r\n\t\t\tvar oModel = this.getView().getModel();\r\n\t\t\tif (!sap.ui.getCore().getModel(\"FormpagCard\")) {\r\n\t\t\t\tthis.getView().setBusy(true);\r\n\t\t\t\toModel.read(\"/FormpagCard\", {\r\n\t\t\t\t\tsuccess: function(data, resp) {\r\n\t\t\t\t\t\tsap.ui.getCore().setModel(new JSONModel(data.results), \"FormpagCard\");\r\n\t\t\t\t\t\tthis.getView().setBusy(false);\r\n\t\t\t\t\t}.bind(this),\r\n\t\t\t\t\terror: function(error) {\r\n\r\n\t\t\t\t\t}.bind(this)\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\t\tonBeforeRendering: function() {\r\n\t\t\t//Sobreescribir función de navegación hacia atrás\r\n\t\t\t/*\tthis.getOwnerComponent().getService(\"ShellUIService\").then(function(oShellService) {\r\n\t\t\t\t\toShellService.setBackNavigation(function() {\r\n\t\t\t\t\t\tthis._onNavBack();\r\n\t\t\t\t\t}.bind(this));\r\n\t\t\t\t}.bind(this));*/\r\n\r\n\t\t},\r\n\t\t_onNavBack: function(oEvent) {\r\n\t\t\tvar oHistory = History.getInstance(),\r\n\t\t\t\tsPrev = oHistory.getPreviousHash();\r\n\t\t\tif (sPrev !== undefined) {\r\n\t\t\t\twindow.history.go(-1);\r\n\t\t\t} else {\r\n\t\t\t\tthis.getRouter().navTo(\"worklist\");\r\n\t\t\t}\r\n\t\t\t/*this.getView().getModel().callFunction(\"/HeadDiscard\", {\r\n\t\t\t\tmethod: \"POST\",\r\n\t\t\t\turlParameters: {\r\n\t\t\t\t\tTransactions: this.getView().getBindingContext().getProperty().Transactions,\r\n\t\t\t\t\tIsActiveEntity: false\r\n\t\t\t\t},\r\n\t\t\t\tsuccess: function(data, resp) {\r\n\t\t\t\t\tif (resp.statusCode.startsWith(\"2\")) {\r\n\t\t\t\t\t\tthis.getRouter().navTo(\"worklist\");\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tsap.m.MessageBox.error(\"Error borrando el registros de borrador\");\r\n\t\t\t\t\t}\r\n\t\t\t\t}.bind(this),\r\n\t\t\t\terror: function(error) {\r\n\t\t\t\t\tsap.m.MessageBox.error(\"Error borrando el registros de borrador\");\r\n\t\t\t\t}.bind(this)\r\n\t\t\t});*/\r\n\r\n\t\t},\r\n\r\n\t\t/* =========================================================== */\r\n\t\t/* internal methods                                            */\r\n\t\t/* =========================================================== */\r\n\r\n\t\t/**\r\n\t\t * Binds the view to the object path.\r\n\t\t * @function\r\n\t\t * @param {sap.ui.base.Event} oEvent pattern match event in route 'object'\r\n\t\t * @private\r\n\t\t */\r\n\t\t_onObjectMatched: function(oEvent) {\r\n\t\t\tvar sObjectId = oEvent.getParameter(\"arguments\").objectId,\r\n\t\t\t\tsAction = oEvent.getParameter(\"arguments\").actionC,\r\n\t\t\t\toViewModel = this.getModel(\"objectView\");\r\n\t\t\tthis.getView().unbindElement();\r\n\t\t\toViewModel.setProperty(\"/Zzformpag\", \"\");\r\n\t\t\toViewModel.setProperty(\"/ZzformpagText\", \"\");\r\n\t\t\t//Modelo local view\r\n\t\t\tthis.setModel(new JSONModel({\r\n\t\t\t\t//\"Zzimptrans\": \"1245.456\",\r\n\t\t\t\t\"Transtypecode\": \"0101\",\r\n\t\t\t\t\"Businessdaydate\": new Date(),\r\n\t\t\t\t\"Simulate\": \"\",\r\n\t\t\t\t\"Zzimptranscalc\": \"0.00\",\r\n\t\t\t\t\"Actualizarht\": true,\r\n\t\t\t\t\"to_Position\": [],\r\n\t\t\t\t\"to_Positionmp\": []\r\n\t\t\t}), \"modelCreate\");\r\n\t\t\tthis.getView().setBusy(true);\r\n\t\t\tthis.getView().getModel().setSizeLimit(9999);\r\n\t\t\tthis.getView().getModel().refresh();\r\n\t\t\tthis._onValidateForm(true, sAction === \"C\" ? true : false);\r\n\t\t\tthis.getModel().read(\"/Mandatory\", {\r\n\t\t\t\tsuccess: function(data) {\r\n\t\t\t\t\tthis.setModel(new JSONModel(data.results), \"modelField\");\r\n\t\t\t\t\tthis.getView().setBusy(false);\r\n\t\t\t\t\tthis.setMandatoryFieldFromTypeCode(\"0101\");\r\n\t\t\t\t\tthis.getView().byId(\"Businessdaydate-icon\").setVisible(false);\r\n\t\t\t\t}.bind(this)\r\n\t\t\t});\r\n\t\t\t//this._bindView(\"/\" + sObjectId);\r\n\t\t\t/*if (sObjectId === \"C\") {\r\n\t\t\t\tthis.getView().getModel().callFunction(\"/createInstance\", {\r\n\t\t\t\t\tmethod: \"POST\",\r\n\t\t\t\t\turlParameters: {\r\n\t\t\t\t\t\tResultIsActiveEntity: false,\r\n\t\t\t\t\t\tOperatorid: \"\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsuccess: function(data, resp) {\r\n\t\t\t\t\t\tif (resp.statusCode.startsWith(\"2\")) {\r\n\t\t\t\t\t\t\tvar mBindPath = \"/Head(Transactions='\" + encodeURIComponent(data.Transactions)  + \"',IsActiveEntity=false)\";\r\n\t\t\t\t\t\t\tthis.setModel(new JSONModel(data), \"modelCreate\");\r\n\t\t\t\t\t\t\tthis._bindView(mBindPath);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tsap.m.MessageBox.error(\"Error creando el registros de borrador\");\r\n\t\t\t\t\t\t\tthis.getRouter().navTo(\"worklist\");\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}.bind(this),\r\n\t\t\t\t\terror: function(error) {\r\n\t\t\t\t\t\tsap.m.MessageBox.error(\"Error creando el registros de borrador\");\r\n\t\t\t\t\t\tthis.getRouter().navTo(\"worklist\");\r\n\t\t\t\t\t}.bind(this)\r\n\t\t\t\t});\r\n\t\t\t\toViewModel.setProperty(\"/busy\", false);\r\n\t\t\t}*/\r\n\t\t},\r\n\t\t_bindView: function(sObjectPath) {\r\n\t\t\tvar oViewModel = this.getModel(\"objectView\");\r\n\t\t\toViewModel.setProperty(\"/busy\", true);\r\n\t\t\tthis.getView().getModel().setSizeLimit(9999);\r\n\t\t\tthis.getView().bindElement({\r\n\t\t\t\taysnc: false,\r\n\t\t\t\tpath: sObjectPath,\r\n\t\t\t\tparameters: {\r\n\t\t\t\t\texpand: \"to_Position,to_Positionmp\"\r\n\t\t\t\t},\r\n\t\t\t\tevents: {\r\n\t\t\t\t\tchange: this._onBindingChange.bind(this),\r\n\t\t\t\t\tdataRequested: function(oEvent) {}.bind(this),\r\n\t\t\t\t\tdataReceived: function(oEvent) {\r\n\t\t\t\t\t\toViewModel.setProperty(\"/busy\", false);\r\n\t\t\t\t\t}.bind(this)\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\t_onBindingChange: function(oEvent) {\r\n\t\t\tvar oViewModel = this.getModel(\"objectView\"),\r\n\t\t\t\tsBindContextView = this.getView().getBindingContext();\r\n\r\n\t\t\tif (!sBindContextView) {\r\n\t\t\t\toViewModel.setProperty(\"/busy\", false);\r\n\t\t\t\tsap.m.MessageBox.error(\"No se ha creado la instancia satisfactoriamente\", {\r\n\t\t\t\t\tactions: [sap.m.MessageBox.Action.OK, sap.m.MessageBox.Action.CLOSE],\r\n\t\t\t\t\tonClose: function(sAction) {\r\n\t\t\t\t\t\tthis.getRouter().navTo(\"worklist\");\r\n\t\t\t\t\t}.bind(this)\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tvar sBindPropertyPosition = sBindContextView.getObject().to_Position,\r\n\t\t\t\t\tsBindPropertyPositionMP = sBindContextView.getObject().to_Positionmp,\r\n\t\t\t\t\toObjectPosition = [];\r\n\r\n\t\t\t\tthis.getView().byId(\"LineItemsSmartTable\").setEditable(true);\r\n\t\t\t\tthis.getView().byId(\"LineItemsSmartTable\").setTableBindingPath(this.getView().getBindingContext().getPath() + \"/to_Position\");\r\n\t\t\t\tthis.getView().byId(\"LineItemsSmartTableMP\").setEditable(true);\r\n\t\t\t\tthis.getView().byId(\"LineItemsSmartTableMP\").setTableBindingPath(this.getView().getBindingContext().getPath() + \"/to_Positionmp\");\r\n\t\t\t\tif (sBindPropertyPosition.__list) {\r\n\t\t\t\t\tthis.getView().setBusy(true);\r\n\t\t\t\t\toObjectPosition = this._getObjectPosition(sBindPropertyPosition);\r\n\t\t\t\t\tsBindPropertyPosition = oObjectPosition;\r\n\t\t\t\t\tthis.getView().getModel().refresh();\r\n\t\t\t\t\tthis.getView().byId(\"LineItemsSmartTable\").rebindTable(true);\r\n\t\t\t\t}\r\n\t\t\t\tif (sBindPropertyPositionMP.__list) {\r\n\t\t\t\t\toObjectPosition = this._getObjectPosition(sBindPropertyPositionMP);\r\n\t\t\t\t\tsBindPropertyPositionMP = oObjectPosition;\r\n\t\t\t\t\tthis.getView().getModel().refresh();\r\n\t\t\t\t\tthis.getView().byId(\"LineItemsSmartTableMP\").rebindTable(true);\r\n\t\t\t\t}\r\n\t\t\t\toViewModel.setProperty(\"/busy\", false);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonSelectBajaEst: function(oEvent) {\r\n\t\t\tvar oViewModel = this.getModel(\"objectView\"),\r\n\t\t\t\toViewCreate = this.getModel(\"modelCreate\"),\r\n\t\t\t\tvSelected = oEvent.getSource().getSelected(),\r\n\t\t\t\tvPath = oEvent.getSource().getBinding(\"selected\").getPath()\r\n\r\n\t\t\t;\r\n\t\t\tif (vSelected && vPath.includes(\"BajaEst\")) {\r\n\t\t\t\toViewCreate.setProperty(\"/Actualizarht\", !vSelected);\r\n\t\t\t\toViewCreate.setProperty(\"/BajaEst\", vSelected);\r\n\t\t\t} else if (vSelected && vPath.includes(\"Actualizarht\")) {\r\n\t\t\t\toViewCreate.setProperty(\"/Actualizarht\", vSelected);\r\n\t\t\t\toViewCreate.setProperty(\"/BajaEst\", !vSelected);\r\n\t\t\t}\r\n\t\t\toViewCreate.refresh(true);\r\n\t\t},\r\n\r\n\t\tonChangeValue: function(oEvent) {\r\n\t\t\tvar sModel = this.getModel(\"modelCreate\"),\r\n\t\t\t\tsBindPath = oEvent.getSource().getBinding(\"value\") ? oEvent.getSource().getBinding(\"value\").getPath() : oEvent.getSource().getBinding(\r\n\t\t\t\t\t\"selectedKey\").getPath(),\r\n\t\t\t\tsBindDescPath = oEvent.getSource().getBinding(\"description\") ? oEvent.getSource().getBinding(\"description\").getPath() : \"\",\r\n\t\t\t\tsValue = oEvent.getSource().getBinding(\"value\") ? oEvent.getSource().getProperty(\"value\") : oEvent.getParameter(\"selectedItem\").getKey(),\r\n\t\t\t\tsValue2 = \"\",\r\n\t\t\t\toFloatFormat = sap.ui.core.format.NumberFormat.getFloatInstance(),\r\n\t\t\t\toModelView = this.getView().getModel(\"objectView\"),\r\n\t\t\t\toViewData = oModelView.getData(),\r\n\t\t\t\toDateDiabled = oViewData.disabled,\r\n\t\t\t\toCurrentDate = oViewData.minDate ? oViewData.minDate : new Date(),\r\n\t\t\t\tsFindDate;\r\n\t\t\tif (sBindPath === \"/BegintimestampCreate\" || sBindPath === \"/Origbusinessdate\" || sBindPath === \"/Businessdaydate\") {\r\n\t\t\t\tsValue = oEvent.getSource().getDateValue();\r\n\t\t\t\tsValue = sValue;\r\n\t\t\t\tif (sValue && sBindPath === \"/Businessdaydate\") {\r\n\t\t\t\t\tsFindDate = oDateDiabled.find(\r\n\t\t\t\t\t\t(d) => new Date(Date.UTC(sValue.getFullYear(), sValue.getMonth(), sValue.getDate())).toString() ===\r\n\t\t\t\t\t\tnew Date(Date.UTC(d.FperiodoClose.getFullYear(), d.FperiodoClose.getMonth(), d.FperiodoClose.getDate())).toString()\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (\r\n\t\t\t\t\tsValue && sFindDate && sBindPath === \"/Businessdaydate\"\r\n\t\t\t\t) {\r\n\t\t\t\t\toEvent.getSource().setDateValue();\r\n\t\t\t\t\toEvent.getSource().setValueState(\"Error\");\r\n\t\t\t\t\toEvent.getSource().setValueStateText(\"Error - Fecha periodo cerrada\");\r\n\t\t\t\t} else if (!sValue) {\r\n\t\t\t\t\toEvent.getSource().setDateValue();\r\n\t\t\t\t\toEvent.getSource().setValueState(\"Error\");\r\n\t\t\t\t\toEvent.getSource().setValueStateText(\"Error formato de fecha, formato permitido: DD-MM-YYYY\");\r\n\t\t\t\t} else {\r\n\t\t\t\t\toEvent.getSource().setValueState(\"None\");\r\n\t\t\t\t\toEvent.getSource().setValueStateText();\r\n\t\t\t\t}\r\n\t\t\t} else if (sBindPath === \"/Zzimptrans\") {\r\n\t\t\t\t/*var oFormatOptions = oEvent.getSource().getBinding(\"value\").getType().oOutputFormat.oFormatOptions;\r\n\t\t\t\tsValue2 = sValue;\r\n\t\t\t\tsValue = oFloatFormat.parse(sValue).toString();*/\r\n\t\t\t\t//sValue = sValue !== \"\" ? oFloatFormat.parse(sValue).toString() : \"0.00\";\r\n\t\t\t\tsValue =\r\n\t\t\t\t\t(sModel.getProperty(\"/Transtypecode\") === '0102' || sModel.getProperty(\"/Transtypecode\") === '0104') && !sValue.includes(\"-\") ?\r\n\t\t\t\t\t\"-\" + sValue :\r\n\t\t\t\t\t(sModel.getProperty(\"/Transtypecode\") === '0102' || sModel.getProperty(\"/Transtypecode\") === '0104') && sValue.includes(\"-\") ?\r\n\t\t\t\t\tsValue :\r\n\t\t\t\t\tsValue.includes(\"-\") ? sValue.replaceAll(\"-\", \"\") : sValue;\r\n\t\t\t\tsValue = sValue === \"-\" ? \"\" : sValue;\r\n\t\t\t\tvar oFormatOptions = oEvent.getSource().getBinding(\"value\").getType().oOutputFormat.oFormatOptions;\r\n\t\t\t\tif (sValue !== \"\") {\r\n\t\t\t\t\tsValue2 = oFloatFormat.parse(sValue.toString()).toString();\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\t\t\tif (((sBindPath === \"/Zzimptrans\" && !isNaN(sValue2)) || (sBindPath === \"/Zzimptrans\" && sValue === \"\")) || sBindPath !==\r\n\t\t\t\t\"/Zzimptrans\" && !sBindPath === \"/Retailstoreid\") {\r\n\t\t\t\tif (sBindPath === \"/Zzimptrans\") {\r\n\t\t\t\t\tsModel.setProperty(sBindPath,\r\n\t\t\t\t\t\tsValue2);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsModel.setProperty(sBindPath, sValue);\r\n\t\t\t\t}\r\n\t\t\t\toEvent.getSource().setValue(sValue.toString());\r\n\t\t\t\toEvent.getSource().setValueState(\"None\");\r\n\t\t\t} else if (sBindPath === \"/Retailstoreid\" || sBindPath === \"/Origstoreid\") {\r\n\t\t\t\tthis._setValueSuggestion(oEvent, sBindPath, sBindDescPath);\r\n\t\t\t} else if (!sBindPath === \"/Transtypecode\") {\r\n\t\t\t\tsModel.setProperty(sBindPath, \"\");\r\n\t\t\t\toEvent.getSource().setValueState(\"Error\");\r\n\t\t\t\toEvent.getSource().setValueStateText(\"Error valor: \" + sValue);\r\n\t\t\t} else if (sBindPath !== \"/Businessdaydate\" && sBindPath !== \"/BegintimestampCreate\" && sBindPath !== \"/Origbusinessdate\") {\r\n\t\t\t\toEvent.getSource().setValueState(\"None\");\r\n\t\t\t\toEvent.getSource().setValueStateText();\r\n\t\t\t}\r\n\t\t\tif (sBindPath === \"/Transtypecode\") {\r\n\t\t\t\tthis.getView().byId(\"objectStatError\").setVisible(false);\r\n\t\t\t\t//sModel.setProperty(sBindPath, sValue);\r\n\t\t\t\tthis.setMandatoryFieldFromTypeCode(sValue);\r\n\t\t\t\t//this._onValidateForm(true, true);\r\n\t\t\t\tthis.setSignAmountTransation();\r\n\t\t\t}\r\n\t\t\tif (sBindPath === \"/Retailstoreid\") {\r\n\t\t\t\tthis._getUltFechaPeriodCerrada(sValue);\r\n\t\t\t\tthis.getView().byId(\"Businessdaydate-icon\").setVisible(false);\r\n\t\t\t}\r\n\t\t\tthis._setImporteOriginal(oEvent.getSource());\r\n\t\t\tsetTimeout(function() {\r\n\t\t\t\tsModel.refresh(true);\r\n\t\t\t\tthis.getView().byId(\"Businessdaydate-icon\").setVisible(false);\r\n\t\t\t}.bind(this), 100);\r\n\r\n\t\t},\r\n\t\t_setImporteOriginal: function(oObject) {\r\n\t\t\tvar oInput = oObject,\r\n\t\t\t\toContext = oInput.getBindingContext(),\r\n\t\t\t\toBindValue = oInput.getBinding(\"value\"),\r\n\t\t\t\toModel = this.getView().getModel(\"Consulta\"),\r\n\t\t\t\toModelCreate = this.getView().getModel(\"modelCreate\"),\r\n\t\t\t\toCreateData = oModelCreate.getData(),\r\n\t\t\t\toViewModel = this.getModel(\"objectView\"),\r\n\t\t\t\toViewData = oViewModel.getData(),\r\n\t\t\t\tvPath = oBindValue ? oBindValue.getPath() : \"\",\r\n\t\t\t\tvPath = vPath.includes(\"/\") ? vPath.slice(1) : vPath,\r\n\t\t\t\tvStoreid, bBusiness, vTpv, vTrx, vImptrans, oFilters;\r\n\t\t\tif (vPath.includes(\"Origbusinessdate\") || vPath.includes(\"Origstoreid\") || vPath.includes(\"Origwrkstid\") || vPath.includes(\r\n\t\t\t\t\t\"Origtransnumber\") || vPath.includes(\"Zzimptrans\")) {\r\n\t\t\t\tvStoreid = oModelCreate.getProperty(\"/Origstoreid\") ? parseInt(oModelCreate.getProperty(\"/Origstoreid\")).toString() : null;\r\n\t\t\t\tbBusiness = oModelCreate.getProperty(\"/Origbusinessdate\") ? this._convertDateUtc(oModelCreate.getProperty(\"/Origbusinessdate\")) :\r\n\t\t\t\t\tnull;\r\n\t\t\t\tvTpv = oModelCreate.getProperty(\"/Origwrkstid\") ? parseInt(oModelCreate.getProperty(\"/Origwrkstid\")).toString() : null;\r\n\t\t\t\tvTrx = oModelCreate.getProperty(\"/Origtransnumber\") ? parseInt(oModelCreate.getProperty(\"/Origtransnumber\")).toString() : null;\r\n\t\t\t\tvImptrans = oModelCreate.getProperty(\"/Zzimptrans\") ? oModelCreate.getProperty(\"/Zzimptrans\") : null;\r\n\t\t\t\toFilters = [\r\n\t\t\t\t\t\tnew sap.ui.model.Filter(\"Retailstoreid\", sap.ui.model.FilterOperator.EQ, vStoreid),\r\n\t\t\t\t\t\t/*\tnew sap.ui.model.Filter(\"Auditbusinessdaydate\", sap.ui.model.FilterOperator.EQ, bBusiness),*/\r\n\t\t\t\t\t\tnew sap.ui.model.Filter(\"beginFecha\", sap.ui.model.FilterOperator.EQ, bBusiness),\r\n\t\t\t\t\t\tnew sap.ui.model.Filter(\"Workstationid\", sap.ui.model.FilterOperator.EQ, vTpv),\r\n\t\t\t\t\t\tnew sap.ui.model.Filter(\"Transnumber\", sap.ui.model.FilterOperator.EQ, vTrx),\r\n\t\t\t\t\t\tnew sap.ui.model.Filter(\"Transtypecode\", sap.ui.model.FilterOperator.EQ, oModelCreate.getProperty(\"/Transtypecode\").includes(\r\n\t\t\t\t\t\t\t'102') ? \"101\" : \"111\")\r\n\t\t\t\t\t]\r\n\t\t\t\t\t/*if (Math.abs(parseFloat(vImptrans)) > 0) {\r\n\t\t\t\t\t\toFilters.push(new sap.ui.model.Filter(\"Zzimptrans\", sap.ui.model.FilterOperator.EQ, vImptrans.replaceAll('-', '')))\r\n\t\t\t\t\t}*/\r\n\t\t\t\tvar oFechaActual = this._convertDateUtc(new Date()),\r\n\t\t\t\t\toFechaTrx = bBusiness,\r\n\t\t\t\t\tdiff = bBusiness ? oFechaActual - bBusiness : null,\r\n\t\t\t\t\tvDif = bBusiness ? diff / (1000 * 60 * 60 * 24) : null;\r\n\t\t\t\tif (vStoreid && bBusiness && vTpv && vTrx) {\r\n\t\t\t\t\tthis.getView().setBusy(true);\r\n\t\t\t\t\toModel.read(\"/Head\", {\r\n\t\t\t\t\t\tfilters: oFilters,\r\n\t\t\t\t\t\turlParameters: {\r\n\t\t\t\t\t\t\t\"$expand\": \"to_Position\" //,to_PositionMp,to_Typecode,to_PositionRepVale\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tsuccess: function(data) {\r\n\t\t\t\t\t\t\tvar oPosition = [];\r\n\t\t\t\t\t\t\tif (data.results.length > 0) {\r\n\t\t\t\t\t\t\t\toViewModel.setProperty(\"/ZzimptransOrg\", data.results[0].Zzimptotal);\r\n\t\t\t\t\t\t\t\toModelCreate.setProperty(\"/SenDescuento\", data.results[0].SenDescuentoV);\r\n\t\t\t\t\t\t\t\toModelCreate.setProperty(\"/FechaCompromiso\", data.results[0].FechaCompromisoV);\r\n\t\t\t\t\t\t\t\toModelCreate.setProperty(\"/FormaretirMerc\", data.results[0].FormaretirMercV);\r\n\t\t\t\t\t\t\t\toViewModel.setProperty(\"/Zzformpag\", data.results[0].Zzformpagv);\r\n\t\t\t\t\t\t\t\toViewModel.setProperty(\"/ZzformpagText\", data.results[0].zzFormpagvtext);\r\n\t\t\t\t\t\t\t\t//this.getView().byId(\"Zzformpag\").setText(data.results[0].zzFormpagvtext + \" (\" + data.results[0].Zzformpagv + \")\");\r\n\t\t\t\t\t\t\t\tthis.getView().byId(\"Origbusinessdate\").setValueState(\"None\");\r\n\t\t\t\t\t\t\t\tthis.getView().byId(\"Origstoreid\").setValueState(\"None\");\r\n\t\t\t\t\t\t\t\tthis.getView().byId(\"Origwrkstid\").setValueState(\"None\");\r\n\t\t\t\t\t\t\t\tthis.getView().byId(\"Origtransnumber\").setValueState(\"None\");\r\n\t\t\t\t\t\t\t\tthis.getView().byId(\"objectStatError\").setVisible(false);\r\n\t\t\t\t\t\t\t\tif (data.results[0].to_Position && data.results[0].to_Position.results) {\r\n\t\t\t\t\t\t\t\t\tdata.results[0].to_Position.results.forEach(function(item) {\r\n\t\t\t\t\t\t\t\t\t\tdelete item.to_Header;\r\n\t\t\t\t\t\t\t\t\t\toPosition.push({\r\n\t\t\t\t\t\t\t\t\t\t\tRetailnumber: item.Retailnumber,\r\n\t\t\t\t\t\t\t\t\t\t\tRetailnumberView: item.Retailnumber,\r\n\t\t\t\t\t\t\t\t\t\t\tZzcoddpto: item.Zzcoddpto,\r\n\t\t\t\t\t\t\t\t\t\t\tZzarthost: item.Zzarthost,\r\n\t\t\t\t\t\t\t\t\t\t\tZztalla: item.Zztalla,\r\n\t\t\t\t\t\t\t\t\t\t\tRetailquantity: item.Retailquantity,\r\n\t\t\t\t\t\t\t\t\t\t\tZzecunimed: item.Zzecunimed,\r\n\t\t\t\t\t\t\t\t\t\t\tSalesamount: item.Salesamount,\r\n\t\t\t\t\t\t\t\t\t\t\tZzlvimpneto: item.Zzlvimpneto,\r\n\t\t\t\t\t\t\t\t\t\t\tZzlvimpbruto: item.Zzlvimpbruto,\r\n\t\t\t\t\t\t\t\t\t\t\tZzCalifArtic: item.ZzCalifArtic,\r\n\t\t\t\t\t\t\t\t\t\t\tZzcampoc: item.Zzcampoc === \"\" ? '0' : item.Zzcampoc\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t}.bind(this));\r\n\t\t\t\t\t\t\t\t\toModelCreate.setProperty(\"/to_Position\", oPosition)\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t/*sap.m.MessageBox.error(this.getResourceBundle().getText(\"errorOrgNoExist\"));*/\r\n\t\t\t\t\t\t\t\tthis.getView().byId(\"objectStatError\").setVisible(vDif >= 790 ? false : true );\r\n\t\t\t\t\t\t\t\toViewModel.setProperty(\"/ZzimptransOrg\", \"0.00\");\r\n\t\t\t\t\t\t\t\toViewModel.setProperty(\"/Zzformpag\", \"\");\r\n\t\t\t\t\t\t\t\toViewModel.setProperty(\"/ZzformpagText\", \"\");\r\n\t\t\t\t\t\t\t\tdelete oCreateData.SenDescuento;\r\n\t\t\t\t\t\t\t\tdelete oCreateData.FechaCompromiso;\r\n\t\t\t\t\t\t\t\tdelete oCreateData.FormaretirMerc;\r\n\t\t\t\t\t\t\t\tthis.getView().byId(\"Origbusinessdate\").setValueState( vDif >= 790 ? \"None\" : \"Error\");\r\n\t\t\t\t\t\t\t\tthis.getView().byId(\"Origstoreid\").setValueState( vDif >= 790 ? \"None\" : \"Error\");\r\n\t\t\t\t\t\t\t\tthis.getView().byId(\"Origwrkstid\").setValueState( vDif >= 790 ? \"None\" : \"Error\");\r\n\t\t\t\t\t\t\t\tthis.getView().byId(\"Origtransnumber\").setValueState( vDif >= 790 ? \"None\" : \"Error\");\r\n\t\t\t\t\t\t\t\tthis.getView().byId(\"Zzformpag\").setText(\"\");\r\n\t\t\t\t\t\t\t\toModelCreate.setProperty(\"/to_Position\", [])\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\toViewModel.refresh(true);\r\n\t\t\t\t\t\t\toModelCreate.refresh(true);\r\n\t\t\t\t\t\t\tthis.getView().setBusy(false);\r\n\t\t\t\t\t\t}.bind(this)\r\n\t\t\t\t\t})\r\n\t\t\t\t} else {\r\n\t\t\t\t\toViewModel.setProperty(\"/ZzimptransOrg\", \"0.00\")\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t},\r\n\t\t_getUltFechaPeriodCerrada: function(oStore) {\r\n\t\t\tvar oModel = this.getView().getModel(),\r\n\t\t\t\toModelView = this.getView().getModel(\"objectView\");\r\n\t\t\tthis.getView().setBusy(true);\r\n\t\t\tif (!this._oValueHelpCaledar) {\r\n\t\t\t\tthis._oValueHelpCaledar = sap.ui.core.Fragment.load({\r\n\t\t\t\t\tname: \"app.eci.zcaraltatrx2.view.fragments.Calendar\",\r\n\t\t\t\t\tcontroller: this\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\toModel.read(\"/CloseDateStore\", {\r\n\t\t\t\tfilters: [new sap.ui.model.Filter(\"Retailstoreid\", sap.ui.model.FilterOperator.EQ, oStore)],\r\n\t\t\t\tsoert: [new Sorter(\"FperiodoClose\", false)],\r\n\t\t\t\tsuccess: function(data) {\r\n\t\t\t\t\tthis.getView().setBusy(false);\r\n\t\t\t\t\tif (data.results.length > 0) {\r\n\t\t\t\t\t\tvar vDate = data.results[0].FperiodoClose;\r\n\t\t\t\t\t\toModelView.setProperty(\"/minDate\", vDate);\r\n\t\t\t\t\t\toModelView.setProperty(\"/disabled\", data.results);\r\n\t\t\t\t\t\toModelView.refresh(true);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\toModelView.setProperty(\"/minDate\", null);\r\n\t\t\t\t\t\toModelView.setProperty(\"/disabled\", []);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}.bind(this)\r\n\t\t\t})\r\n\t\t},\r\n\t\tonCalendarOpen: function(oEvent) {\r\n\t\t\tvar oButton = oEvent.getSource(),\r\n\t\t\t\toView = this.getView(),\r\n\t\t\t\toModel = this.getView().getModel(\"objectView\");\r\n\t\t\tif (this._oValueHelpCaledar) {\r\n\t\t\t\tthis._oValueHelpCaledar.then(function(oDialog) {\r\n\t\t\t\t\tthis._oValueHelpCaledarDialog = oDialog;\r\n\t\t\t\t\tthis._oValueHelpCaledarDialog.setModel(oModel);\r\n\t\t\t\t\tthis._oValueHelpCaledarDialog.openBy(oButton);\r\n\t\t\t\t}.bind(this));\r\n\t\t\t}\r\n\t\t},\r\n\t\tonHandleCalendarSelect: function(oEvent) {\r\n\t\t\tvar oCalendar = oEvent.getSource(),\r\n\t\t\t\toSelDate = oCalendar.getSelectedDates(),\r\n\t\t\t\toModel = this.getModel(\"modelCreate\"),\r\n\t\t\t\toDate;\r\n\t\t\tif (oSelDate.length > 0) {\r\n\t\t\t\toDate = oSelDate[0].getStartDate();\r\n\t\t\t\toModel.setProperty(\"/Businessdaydate\", oDate);\r\n\t\t\t}\r\n\t\t\toModel.refresh(true);\r\n\t\t\tthis._oValueHelpCaledarDialog.close();\r\n\t\t\tthis.getView().byId(\"Businessdaydate\").setBusy(true);\r\n\t\t\tthis.getView().byId(\"Businessdaydate\").setValueState(\"None\");\r\n\t\t\tsetTimeout(function() {\r\n\t\t\t\tthis.getView().byId(\"Businessdaydate-icon\").setVisible(false);\r\n\t\t\t\tthis.getView().byId(\"Businessdaydate\").setBusy(false);\r\n\t\t\t}.bind(this), 100)\r\n\t\t},\r\n\t\t_getUltFechaPeriodCerrada_old: function(oStore) {\r\n\t\t\tvar oModel = this.getView().getModel(),\r\n\t\t\t\toModelView = this.getView().getModel(\"objectView\");\r\n\t\t\tthis.getView().setBusy(true);\r\n\t\t\toModel.read(\"/StorePeriod\", {\r\n\t\t\t\tfilters: [new sap.ui.model.Filter(\"Retailstoreid\", sap.ui.model.FilterOperator.EQ, oStore)],\r\n\t\t\t\tsuccess: function(data) {\r\n\t\t\t\t\tif (data.results.length > 0) {\r\n\t\t\t\t\t\tvar vDate = data.results[0].FperiodoOpen;\r\n\t\t\t\t\t\toModelView.setProperty(\"/minDate\", vDate);\r\n\t\t\t\t\t\toModelView.refresh(true);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.getView().setBusy(false);\r\n\t\t\t\t}.bind(this)\r\n\t\t\t})\r\n\t\t},\r\n\t\tsetSignAmountTransation: function() {\r\n\t\t\tvar sModel = this.getModel(\"modelCreate\"),\r\n\t\t\t\tsTipeCode = sModel.getProperty(\"/Transtypecode\"),\r\n\t\t\t\toModelData = sModel.getData(),\r\n\t\t\t\tpositions = oModelData.to_Position,\r\n\t\t\t\tpositionsMp = oModelData.to_Positionmp;\r\n\t\t\t//Cabecera\r\n\t\t\toModelData.Zzimptrans = sTipeCode === \"0102\" || sTipeCode === \"0104\" ? (-Math.abs(oModelData.Zzimptrans)).toString() : (Math.abs(\r\n\t\t\t\toModelData.Zzimptrans)).toString();\r\n\t\t\t//Medios de pago\r\n\t\t\tpositionsMp.forEach(function(mp) {\r\n\t\t\t\tmp.Tenderamount = sTipeCode === \"0102\" || sTipeCode === \"0104\" ? (-Math.abs(mp.Tenderamount)).toString() : (Math.abs(mp.Tenderamount))\r\n\t\t\t\t\t.toString();\r\n\t\t\t});\r\n\t\t\t//Linea de venta\r\n\t\t\tpositions.forEach(function(pos) {\r\n\t\t\t\tpos.Salesamount = (Math.abs(pos.Salesamount)).toString();\r\n\t\t\t\tpos.Retailquantity = sTipeCode === \"0102\" ? (-Math.abs(pos.Retailquantity)).toString() : (Math.abs(pos.Retailquantity))\r\n\t\t\t\t\t.toString();\r\n\t\t\t\tpos.Zzlvimpneto = (Math.abs(pos.Zzlvimpneto)).toString();\r\n\t\t\t\tpos.Zzlvimpbruto = sTipeCode === \"0102\" ? (-Math.abs(pos.Zzlvimpbruto)).toString() : (Math.abs(pos.Zzlvimpbruto))\r\n\t\t\t\t\t.toString();\r\n\t\t\t});\r\n\r\n\t\t\tsModel.setData(oModelData);\r\n\t\t\tsModel.refresh(true);\r\n\r\n\t\t},\r\n\t\t_setValueSuggestion: function(oEvent, oBindPath, oBindPathDesc) {\r\n\t\t\tvar oInput = oEvent.getSource(),\r\n\t\t\t\tsModel = this.getModel(\"modelCreate\"),\r\n\t\t\t\toModelView = this.getModel(\"objectView\"),\r\n\t\t\t\toViewData = oModelView.getData(),\r\n\t\t\t\tsValue = oInput.getValue(),\r\n\t\t\t\tvSelectedKey, oObjectItem, oObject, vPath, vPath2;\r\n\t\t\tif (oInput.getSelectedItem() || sValue === \"\" || oInput.getSuggestionItemByKey(oInput.getValue())) {\r\n\r\n\t\t\t\tlet sKey =\r\n\t\t\t\t\toInput.getSelectedKey() !== \"\" ? oInput.getSuggestionItemByKey(oInput.getSelectedKey()).getKey() :\r\n\t\t\t\t\toInput.getValue() !== \"\" ? oInput.getSuggestionItemByKey(oInput.getValue()).getKey() : \"\",\r\n\t\t\t\t\tsText =\r\n\t\t\t\t\toInput.getSelectedKey() !== \"\" ? oInput.getSuggestionItemByKey(oInput.getSelectedKey()).getText() :\r\n\t\t\t\t\toInput.getValue() !== \"\" ? oInput.getSuggestionItemByKey(oInput.getValue()).getText() : \"\";\r\n\r\n\t\t\t\tvSelectedKey = sValue !== \"\" ? sKey : \"\";\r\n\t\t\t\toObjectItem = sValue !== \"\" ? oInput.getSuggestionItemByKey(sKey) : \"\";\r\n\t\t\t\toObject = sValue !== \"\" ? oObjectItem.getBindingContext().getObject() : \"\";\r\n\t\t\t\tvPath = oInput.getBindingContext(\"modelCreate\") ? oInput.getBindingContext(\"modelCreate\").getPath() : \"\";\r\n\t\t\t\toInput.setValueState(\"None\");\r\n\t\t\t\toInput.setValueStateText(\"\");\r\n\t\t\t\tvPath2 = vPath !== \"\" ? vPath.concat(\"/\").concat(oBindPath) : oBindPath;\r\n\t\t\t\tsModel.setProperty(vPath2,\r\n\t\t\t\t\tsValue !== \"\" && oBindPath.includes(\"Zzecunimed\") ? oObject.UnitOfMeasure :\r\n\t\t\t\t\tsValue !== \"\" && oBindPath.includes(\"Medpgsubtip\") ? oObject.Mediopago :\r\n\t\t\t\t\tsValue !== \"\" && oBindPath.includes(\"Retailstoreid\") ? oObject.Retailstoreid :\r\n\t\t\t\t\tsValue !== \"\" && oBindPath.includes(\"Origstoreid\") ? oObject.Retailstoreid : \"\"\r\n\t\t\t\t);\r\n\t\t\t\tif (oBindPathDesc && oBindPathDesc !== \"\") {\r\n\t\t\t\t\tvPath2 = vPath !== \"\" ? vPath.concat(\"/\").concat(oBindPathDesc) : oBindPathDesc;\r\n\t\t\t\t\tsModel.setProperty(vPath2,\r\n\t\t\t\t\t\tsValue !== \"\" && oBindPath.includes(\"Zzecunimed\") ? oObject.UnitOfMeasure_Text :\r\n\t\t\t\t\t\tsValue !== \"\" && oBindPath.includes(\"Medpgsubtip\") ? oObject.Mediopagotext :\r\n\t\t\t\t\t\tsValue !== \"\" && oBindPath.includes(\"Retailstoreid\") ? oObject.RetailstoreidText : \"\"\r\n\r\n\t\t\t\t\t);\r\n\t\t\t\t} else if (oBindPath.includes(\"Origstoreid\")) {\r\n\t\t\t\t\toInput.setDescription(oObject.RetailstoreidText);\r\n\t\t\t\t}\r\n\t\t\t\tif (oBindPath.includes(\"Medpgsubtip\")) {\r\n\t\t\t\t\tthis._getDeterminationFormPag();\r\n\t\t\t\t\tsModel.setProperty(vPath + \"/ZzcodepagoNeg\", sValue !== \"\" ? oObject.Mediopago : \"\");\r\n\t\t\t\t\tsModel.setProperty(vPath + \"/ZzcodpagoDesg\", sValue !== \"\" ? oObject.Desgloce : \"\");\r\n\t\t\t\t\tsModel.setProperty(vPath + \"/Medpgsubtip\", sValue !== \"\" ? oObject.Mediopagosub : \"\");\r\n\t\t\t\t\tsModel.setProperty(vPath + \"/Tipomedpago\", sValue !== \"\" ? oObject.Mediopagosub.substring(0, 3) : \"\");\r\n\t\t\t\t\tsModel.setProperty(vPath + \"/Subtipo\", sValue !== \"\" ? oObject.Mediopagosub.substring(4, 7) : \"\");\r\n\t\t\t\t\tthis._StatusFieldTarjet(oObject, oEvent.getSource())\r\n\t\t\t\t} else if (oBindPath.includes(\"Retailstoreid\")) {\r\n\t\t\t\t\tthis._getUltFechaPeriodCerrada(sKey);\r\n\t\t\t\t\toViewData.displayDate = true;\r\n\t\t\t\t}\r\n\t\t\t\toEvent.getSource().setValueState(\"None\");\r\n\t\t\t\toEvent.getSource().setValueStateText();\r\n\t\t\t\tsModel.refresh(true);\r\n\t\t\t} else if (sValue !== \"\") {\r\n\t\t\t\toInput.setValueState(\"Error\");\r\n\t\t\t\toInput.setValueStateText(\"Indicar valor correcto - Error \");\r\n\t\t\t\tif (oBindPath.includes(\"Retailstoreid\")) {\r\n\t\t\t\t\toViewData.displayDate = false;\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\t\t\toModelView.refresh(true);\r\n\r\n\t\t},\r\n\t\t_StatusFieldTarjet: function(oObjectMedpago, oInputMedPago) {\r\n\t\t\tvar oContext = oInputMedPago.getBindingContext(\"modelCreate\"),\r\n\t\t\t\toCells = oInputMedPago.getParent().getCells(),\r\n\t\t\t\toBindValue,\r\n\t\t\t\toProperty;\r\n\t\t\toCells.forEach(function(cell) {\r\n\t\t\t\toBindValue = cell.getBinding(\"value\");\r\n\t\t\t\toProperty = oBindValue ? oBindValue.getPath() : \"\";\r\n\t\t\t\tif (oProperty === \"Cardnumber\" && oObjectMedpago.Istajeta !== \"\" && oObjectMedpago.Mediopagosub !== \"15400007\") {\r\n\t\t\t\t\tcell.setRequired(oObjectMedpago.Istajeta === \"B\" ? true : false);\r\n\t\t\t\t\tcell.setEnabled(true);\r\n\t\t\t\t} else if (oProperty === \"Cardnumber\") {\r\n\t\t\t\t\tcell.setRequired(false);\r\n\t\t\t\t\tcell.setEnabled(false);\r\n\t\t\t\t}\r\n\t\t\t\tif (oProperty === \"Zzfechacadnac\" && oObjectMedpago.Istajeta !== \"\" && oObjectMedpago.Mediopagosub !== \"15400007\") {\r\n\t\t\t\t\tcell.setRequired(oObjectMedpago.Vindfechavenc === \"O\" ? true : false);\r\n\t\t\t\t\tcell.setEnabled(true);\r\n\t\t\t\t} else if (oProperty === \"Zzfechacadnac\") {\r\n\t\t\t\t\tcell.setRequired(false);\r\n\t\t\t\t\tcell.setEnabled(false);\r\n\t\t\t\t}\r\n\t\t\t\tif (oProperty === \"zzpaypal\" && oObjectMedpago.Mediopagosub === \"15400007\") {\r\n\t\t\t\t\tcell.setRequired(true);\r\n\t\t\t\t\tcell.setEnabled(true);\r\n\t\t\t\t} else if (oProperty === \"zzpaypal\") {\r\n\t\t\t\t\tcell.setRequired(false);\r\n\t\t\t\t\tcell.setEnabled(false);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\tsetMandatoryFieldFromTypeCode: function(pTypeCode) {\r\n\t\t\tvar oModelField = this.getModel(\"modelField\"),\r\n\t\t\t\toTableP = this.getView().byId(\"tablePos\"),\r\n\t\t\t\toTableMp = this.getView().byId(\"tablePosMp\"),\r\n\t\t\t\tvTypeCode = pTypeCode,\r\n\t\t\t\toArray = {},\r\n\t\t\t\toCreateModel = this.getView().getModel(\"modelCreate\"),\r\n\t\t\t\toCreateData = oCreateModel.getData();\r\n\r\n\t\t\tdelete oCreateData.Origbusinessdate;\r\n\t\t\tdelete oCreateData.Origstoreid;\r\n\t\t\tdelete oCreateData.Origwrkstid;\r\n\t\t\tdelete oCreateData.Origtransnumber;\r\n\t\t\tdelete oCreateData.FechaCompromiso;\r\n\t\t\tdelete oCreateData.FormaretirMerc;\r\n\t\t\tthis.getView().byId(\"Origstoreid\").setDescription(\"\");\r\n\r\n\t\t\toModelField.getData().forEach(function(item) {\r\n\t\t\t\tif ((item.Transtypecode.padStart(4, \"0\") === vTypeCode || item.Transtypecode === '') && item.Tipo === \"C\" && this.getView().byId(\r\n\t\t\t\t\t\titem.Fieldname)) {\r\n\t\t\t\t\tthis.getView().byId(item.Fieldname).setRequired(true);\r\n\t\t\t\t\toArray[item.Fieldname] = true;\r\n\t\t\t\t} else if ((item.Transtypecode.padStart(4, \"0\") !== vTypeCode) && item.Tipo === \"C\" && this.getView().byId(item.Fieldname) && !\r\n\t\t\t\t\toArray[item.Fieldname]) {\r\n\t\t\t\t\tthis.getView().byId(item.Fieldname).setRequired(false);\r\n\t\t\t\t}\r\n\t\t\t}.bind(this));\r\n\t\t\toArray = {};\r\n\t\t\toTableMp.getRows().forEach(function(row) {\r\n\t\t\t\trow.getCells().forEach(function(cell) {\r\n\t\t\t\t\tif (cell.getBinding(\"value\")) {\r\n\t\t\t\t\t\tvar sPath = cell.getBinding(\"value\").getPath();\r\n\t\t\t\t\t\tvar sField = oModelField.getData().filter(field => field.Fieldname === sPath && field.Tipo === \"T\" && (field.Transtypecode.padStart(\r\n\t\t\t\t\t\t\t\t4, \"0\") ===\r\n\t\t\t\t\t\t\tvTypeCode || field.Transtypecode === ''));\r\n\t\t\t\t\t\tif (sField.length && sField.length > 0) {\r\n\t\t\t\t\t\t\tcell.setRequired(true);\r\n\t\t\t\t\t\t\toArray[sPath] = true;\r\n\t\t\t\t\t\t} else if (!oArray[sPath]) {\r\n\t\t\t\t\t\t\tcell.setRequired(false);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}.bind(this));\r\n\t\t\t}.bind(this));\r\n\t\t\toArray = {};\r\n\t\t\toTableP.getRows().forEach(function(row) {\r\n\t\t\t\trow.getCells().forEach(function(cell) {\r\n\t\t\t\t\tif (cell.getBinding(\"value\")) {\r\n\t\t\t\t\t\tvar sPath = cell.getBinding(\"value\").getPath();\r\n\t\t\t\t\t\tvar sField = oModelField.getData().filter(field => field.Fieldname === sPath && field.Tipo === \"P\" && (field.Transtypecode.padStart(\r\n\t\t\t\t\t\t\t\t4, \"0\") ===\r\n\t\t\t\t\t\t\tvTypeCode || field.Transtypecode === ''));\r\n\t\t\t\t\t\tif (sField.length && sField.length > 0) {\r\n\t\t\t\t\t\t\tcell.setRequired(true);\r\n\t\t\t\t\t\t\toArray[sPath] = true;\r\n\t\t\t\t\t\t} else if (!oArray[sPath]) {\r\n\t\t\t\t\t\t\tcell.setRequired(false);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}.bind(this));\r\n\t\t\t}.bind(this));\r\n\t\t},\r\n\t\tonChangeValuePosition: function(oEvent) {\r\n\t\t\tvar sModel = this.getModel(\"modelCreate\"),\r\n\t\t\t\tsInput = oEvent.getParameter(\"changeEvent\") ? oEvent.getParameter(\"changeEvent\").getSource() : oEvent.getSource(),\r\n\t\t\t\tsBindContextView = sInput.getBindingContext(),\r\n\t\t\t\tsBindPath = oEvent.getSource().getBinding(\"value\") ? oEvent.getSource().getBinding(\"value\").getPath() : oEvent.getSource().getBinding(\r\n\t\t\t\t\t\"selectedKey\").getPath(),\r\n\t\t\t\tsBindDescPath = oEvent.getSource().getBinding(\"description\") ? oEvent.getSource().getBinding(\"description\").getPath() : \"\",\r\n\t\t\t\tsValue = oEvent.getSource().getBinding(\"value\") ? oEvent.getParameter(\"newValue\") : oEvent.getParameter(\"selectedItem\").getKey(),\r\n\t\t\t\tsProp = {},\r\n\t\t\t\toFloatFormat = sap.ui.core.format.NumberFormat.getFloatInstance(),\r\n\t\t\t\tvSelectedKey, oObjectItem,\r\n\t\t\t\tvPath = sInput.getBindingContext(\"modelCreate\").getPath(),\r\n\t\t\t\toObject = {},\r\n\t\t\t\tsValue2,\r\n\t\t\t\toDataCreate = sInput.getBindingContext(\"modelCreate\").getModel().getData(),\r\n\t\t\t\toContext = oEvent.getSource().getBindingContext(\"modelCreate\"),\r\n\t\t\t\tvState = \"None\";\r\n\t\t\tif (\r\n\t\t\t\t(sBindPath !== \"Medpgsubtip\" && sBindPath !== \"Zzecunimed\")\r\n\t\t\t) {\r\n\r\n\t\t\t\tif (sBindPath === \"Tenderamount\") {\r\n\t\t\t\t\tsValue =\r\n\t\t\t\t\t\t(sModel.getProperty(\"/Transtypecode\") === '0102' || sModel.getProperty(\"/Transtypecode\") === '0104') && !sValue.includes(\"-\") ?\r\n\t\t\t\t\t\t\"-\" + sValue :\r\n\t\t\t\t\t\t(sModel.getProperty(\"/Transtypecode\") === '0102' || sModel.getProperty(\"/Transtypecode\") === '0104') && sValue.includes(\"-\") ?\r\n\t\t\t\t\t\tsValue :\r\n\t\t\t\t\t\tsValue.includes(\"-\") ? sValue.replaceAll(\"-\", \"\") : sValue;\r\n\t\t\t\t\tsValue = sValue.toString();\r\n\t\t\t\t} else if (sBindPath === \"Retailquantity\") {\r\n\t\t\t\t\tsValue = sModel.getProperty(\"/Transtypecode\") === '0102' ? -sValue :\r\n\t\t\t\t\t\tsValue.includes(\"-\") ? sValue.replaceAll(\"-\", \"\") : sValue;\r\n\t\t\t\t\tsValue = sValue.toString();\r\n\t\t\t\t} else if (sBindPath === \"Salesamount\") {\r\n\t\t\t\t\tsValue = sValue.includes(\"-\") ? sValue.replaceAll(\"-\", \"\") : sValue;\r\n\t\t\t\t\tsValue = sValue.toString();\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (sBindPath === \"Retailquantity\" || sBindPath === \"Salesamount\" || sBindPath === \"Tenderamount\" || sBindPath === \"Zzlvimpneto\" ||\r\n\t\t\t\t\tsBindPath === \"Zzlvimpbruto\") {\r\n\t\t\t\t\tvar oFormatOptions = oEvent.getSource().getBinding(\"value\").getType().oOutputFormat.oFormatOptions;\r\n\t\t\t\t\tsValue2 = oFloatFormat.parse(sValue).toString();\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (sBindPath !== \"Cardnumber\" &&\r\n\t\t\t\t\t(\r\n\t\t\t\t\t\t(\r\n\t\t\t\t\t\t\t((sBindPath === \"Retailquantity\" || sBindPath === \"Salesamount\" || sBindPath === \"Tenderamount\") && !isNaN(sValue2)) ||\r\n\t\t\t\t\t\t\t((sBindPath === \"Retailquantity\" || sBindPath === \"Salesamount\" || sBindPath === \"Tenderamount\") && sValue === \"\")\r\n\t\t\t\t\t\t) ||\r\n\t\t\t\t\t\t!(sBindPath === \"Retailquantity\" || sBindPath === \"Salesamount\" || sBindPath === \"Tenderamount\")\r\n\t\t\t\t\t)\r\n\t\t\t\t) {\r\n\t\t\t\t\tif (sBindPath === \"Retailquantity\" || sBindPath === \"Salesamount\" || sBindPath === \"Tenderamount\") {\r\n\t\t\t\t\t\tsModel.setProperty(vPath + \"/\" + sBindPath, sValue === \"\" ? \"0\" : sValue2);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tsModel.setProperty(vPath + \"/\" + sBindPath, sValue === \"\" ? \"0\" : sValue);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (sBindPath === \"Salesamount\" && (!sModel.getProperty(vPath + \"/Zzlvimpneto\") || parseFloat(sModel.getProperty(vPath +\r\n\t\t\t\t\t\t\t\"/Zzlvimpneto\")) === 0)) {\r\n\t\t\t\t\t\t//Infomrar IMP.NETO e IMP.BRUTO\r\n\t\t\t\t\t\tsModel.setProperty(vPath + \"/Zzlvimpneto\", sValue === \"\" ? \"0\" : sValue2);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (sBindPath === \"Salesamount\" && (!sModel.getProperty(vPath + \"/Zzlvimpbruto\") || parseFloat(sModel.getProperty(vPath +\r\n\t\t\t\t\t\t\t\"/Zzlvimpbruto\")) === 0)) {\r\n\t\t\t\t\t\t//Infomrar IMP.NETO e IMP.BRUTO\r\n\t\t\t\t\t\tsValue2 = sModel.getProperty(\"/Transtypecode\") === '0102' && !sValue2.includes(\"-\") ? -sValue2 : sValue2;\r\n\t\t\t\t\t\tsValue2 = sValue2.toString();\r\n\t\t\t\t\t\tsModel.setProperty(vPath + \"/Zzlvimpbruto\", sValue === \"\" ? \"0\" : sValue2);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (sBindPath === \"Tenderamount\") {\r\n\t\t\t\t\t\t//Actualizar importe calculado total de cabecera      \r\n\t\t\t\t\t\tvar vImporte = 0;\r\n\t\t\t\t\t\toDataCreate.to_Positionmp.forEach(function(item, index) {\r\n\t\t\t\t\t\t\tvImporte = vImporte + parseFloat(item.Tenderamount);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tsModel.setProperty(\"/Zzimptranscalc\", vImporte.toString());\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (sBindPath === \"Zzarthost\" && !isNaN(sValue) === true && sValue.length === 14) {\r\n\t\t\t\t\t\tsModel.setProperty(oContext.getPath() + \"/Zzcoddpto\", Number(sValue.substring(0, 6)).toString().padStart(4, \"0\"), oContext)\r\n\t\t\t\t\t} else if (sBindPath === \"Zzarthost\" && sValue.length > 0) {\r\n\t\t\t\t\t\tsModel.setProperty(oContext.getPath() + \"/Zzcoddpto\", \"\", oContext)\r\n\t\t\t\t\t\tvState = \"Error\"\r\n\t\t\t\t\t}\r\n\t\t\t\t\toEvent.getSource().setValue(sValue.toString());\r\n\t\t\t\t\toEvent.getSource().setValueState(vState);\r\n\t\t\t\t} else if (sBindPath === \"Cardnumber\" || sBindPath === \"Zzfechacadnac\" || sBindPath === \"zzpaypal\") {\r\n\t\t\t\t\t//this.onChangeCardNumber(oEvent);\r\n\t\t\t\t\toEvent.getSource().setValueState(\"None\");\r\n\t\t\t\t}\r\n\t\t\t} else if (sBindPath === \"Medpgsubtip\") { //|| sBindPath === \"Zzecunimed\") {\r\n\t\t\t\tthis._setValueSuggestion(oEvent, sBindPath, sBindDescPath);\r\n\t\t\t} else {\r\n\t\t\t\tsInput.setValueState(\"Error\");\r\n\t\t\t\tsInput.setValueStateText(\"Indicar valor correcto\");\r\n\t\t\t}\r\n\t\t\tsModel.refresh(true);\r\n\t\t},\r\n\t\tonLiveChangeNumber: function(oEvent) {\r\n\t\t\tvar oInput = oEvent.getSource(),\r\n\t\t\t\tvValue = oInput.getValue(),\r\n\t\t\t\tvLength = vValue.length;\r\n\t\t\tif (isNaN(vValue)) {\r\n\t\t\t\toInput.setValue(vLength > 1 ? vValue.substring(0, (vLength - 1)) : \"\");\r\n\t\t\t\toEvent.getSource().setValueState(\"None\");\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\tonChangeCardNumber: function(oEvent) {\r\n\t\t\t/*Validar forma de pago de medio de pago por tarjeta*/\r\n\t\t\t/*\tvar oModelFormCard = sap.ui.getCore().getModel(\"FormpagCard\"),\r\n\t\t\t\t\toDataModelFormCard = oModelFormCard.getData(),\r\n\t\t\t\t\toModel = this.getView().getModel(\"modelCreate\"),\r\n\t\t\t\t\toContext = oEvent.getSource().getBindingContext(\"modelCreate\"),\r\n\t\t\t\t\tvValueCard = oEvent.getSource().getValue(),\r\n\t\t\t\t\tvLengthCard = vValueCard.length.toString(),\r\n\t\t\t\t\toFormPag,\r\n\t\t\t\t\tvLongitud,\r\n\t\t\t\t\tvSubtringCard;\r\n\r\n\t\t\t\toDataModelFormCard.forEach(function(item) {\r\n\t\t\t\t\tif (item.Clongtar === vLengthCard) {\r\n\t\t\t\t\t\tvLongitud = item.Clongide;\r\n\t\t\t\t\t\tvSubtringCard = vValueCard.substr(0, parseInt(vLongitud));\r\n\t\t\t\t\t\tif (parseInt(vSubtringCard) >= parseInt(item.Ciddesde) && parseInt(vSubtringCard) <= parseInt(item.Cidhasta) && !oFormPag) {\r\n\t\t\t\t\t\t\toFormPag = item;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}.bind(this));\r\n\t\t\t\tif (oFormPag) {\r\n\t\t\t\t\toModel.setProperty(oContext.getPath() + \"/ZzcodepagoNeg\", oFormPag.Cforpago, oContext);\r\n\t\t\t\t} else {\r\n\t\t\t\t\toModel.setProperty(oContext.getPath() + \"/ZzcodepagoNeg\", oContext.getObject().Medpgsubtip.substr(6, 2), oContext);\r\n\t\t\t\t}*/\r\n\t\t},\r\n\t\t_getDeterminationFormPag: function() {\r\n\t\t\t//this._callCreateEntity(true);\r\n\t\t\t/*Determinaro forma de pogo por priodidad*/\r\n\t\t\t/*var oModelCreate = this.getModel(\"modelCreate\"),\r\n\t\t\t\toDataCreate = oModelCreate.getData(),\r\n\t\t\t\toModel = this.getModel(),\r\n\t\t\t\tvMediopagotarteja\r\n\t\t\t\t;\r\n\t\t\toDataCreate.to_Positionmp.forEach(function(item) {\r\n\t\t\t\tvMediopagotarteja = !vMediopagotarteja ? item.Medpgsubtip.concat(\",\").concat(item.Cardnumber) : vMediopagotarteja.concat(\",\").concat(item.Medpgsubtip.concat(\",\").concat(item.Cardnumber));                         \r\n\t\t\t});\r\n\t\t\toModel.callFunction(\"/setMediopagoD\",{\r\n\t\t\t\tmethod:\"GET\",\r\n\t\t\t\turlParameters:{\r\n\t\t\t\t\tMediopagotarteja: vMediopagotarteja\r\n\t\t\t\t},\r\n\t\t\t\tsuccess: function(data,resp){\r\n\t\t\t\t\tdebugger;\r\n\t\t\t\t}.bind(this)\r\n\t\t\t});*/\r\n\t\t},\r\n\t\tonValueHelpRequest: function(oEvent) {\r\n\t\t\tvar oInput = oEvent.getSource(),\r\n\t\t\t\tvPathValue = oInput.getSuggestionItems()[0].getBinding(\"key\").getPath(),\r\n\t\t\t\tvPathDesc = oInput.getSuggestionItems()[0].getBinding(\"text\").getPath(),\r\n\t\t\t\tvPathValueHelpEntity = oInput.getBinding(\"suggestionItems\").getPath().slice(1),\r\n\t\t\t\toModel = this.getModel(),\r\n\t\t\t\tvVHEnd = \"\";\r\n\t\t\tthis.gButtonRequest = oInput;\r\n\t\t\tthis._oBasicSearchField = new SearchField();\r\n\t\t\tif (!this._oValueHelpDialogF) {\r\n\t\t\t\tvVHEnd = vPathValue === 'Mediopagosub' ? 'MP' : '';\r\n\t\t\t\tthis._oValueHelpDialogF = sap.ui.core.Fragment.load({\r\n\t\t\t\t\tname: \"app.eci.zcaraltatrx2.view.fragments.ValueHelpDialog\" + vVHEnd,\r\n\t\t\t\t\tcontroller: this\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tthis._oValueHelpDialogF.then(function(oDialog) {\r\n\t\t\t\tvar oFilterBar = oDialog.getFilterBar(),\r\n\t\t\t\t\toColumnProductCode, oColumnProductName;\r\n\t\t\t\tthis._oVHD = oDialog;\r\n\r\n\t\t\t\tvar sFilters = this._oVHD.getFilterBar().getAllFilterItems();\r\n\t\t\t\tsFilters.forEach(function(filter, index) {\r\n\t\t\t\t\tif (index === 0) {\r\n\t\t\t\t\t\tfilter.setName()\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\tthis._oVHD.setTitle(oModel.getObject(\"/#\" + vPathValueHelpEntity + \"Type/\" + vPathValue + \"/@sap:label\"));\r\n\t\t\t\tthis._oVHD.setKey(vPathValue);\r\n\t\t\t\tthis._oVHD.setDescriptionKey(vPathDesc);\r\n\t\t\t\tthis.getView().addDependent(oDialog);\r\n\r\n\t\t\t\t// Set key fields for filtering in the Define Conditions Tab\r\n\t\t\t\toDialog.setRangeKeyFields([{\r\n\t\t\t\t\tlabel: oModel.getObject(\"/#\" + vPathValueHelpEntity + \"Type/\" + vPathValue + \"/@sap:label\"),\r\n\t\t\t\t\tkey: vPathValue,\r\n\t\t\t\t\ttype: \"string\",\r\n\t\t\t\t\ttypeInstance: new TypeString({}, {\r\n\t\t\t\t\t\tmaxLength: 7\r\n\t\t\t\t\t})\r\n\t\t\t\t}]);\r\n\r\n\t\t\t\t// Set Basic Search for FilterBar\r\n\t\t\t\t/*oFilterBar.setFilterBarExpanded(false);\r\n\t\t\t\toFilterBar.setBasicSearch(this._oBasicSearchField);*/\r\n\r\n\t\t\t\t// Trigger filter bar search when the basic search is fired\r\n\t\t\t\t/*\tthis._oBasicSearchField.attachSearch(function() {\r\n\t\t\t\t\t\toFilterBar.search();\r\n\t\t\t\t\t});*/\r\n\r\n\t\t\t\toDialog.getTableAsync().then(function(oTable) {\r\n\t\t\t\t\toTable.removeAllColumns();\r\n\t\t\t\t\toTable.setModel(this.oProductsModel);\r\n\t\t\t\t\toTable.setSelectionMode(\"Single\");\r\n\t\t\t\t\t// For Desktop and tabled the default table is sap.ui.table.Table\r\n\t\t\t\t\tif (oTable.bindRows) {\r\n\t\t\t\t\t\t// Bind rows to the ODataModel and add columns\r\n\t\t\t\t\t\toTable.bindAggregation(\"rows\", {\r\n\t\t\t\t\t\t\tpath: \"/\" + vPathValueHelpEntity,\r\n\t\t\t\t\t\t\tevents: {\r\n\t\t\t\t\t\t\t\tdataReceived: function() {\r\n\t\t\t\t\t\t\t\t\toDialog.update();\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tif (vPathValue !== \"Mediopagosub\") {\r\n\t\t\t\t\t\t\toColumnProductCode = new UIColumn({\r\n\t\t\t\t\t\t\t\tlabel: new sap.m.Label({\r\n\t\t\t\t\t\t\t\t\ttext: oModel.getObject(\"/#\" + vPathValueHelpEntity + \"Type/\" + vPathValue + \"/@sap:label\")\r\n\t\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\t\ttemplate: new sap.m.Text({\r\n\t\t\t\t\t\t\t\t\twrapping: false,\r\n\t\t\t\t\t\t\t\t\ttext: \"{\" + vPathValue + \"}\"\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\toColumnProductCode.data({\r\n\t\t\t\t\t\t\t\tfieldName: oModel.getObject(\"/#\" + vPathValueHelpEntity + \"Type/\" + vPathValue + \"/@sap:label\")\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\toColumnProductName = new UIColumn({\r\n\t\t\t\t\t\t\tlabel: new sap.m.Label({\r\n\t\t\t\t\t\t\t\ttext: oModel.getObject(\"/#\" + vPathValueHelpEntity + \"Type/\" + vPathDesc + \"/@sap:label\")\r\n\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\ttemplate: new sap.m.Text({\r\n\t\t\t\t\t\t\t\twrapping: false,\r\n\t\t\t\t\t\t\t\ttext: \"{\" + vPathDesc + \"}\"\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\toColumnProductName.data({\r\n\t\t\t\t\t\t\tfieldName: oModel.getObject(\"/#\" + vPathValueHelpEntity + \"Type/\" + vPathDesc + \"/@sap:label\")\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\toTable.addColumn(oColumnProductCode);\r\n\t\t\t\t\t\toTable.addColumn(oColumnProductName);\r\n\t\t\t\t\t\tif (vPathValue === \"Mediopagosub\") {\r\n\t\t\t\t\t\t\tvar oColumn1 = new UIColumn({\r\n\t\t\t\t\t\t\t\tlabel: new sap.m.Label({\r\n\t\t\t\t\t\t\t\t\ttext: oModel.getObject(\"/#\" + vPathValueHelpEntity + \"Type/\" + \"Tipomp\" + \"/@sap:label\")\r\n\t\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\t\ttemplate: new sap.m.Text({\r\n\t\t\t\t\t\t\t\t\twrapping: false,\r\n\t\t\t\t\t\t\t\t\ttext: \"{\" + \"Tipomp\" + \"}\"\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\toColumn1.data({\r\n\t\t\t\t\t\t\t\tfieldName: oModel.getObject(\"/#\" + vPathValueHelpEntity + \"Type/\" + \"Tipomp\" + \"/@sap:label\")\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tvar oColumn2 = new UIColumn({\r\n\t\t\t\t\t\t\t\tlabel: new sap.m.Label({\r\n\t\t\t\t\t\t\t\t\ttext: oModel.getObject(\"/#\" + vPathValueHelpEntity + \"Type/\" + \"Subtipmp\" + \"/@sap:label\")\r\n\t\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\t\ttemplate: new sap.m.Text({\r\n\t\t\t\t\t\t\t\t\twrapping: false,\r\n\t\t\t\t\t\t\t\t\ttext: \"{\" + \"Subtipmp\" + \"}\"\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\toColumn2.data({\r\n\t\t\t\t\t\t\t\tfieldName: oModel.getObject(\"/#\" + vPathValueHelpEntity + \"Type/\" + \"Subtipmp\" + \"/@sap:label\")\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tvar oColumn3 = new UIColumn({\r\n\t\t\t\t\t\t\t\tlabel: new sap.m.Label({\r\n\t\t\t\t\t\t\t\t\ttext: oModel.getObject(\"/#\" + vPathValueHelpEntity + \"Type/\" + \"Mediopago\" + \"/@sap:label\")\r\n\t\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\t\ttemplate: new sap.m.Text({\r\n\t\t\t\t\t\t\t\t\twrapping: false,\r\n\t\t\t\t\t\t\t\t\ttext: \"{\" + \"Mediopago\" + \"}\"\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\toColumn3.data({\r\n\t\t\t\t\t\t\t\tfieldName: oModel.getObject(\"/#\" + vPathValueHelpEntity + \"Type/\" + \"Mediopago\" + \"/@sap:label\")\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tvar oColumn4 = new UIColumn({\r\n\t\t\t\t\t\t\t\tlabel: new sap.m.Label({\r\n\t\t\t\t\t\t\t\t\ttext: oModel.getObject(\"/#\" + vPathValueHelpEntity + \"Type/\" + \"Desgloce\" + \"/@sap:label\")\r\n\t\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\t\ttemplate: new sap.m.Text({\r\n\t\t\t\t\t\t\t\t\twrapping: false,\r\n\t\t\t\t\t\t\t\t\ttext: \"{\" + \"Desgloce\" + \"}\"\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\toColumn4.data({\r\n\t\t\t\t\t\t\t\tfieldName: oModel.getObject(\"/#\" + vPathValueHelpEntity + \"Type/\" + \"Desgloce\" + \"/@sap:label\")\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t/*\toTable.addColumn(oColumn1);\r\n\t\t\t\t\t\t\t\toTable.addColumn(oColumn2);\r\n\t\t\t\t\t\t\t\toTable.addColumn(oColumn3);\r\n\t\t\t\t\t\t\t\toTable.addColumn(oColumn4);*/\r\n\t\t\t\t\t\t\toTable.addColumn(oColumn3);\r\n\t\t\t\t\t\t\toTable.addColumn(oColumn4);\r\n\t\t\t\t\t\t\toTable.addColumn(oColumn2);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\toDialog.getFilterBar().getAllFilterItems().forEach(function(item) {\r\n\t\t\t\t\t\t\titem.getControl().setValue(\"\");\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// For Mobile the default table is sap.m.Table\r\n\t\t\t\t\tif (oTable.bindItems) {\r\n\t\t\t\t\t\t// Bind items to the ODataModel and add columns\r\n\t\t\t\t\t\toTable.bindAggregation(\"items\", {\r\n\t\t\t\t\t\t\tpath: \"/\" + vPathValueHelpEntity,\r\n\t\t\t\t\t\t\ttemplate: new ColumnListItem({\r\n\t\t\t\t\t\t\t\tcells: [new Label({\r\n\t\t\t\t\t\t\t\t\ttext: \"{\" + vPathValue + \"}\"\r\n\t\t\t\t\t\t\t\t}), new Label({\r\n\t\t\t\t\t\t\t\t\ttext: \"{\" + vPathDesc + \"}\"\r\n\t\t\t\t\t\t\t\t})]\r\n\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\tevents: {\r\n\t\t\t\t\t\t\t\tdataReceived: function() {\r\n\t\t\t\t\t\t\t\t\toDialog.update();\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\toTable.addColumn(new MColumn({\r\n\t\t\t\t\t\t\theader: new Label({\r\n\t\t\t\t\t\t\t\ttext: \"Product Code\"\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}));\r\n\t\t\t\t\t\toTable.addColumn(new MColumn({\r\n\t\t\t\t\t\t\theader: new Label({\r\n\t\t\t\t\t\t\t\ttext: oModel.getObject(\"/#\" + vPathValueHelpEntity + \"Type/\" + vPathDesc + \"/@sap:label\")\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}));\r\n\t\t\t\t\t}\r\n\t\t\t\t\toDialog.update();\r\n\t\t\t\t}.bind(this));\r\n\r\n\t\t\t\toDialog.setTokens([]);\r\n\t\t\t\toDialog.open();\r\n\t\t\t}.bind(this));\r\n\t\t},\r\n\t\tonValueHelpCancelPress: function() {\r\n\t\t\tthis._oVHD.close();\r\n\t\t},\r\n\t\tonValueHelpOkPress: function(oEvent) {\r\n\t\t\tvar aTokens = oEvent.getParameter(\"tokens\"),\r\n\t\t\t\toModel = this.getModel(),\r\n\t\t\t\toModelView = this.getView().getModel(\"objectView\"),\r\n\t\t\t\toViewData = oModelView.getData(),\r\n\t\t\t\toModelCreate = this.getModel(\"modelCreate\"),\r\n\t\t\t\tvPath = this.gButtonRequest.getBindingContext(\"modelCreate\") ? this.gButtonRequest.getBindingContext(\"modelCreate\").getPath() :\r\n\t\t\t\tthis.gButtonRequest.getBindingInfo(\"value\") && this.gButtonRequest.getBindingInfo(\"value\").binding && this.gButtonRequest.getBindingInfo(\r\n\t\t\t\t\t\"value\").binding.getPath() && this.gButtonRequest.getBindingInfo(\"value\").binding.getPath().includes(\"/\") ? this.gButtonRequest.getBindingInfo(\r\n\t\t\t\t\t\"value\").binding.getPath().slice(1) : this.gButtonRequest.getBindingInfo(\"value\").binding.getPath();\r\n\r\n\t\t\tif (aTokens.length > 0) {\r\n\t\t\t\tvar\r\n\t\t\t\t\ttPath = \"/\" + aTokens[0].getCustomData()[1].getValue(),\r\n\t\t\t\t\toObject = oModel.getObject(tPath);\r\n\t\t\t\tif (tPath.includes(\"mediopago\")) {\r\n\t\t\t\t\toModelCreate.setProperty(vPath + \"/ZzcodepagoNeg\", oObject.Mediopago);\r\n\t\t\t\t\toModelCreate.setProperty(vPath + \"/ZzcodpagoDesg\", oObject.Desgloce);\r\n\t\t\t\t\toModelCreate.setProperty(vPath + \"/Medpgsubtip\", oObject.Mediopagosub);\r\n\t\t\t\t\toModelCreate.setProperty(vPath + \"/Mediopagotexts\", oObject.Mediopagotext);\r\n\t\t\t\t\tthis._StatusFieldTarjet(oObject, this.gButtonRequest)\r\n\r\n\t\t\t\t} else if (tPath.includes(\"UnitOfMeasure\")) {\r\n\t\t\t\t\toModelCreate.setProperty(vPath + \"/Zzecunimed\", oObject.UnitOfMeasure);\r\n\t\t\t\t\toModelCreate.setProperty(vPath + \"/ZzecunimedText\", oObject.UnitOfMeasure_Text);\r\n\t\t\t\t} else if (tPath.includes(\"storeid_vh\") && vPath.includes(\"Retailstoreid\")) {\r\n\t\t\t\t\toModelCreate.setProperty(\"/Retailstoreid\", oObject.Retailstoreid);\r\n\t\t\t\t\toModelCreate.setProperty(\"/RetailstoreidText\", oObject.RetailstoreidText);\r\n\t\t\t\t\tthis._getUltFechaPeriodCerrada(oObject.Retailstoreid);\r\n\t\t\t\t\toViewData.displayDate = true;\r\n\r\n\t\t\t\t} else if (tPath.includes(\"storeid_vh\") && vPath.includes(\"Origstoreid\")) {\r\n\t\t\t\t\toModelCreate.setProperty(\"/Origstoreid\", oObject.Retailstoreid);\r\n\t\t\t\t\tthis.gButtonRequest.setDescription(oObject.RetailstoreidText)\r\n\t\t\t\t}\r\n\t\t\t\tthis.gButtonRequest.setValueState(\"None\");\r\n\t\t\t\tthis.gButtonRequest.setValueStateText();\r\n\t\t\t\tthis._setImporteOriginal(this.gButtonRequest);\r\n\t\t\t}\r\n\t\t\tif (vPath.includes(\"Retailstoreid\")) {\r\n\t\t\t\tthis.getView().byId(\"Businessdaydate\").setBusy(true);\r\n\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\tthis.getView().byId(\"Businessdaydate-icon\").setVisible(false);\r\n\t\t\t\t\tthis.getView().byId(\"Businessdaydate\").setBusy(false);\r\n\t\t\t\t}.bind(this), 100)\r\n\t\t\t}\r\n\t\t\tthis._oVHD.close();\r\n\t\t},\r\n\t\tonFilterBarSearch: function(oEvent) {\r\n\t\t\tvar sSearchQuery = this._oBasicSearchField.getValue(),\r\n\t\t\t\taFilters = [],\r\n\t\t\t\taSelectionSet = oEvent.getParameter(\"selectionSet\"),\r\n\t\t\t\taFilters = aSelectionSet && aSelectionSet.reduce(function(aResult, oControl) {\r\n\t\t\t\t\tif (oControl.getValue()) {\r\n\t\t\t\t\t\taResult.push(new sap.ui.model.Filter({\r\n\t\t\t\t\t\t\tpath: oControl.getName(),\r\n\t\t\t\t\t\t\toperator: sap.ui.model.FilterOperator.Contains,\r\n\t\t\t\t\t\t\tvalue1: oControl.getValue()\r\n\t\t\t\t\t\t}));\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\treturn aResult;\r\n\t\t\t\t}, []);\r\n\r\n\t\t\t/*\taFilters.push(new sap.ui.model.Filter({\r\n\t\t\t\t\tfilters: [\r\n\t\t\t\t\t\tnew sap.ui.model.Filter({\r\n\t\t\t\t\t\t\tpath: this._oVHD.getKey(),\r\n\t\t\t\t\t\t\toperator: sap.ui.model.FilterOperator.Contains,\r\n\t\t\t\t\t\t\tvalue1: sSearchQuery\r\n\t\t\t\t\t\t}),\r\n\t\t\t\t\t\tnew sap.ui.model.Filter({\r\n\t\t\t\t\t\t\tpath: this._oVHD.getDescriptionKey(),\r\n\t\t\t\t\t\t\toperator: sap.ui.model.FilterOperator.Contains,\r\n\t\t\t\t\t\t\tvalue1: sSearchQuery\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t],\r\n\t\t\t\t\tand: false\r\n\t\t\t\t}));*/\r\n\r\n\t\t\tthis._filterTable(new sap.ui.model.Filter({\r\n\t\t\t\tfilters: aFilters,\r\n\t\t\t\tand: true\r\n\t\t\t}));\r\n\t\t},\r\n\t\t_filterTable: function(oFilter) {\r\n\t\t\tvar oVHD = this._oVHD;\r\n\r\n\t\t\toVHD.getTableAsync().then(function(oTable) {\r\n\t\t\t\tif (oTable.bindRows) {\r\n\t\t\t\t\toTable.getBinding(\"rows\").filter(oFilter);\r\n\t\t\t\t}\r\n\t\t\t\tif (oTable.bindItems) {\r\n\t\t\t\t\toTable.getBinding(\"items\").filter(oFilter);\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// This method must be called after binding update of the table.\r\n\t\t\t\toVHD.update();\r\n\t\t\t});\r\n\t\t},\r\n\t\tonSaveTransaction: function(oEvent) {\r\n\t\t\tthis._callCreateEntity(false);\r\n\t\t},\r\n\t\t_callCreateEntity: function(pSimulate) {\r\n\t\t\tvar oModelCreate = this.getModel(\"modelCreate\"),\r\n\t\t\t\toCreateData = oModelCreate.getData(),\r\n\t\t\t\toModel = this.getModel(),\r\n\t\t\t\toModelTemp = new ODataModel(\"/sap/opu/odata/sap/ZCAR_CDS_SB_ALTA_TRX/\", true),\r\n\t\t\t\tvSimulate = pSimulate;\r\n\t\t\tthis.gError = false;\r\n\t\t\tthis.gOpenMessage = false;\r\n\t\t\tif (!this._onValidateForm(false, false)) {\r\n\t\t\t\tthis.getView().setBusy(true);\r\n\t\t\t\toModelTemp.setDefaultBindingMode(sap.ui.model.BindingMode.TwoWay);\r\n\t\t\t\toModelTemp.setUseBatch(true);\r\n\t\t\t\toModelTemp.setDeferredGroups([\"foo\"]);\r\n\t\t\t\tvar mParameters = {\r\n\t\t\t\t\tgroupId: \"foo\",\r\n\t\t\t\t\tsuccess: function(data, resp) {\r\n\t\t\t\t\t\tthis.getView().setBusy(false);\r\n\t\t\t\t\t\tif (!this.gError && !vSimulate) {\r\n\t\t\t\t\t\t\tsap.m.MessageBox.success(\"Se ha creado la transacción satisfactoriamente\", {\r\n\t\t\t\t\t\t\t\tactions: [sap.m.MessageBox.Action.OK],\r\n\t\t\t\t\t\t\t\tonClose: function(sAction) {\r\n\t\t\t\t\t\t\t\t\tsap.ui.getCore().setModel(new JSONModel({\r\n\t\t\t\t\t\t\t\t\t\tRetailstoreid: oCreateData.Retailstoreid,\r\n\t\t\t\t\t\t\t\t\t\tAuditbusinessdaydate: oCreateData.Businessdaydate,\r\n\t\t\t\t\t\t\t\t\t\tTransnumber: oCreateData.Transnumber,\r\n\t\t\t\t\t\t\t\t\t\tWorkstationid: oCreateData.Workstationid,\r\n\t\t\t\t\t\t\t\t\t}), \"modelCreateTrx\");\r\n\t\t\t\t\t\t\t\t\tthis.getRouter().navTo(\"worklist\");\r\n\t\t\t\t\t\t\t\t}.bind(this)\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t//this.getRouter().navTo(\"worklist\");\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}.bind(this),\r\n\t\t\t\t\terror: function(data, resp) {\r\n\t\t\t\t\t\tvar vCnt = 0,\r\n\t\t\t\t\t\t\tvText = \"\",\r\n\t\t\t\t\t\t\toErrors;\r\n\t\t\t\t\t\tthis.getView().setBusy(false);\r\n\t\t\t\t\t\tif (data.responseText && !data.headers['Content-Type'].includes(\"xml\")) {\r\n\t\t\t\t\t\t\tvar oErrors = JSON.parse(data.responseText);\r\n\t\t\t\t\t\t\tvText = vText + \"* \" + oErrors.error.message.value + \"\\n\"\r\n\t\t\t\t\t\t\tif (oErrors.error.innererror && oErrors.error.innererror.errordetails) {\r\n\t\t\t\t\t\t\t\toErrors.error.innererror.errordetails.forEach(function(item) {\r\n\t\t\t\t\t\t\t\t\tif (!vText.includes(item.message)) {\r\n\t\t\t\t\t\t\t\t\t\tvText = vText + \"* \" + item.message + \"\\n\"\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tvText = data.responseText && data.responseText !== \"\" ? data.responseText : data.statusText;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (vText !== \"\" && !vSimulate && !this.gOpenMessage) {\r\n\t\t\t\t\t\t\tthis.gError = this.gOpenMessage = true;\r\n\t\t\t\t\t\t\tsap.m.MessageBox.error(vText);\r\n\t\t\t\t\t\t\tthis.getView().setBusy(false);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}.bind(this)\r\n\t\t\t\t};\r\n\t\t\t\toCreateData.to_Position.forEach(function(item) {\r\n\t\t\t\t\tdelete item.ZzecunimedText;\r\n\t\t\t\t\tif (item.Zzlvimpneto) {\r\n\t\t\t\t\t\titem.Zzlvimpneto = item.Zzlvimpneto.toString();\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (item.Zzlvimpbruto) {\r\n\t\t\t\t\t\titem.Zzlvimpbruto = item.Zzlvimpbruto.toString();\r\n\t\t\t\t\t}\r\n\t\t\t\t\titem.Retailnumber = item.RetailnumberView;\r\n\t\t\t\t});\r\n\t\t\t\toCreateData.Simulate = vSimulate;\r\n\t\t\t\toCreateData.Businessdaydate = this._convertDateUtc(oCreateData.Businessdaydate);\r\n\t\t\t\tif (oCreateData.Origbusinessdate) {\r\n\t\t\t\t\toCreateData.Origbusinessdate = this._convertDateUtc(oCreateData.Origbusinessdate);\r\n\t\t\t\t}\r\n\t\t\t\tif (oCreateData.FechaCompromiso) {\r\n\t\t\t\t\toCreateData.FechaCompromiso = this._convertDateUtc(oCreateData.FechaCompromiso);\r\n\t\t\t\t}\r\n\t\t\t\tvar oDate = oCreateData.BegintimestampCreate.toISOString().replaceAll(\"-\", \"\");\r\n\t\t\t\toDate = oDate.replaceAll(\".000Z\", \"\");\r\n\t\t\t\toDate = oDate.replaceAll(\":\", \"\");\r\n\t\t\t\toDate = oDate.replaceAll(\"T\", \"\");\r\n\t\t\t\toDate = oDate.replaceAll(\"Z\", \"\");\r\n\t\t\t\toCreateData.Begintimestamp = oDate;\r\n\t\t\t\toModelTemp.create(\"/Head\", oCreateData, mParameters);\r\n\t\t\t\toModelTemp.submitChanges(mParameters);\r\n\t\t\t} else {\r\n\t\t\t\tsap.m.MessageBox.error(this.getResourceBundle().getText(\"txtMandatory\"));\r\n\t\t\t}\r\n\t\t},\r\n\t\t_convertDateUtc: function(oDate) {\r\n\t\t\treturn new Date(Date.UTC(oDate.getFullYear(), oDate.getMonth(), oDate.getDate()));\r\n\t\t},\r\n\r\n\t\t_onValidateForm: function(pClearState, pClearValue) {\r\n\t\t\tvar oControlFieldAll = this.getView().getControlsByFieldGroupId(\"fgDG\"), //Header\r\n\t\t\t\toControlTableMP = this.getView().getControlsByFieldGroupId(\"fgDGMP\"),\r\n\t\t\t\toControlTableP = this.getView().getControlsByFieldGroupId(\"fgDGP\"),\r\n\t\t\t\toModelCreate = this.getModel(\"modelCreate\"),\r\n\t\t\t\toCreateData = oModelCreate ? oModelCreate.getData() : null,\r\n\t\t\t\tsError = false,\r\n\t\t\t\tsValue = \"\",\r\n\t\t\t\tsRequired = false,\r\n\t\t\t\tsValueState = \"\",\r\n\t\t\t\tvClassName,\r\n\t\t\t\tvPathField, vIndexTable,\r\n\t\t\t\tvTotalIndexMp = oCreateData ? oCreateData.to_Positionmp.length : 0,\r\n\t\t\t\tvTotalIndexP = oCreateData ? oCreateData.to_Position.length : 0;\r\n\r\n\t\t\toControlFieldAll.forEach(function(item, index) {\r\n\t\t\t\tvClassName = item.getMetadata()._sClassName;\r\n\t\t\t\t/**/\r\n\t\t\t\tif (vClassName === \"sap.m.Input\" || vClassName === \"sap.m.DatePicker\" || vClassName === \"sap.m.Select\" || vClassName ===\r\n\t\t\t\t\t\"sap.m.DateTimePicker\" || vClassName === \"sap.m.TextArea\") {\r\n\t\t\t\t\tsValue = vClassName.includes(\"Input\") || vClassName.includes(\"TextArea\") ? item.getValue() :\r\n\t\t\t\t\t\tvClassName.includes(\"DatePicker\") || vClassName.includes(\"DateTimePicker\") ? item.getDateValue() :\r\n\t\t\t\t\t\tvClassName.includes(\"Select\") ? item.getSelectedKey() : null;\r\n\t\t\t\t\tsRequired = item.getRequired()\r\n\t\t\t\t\tvPathField = vClassName.includes(\"Input\") || vClassName.includes(\"DateTimePicker\") || vClassName.includes(\"DateTimePicker\") ?\r\n\t\t\t\t\t\titem.getBindingInfo(\"value\").parts[0].path :\r\n\t\t\t\t\t\tvClassName.includes(\"Select\") ? item.getBindingInfo(\"selectedKey\").parts[0].path : null;\r\n\t\t\t\t\tif (sRequired && (!sValue || sValue === \"\") && !pClearState) {\r\n\t\t\t\t\t\titem.setValueState(\"Error\");\r\n\t\t\t\t\t\tsError = true;\r\n\t\t\t\t\t} else if (pClearState) {\r\n\t\t\t\t\t\tif (pClearValue) {\r\n\t\t\t\t\t\t\titem.setValue();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\titem.setValueState(\"None\");\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\titem.setValueState(\"None\");\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\t/*&& item.getBindingContext(\"modelCreate\")*/\r\n\t\t\tif (\r\n\t\t\t\t(oCreateData.Transtypecode.includes(\"101\") || oCreateData.Transtypecode.includes(\"102\")) ||\r\n\t\t\t\t(oCreateData.to_Positionmp && oCreateData.to_Positionmp.length > 0) || pClearValue || pClearState\r\n\t\t\t) {\r\n\t\t\t\toControlTableMP.forEach(function(item, index) {\r\n\t\t\t\t\tvClassName = item.getMetadata()._sClassName;\r\n\t\t\t\t\tif ((vClassName === \"sap.m.Input\" || vClassName === \"sap.m.DatePicker\" || vClassName === \"sap.m.Select\" || vClassName ===\r\n\t\t\t\t\t\t\t\"sap.m.DateTimePicker\")) {\r\n\t\t\t\t\t\tvIndexTable = item.getParent().getIndex() + 1;\r\n\t\t\t\t\t\tif ((vIndexTable <= vTotalIndexMp || pClearState)) {\r\n\t\t\t\t\t\t\tsValue = vClassName.includes(\"Input\") ? item.getValue() :\r\n\t\t\t\t\t\t\t\tvClassName.includes(\"DatePicker\") || vClassName.includes(\"DateTimePicker\") ? item.getDateValue() :\r\n\t\t\t\t\t\t\t\tvClassName.includes(\"Select\") ? item.getSelectedKey() : null;\r\n\t\t\t\t\t\t\tsRequired = item.getRequired();\r\n\t\t\t\t\t\t\tsValueState = item.getValueState();\r\n\t\t\t\t\t\t\tvPathField = vClassName.includes(\"Input\") || vClassName.includes(\"DateTimePicker\") || vClassName.includes(\"DateTimePicker\") ?\r\n\t\t\t\t\t\t\t\titem.getBindingInfo(\"value\").parts[0].path :\r\n\t\t\t\t\t\t\t\tvClassName.includes(\"Select\") ? item.getBindingInfo(\"selectedKey\").parts[0].path : null;\r\n\t\t\t\t\t\t\tif (sRequired && sValue && sValue !== \"\" && sValueState !== \"None\" && !pClearState) {\r\n\t\t\t\t\t\t\t\tsError = true;\r\n\t\t\t\t\t\t\t} else if (sRequired && (!sValue || sValue === \"\") && !pClearState) {\r\n\t\t\t\t\t\t\t\titem.setValueState(\"Error\");\r\n\t\t\t\t\t\t\t\tsError = true;\r\n\t\t\t\t\t\t\t} else if (pClearState) {\r\n\t\t\t\t\t\t\t\tif (pClearValue) {\r\n\t\t\t\t\t\t\t\t\titem.setValue();\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\titem.setValueState(\"None\");\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\titem.setValueState(\"None\");\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\t/*&& item.getBindingContext(\"modelCreate\")*/\r\n\t\t\tvIndexTable = 0;\r\n\t\t\toControlTableP.forEach(function(item, index) {\r\n\t\t\t\tvClassName = item.getMetadata()._sClassName;\r\n\t\t\t\tif ((vClassName === \"sap.m.Input\" || vClassName === \"sap.m.DatePicker\" || vClassName === \"sap.m.Select\" || vClassName ===\r\n\t\t\t\t\t\t\"sap.m.DateTimePicker\") && (vIndexTable <= vTotalIndexP || oCreateData || pClearState)) {\r\n\r\n\t\t\t\t\tvIndexTable = item.getParent().getIndex() + 1;\r\n\t\t\t\t\tif ((vIndexTable <= vTotalIndexP || pClearState)) {\r\n\t\t\t\t\t\tsValue = vClassName.includes(\"Input\") ? item.getValue() :\r\n\t\t\t\t\t\t\tvClassName.includes(\"DatePicker\") || vClassName.includes(\"DateTimePicker\") ? item.getDateValue() :\r\n\t\t\t\t\t\t\tvClassName.includes(\"Select\") ? item.getSelectedKey() : null;\r\n\t\t\t\t\t\tsRequired = item.getRequired();\r\n\t\t\t\t\t\tsValueState = item.getValueState();\r\n\t\t\t\t\t\tvPathField = vClassName.includes(\"Input\") || vClassName.includes(\"DateTimePicker\") || vClassName.includes(\"DateTimePicker\") ?\r\n\t\t\t\t\t\t\titem.getBindingInfo(\"value\").parts[0].path :\r\n\t\t\t\t\t\t\tvClassName.includes(\"Select\") ? item.getBindingInfo(\"selectedKey\").parts[0].path : null;\r\n\t\t\t\t\t\tif (sRequired && sValue && sValue !== \"\" && sValueState !== \"None\" && !pClearState) {\r\n\t\t\t\t\t\t\tsError = true;\r\n\t\t\t\t\t\t} else if (sRequired && (!sValue || sValue === \"\") && !pClearState) {\r\n\t\t\t\t\t\t\titem.setValueState(\"Error\");\r\n\t\t\t\t\t\t\tsError = true;\r\n\t\t\t\t\t\t} else if (pClearState) {\r\n\t\t\t\t\t\t\tif (pClearValue) {\r\n\t\t\t\t\t\t\t\titem.setValue();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\titem.setValueState(\"None\");\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\titem.setValueState(\"None\");\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\treturn sError;\r\n\t\t},\r\n\t\tonCancelTransaction: function(oEvent) {\r\n\t\t\tthis._onNavBack(oEvent);\r\n\t\t},\r\n\r\n\t\t_onAddPosition: function(oEvent) {\r\n\t\t\tvar oModel = this.getModel(\"modelCreate\"),\r\n\t\t\t\toData = oModel.getData();\r\n\t\t\toData.to_Position.push({\r\n\t\t\t\tZzecunimed: \"01\",\r\n\t\t\t\tRetailquantity: \"0\",\r\n\t\t\t\tSalesamount: \"0\",\r\n\t\t\t\tZzCalifArtic: \"00\",\r\n\t\t\t\tZzcampoc: \"0\"\r\n\t\t\t});\r\n\t\t\toModel.refresh(true);\r\n\t\t},\r\n\t\t_onRemovePosition: function(oEvent) {\r\n\t\t\tvar oIndices = oEvent.getSource().getParent().getParent().getSelectedIndices(),\r\n\t\t\t\toModel = this.getModel(\"modelCreate\"),\r\n\t\t\t\toData = oModel.getData(),\r\n\t\t\t\toDataNew = [],\r\n\t\t\t\tvFind;\r\n\t\t\toData.to_Position.forEach(function(pos,index) {\r\n\t\t\t\tvFind = oIndices.find(item => item === index );\r\n\t\t\t\tif(vFind === undefined){\r\n\t\t\t\t\toDataNew.push(pos);\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\toData.to_Position = oDataNew;\r\n\t\t\toModel.refresh(true);\r\n\t\t\toEvent.getSource().getParent().getParent().clearSelection()\r\n\t\t},\r\n\t\t_onAddPositionMP: function(oEvent) {\r\n\t\t\tvar oModel = this.getModel(\"modelCreate\"),\r\n\t\t\t\toData = oModel.getData();\r\n\t\t\toData.to_Positionmp.push({\r\n\t\t\t\tTenderamount: \"0\"\r\n\t\t\t});\r\n\t\t\toModel.refresh(true);\r\n\t\t},\r\n\t\t_onRemovePositionMP: function(oEvent) {\r\n\t\t\tvar oIndices = oEvent.getSource().getParent().getParent().getSelectedIndices(),\r\n\t\t\t\toModel = this.getModel(\"modelCreate\"),\r\n\t\t\t\toData = oModel.getData(),\r\n\t\t\t\tvImporte = 0;\r\n\t\t\toIndices.forEach(function(item) {\r\n\t\t\t\toData.to_Positionmp.splice(item, 1)\r\n\t\t\t});\r\n\t\t\toModel.refresh(true);\r\n\t\t\toEvent.getSource().getParent().getParent().clearSelection();\r\n\t\t\toData.to_Positionmp.forEach(function(item, index) {\r\n\t\t\t\tvImporte = vImporte + parseFloat(item.Tenderamount);\r\n\t\t\t});\r\n\t\t\toModel.setProperty(\"/Zzimptranscalc\", vImporte.toString());\r\n\t\t},\r\n\r\n\t\tonBeforeRebindTablePos: function(oEvent) {\r\n\t\t\tvar oBindingParams = oEvent.getParameter(\"bindingParams\");\r\n\t\t\tthis.getView().setBusy(true);\r\n\t\t\toBindingParams.events = {\r\n\t\t\t\t\"dataReceived\": function(oEvent) {\r\n\t\t\t\t\tthis.getView().setBusy(false);\r\n\t\t\t\t}.bind(this)\r\n\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t});\r\n\r\n});",
		"app/eci/zcaraltatrx2/Component.js": "/* global document */\r\nsap.ui.define([\r\n\t\"sap/ui/core/UIComponent\",\r\n\t\"sap/ui/Device\",\r\n\t\"app/eci/zcaraltatrx2/model/models\",\r\n\t\"app/eci/zcaraltatrx2/controller/ErrorHandler\",\r\n\t\"sap/ui/core/util/MockServer\",\r\n\t\"sap/ui/model/odata/v2/ODataModel\",\r\n\t\"sap/ui/model/BindingMode\"\r\n], function(UIComponent, Device, models, ErrorHandler,MockServer ,ODataModel,BindingMode) {\r\n\t\"use strict\";\r\n\r\n\treturn UIComponent.extend(\"app.eci.zcaraltatrx2.Component\", {\r\n\r\n\t\tmetadata: {\r\n\t\t\tmanifest: \"json\"\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * The component is initialized by UI5 automatically during the startup of the app and calls the init method once.\r\n\t\t * In this function, the FLP and device models are set and the router is initialized.\r\n\t\t * @public\r\n\t\t * @override\r\n\t\t */\r\n\t\tinit: function() {\r\n\r\n\t\t\t/*var sMockdataUrl = sap.ui.require.toUrl(\"app/eci/zcaraltatrx2\");\r\n\t\t\t//initialize a mockserver\r\n\t\t\tthis.oMockServer = new MockServer({\r\n\t\t\t\trootUri: \"smartfield.WithValueListAndParameters.Main/\"\r\n\t\t\t});\r\n\r\n\t\t\t//simulate the test data\r\n\t\t\tthis.oMockServer.simulate(sMockdataUrl + \"/localService/metadata.xml\", {\r\n\t\t\t\tsMockdataBaseUrl: sMockdataUrl,\r\n\t\t\t\taEntitySetsNames: [\r\n\t\t\t\t\t\"Head\", \"Position\"\r\n\t\t\t\t]\r\n\t\t\t});\r\n\t\t\tthis.oMockServer.start();\r\n\t\t\t//define the model for the data, using the mockserver\r\n\t\t\tthis.oModel = new ODataModel(\"smartfield.WithValueListAndParameters.Main\");\r\n\t\t\tthis.oModel.setDefaultBindingMode(BindingMode.TwoWay);\r\n\t\t\tthis.setModel(this.oModel);*/\r\n\r\n\t\t\t// call the base component's init function\r\n\t\t\tUIComponent.prototype.init.apply(this, arguments);\r\n\r\n\t\t\t// initialize the error handler with the component\r\n\t\t\tthis._oErrorHandler = new ErrorHandler(this);\r\n\r\n\t\t\t// set the device model\r\n\t\t\tthis.setModel(models.createDeviceModel(), \"device\");\r\n\t\t\t// set the FLP model\r\n\t\t\tthis.setModel(models.createFLPModel(), \"FLP\");\r\n\r\n\t\t\t// create the views based on the url/hash\r\n\t\t\tthis.getRouter().initialize();\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * The component is destroyed by UI5 automatically.\r\n\t\t * In this method, the ErrorHandler is destroyed.\r\n\t\t * @public\r\n\t\t * @override\r\n\t\t */\r\n\t\tdestroy: function() {\r\n\t\t\tthis._oErrorHandler.destroy();\r\n\t\t\t// call the base component's destroy function\r\n\t\t\tUIComponent.prototype.destroy.apply(this, arguments);\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * This method can be called to determine whether the sapUiSizeCompact or sapUiSizeCozy\r\n\t\t * design mode class should be set, which influences the size appearance of some controls.\r\n\t\t * @public\r\n\t\t * @return {string} css class, either 'sapUiSizeCompact' or 'sapUiSizeCozy' - or an empty string if no css class should be set\r\n\t\t */\r\n\t\tgetContentDensityClass: function() {\r\n\t\t\tif (this._sContentDensityClass === undefined) {\r\n\t\t\t\t// check whether FLP has already set the content density class; do nothing in this case\r\n\t\t\t\tif (jQuery(document.body).hasClass(\"sapUiSizeCozy\") || jQuery(document.body).hasClass(\"sapUiSizeCompact\")) {\r\n\t\t\t\t\tthis._sContentDensityClass = \"\";\r\n\t\t\t\t} else if (!Device.support.touch) { // apply \"compact\" mode if touch is not supported\r\n\t\t\t\t\tthis._sContentDensityClass = \"sapUiSizeCompact\";\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// \"cozy\" in case of touch support; default for most sap.m controls, but needed for desktop-first controls like sap.ui.table.Table\r\n\t\t\t\t\tthis._sContentDensityClass = \"sapUiSizeCozy\";\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn this._sContentDensityClass;\r\n\t\t}\r\n\r\n\t});\r\n\r\n});",
		"app/eci/zcaraltatrx2/view/Object.view.xml": "<mvc:View controllerName=\"app.eci.zcaraltatrx2.controller.Object\" xmlns:mvc=\"sap.ui.core.mvc\" xmlns=\"sap.uxap\" xmlns:m=\"sap.m\"\n\txmlns:smartForm=\"sap.ui.comp.smartform\" xmlns:sap.ui.layout=\"sap.ui.layout\" xmlns:smartTable=\"sap.ui.comp.smarttable\"\n\txmlns:l=\"sap.ui.layout\" xmlns:core=\"sap.ui.core\" xmlns:smartField=\"sap.ui.comp.smartfield\" height=\"100%\" xmlns:table=\"sap.ui.table\"\n\txmlns:customData=\"http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1\" xmlns:f=\"sap.ui.layout.form\">\n\t<ObjectPageLayout id=\"ObjectPageLayout\" upperCaseAnchorBar=\"false\" showFooter=\"true\">\n\t\t<headerTitle>\n\t\t\t<ObjectPageHeader objectTitle=\"Objeto de creación\"></ObjectPageHeader>\n\t\t</headerTitle>\n\t\t<headerContent>\n\t\t\t<!--<m:ObjectAttribute title=\"\" text=\"This example explains the rules for the rendering of sections\"/>-->\n\t\t</headerContent>\n\t\t<sections>\n\t\t\t<ObjectPageSection titleUppercase=\"false\" title=\"Datos de cabecera\">\n\t\t\t\t<subSections>\n\t\t\t\t\t<ObjectPageSubSection titleUppercase=\"false\">\n\t\t\t\t\t\t<blocks>\n\t\t\t\t\t\t\t<f:SimpleForm id=\"SimpleFormId\" editable=\"true\" layout=\"ResponsiveGridLayout\" title=\"\" labelSpanXL=\"4\" labelSpanL=\"4\" labelSpanM=\"4\"\n\t\t\t\t\t\t\t\tlabelSpanS=\"12\" adjustLabelSpan=\"false\" emptySpanXL=\"0\" emptySpanL=\"0\" emptySpanM=\"0\" emptySpanS=\"0\" columnsXL=\"3\" columnsL=\"2\" columnsM=\"2\"\n\t\t\t\t\t\t\t\tsingleContainerFullSize=\"false\">\n\t\t\t\t\t\t\t\t<f:content>\n\t\t\t\t\t\t\t\t\t<!--CORE items=\"{/zcds_audit_tranty_vh}\" -->\n\t\t\t\t\t\t\t\t\t<core:Title text=\"\"/>\n\t\t\t\t\t\t\t\t\t<m:Label text=\"{/#HeadType/Transtypecode/@sap:label}\"/>\n\t\t\t\t\t\t\t\t\t<m:Select id=\"Transtypecode\" selectedKey=\"{modelCreate>/Transtypecode}\"\n\t\t\t\t\t\t\t\t\t\titems=\"{ path: '/zcds_audit_tranty_vh', filters: [ { path: 'Transtypecode', operator: 'EQ', value1: '0101' }, { path: 'Transtypecode', operator: 'EQ', value1: '0102' }, { path: 'Transtypecode', operator: 'EQ', value1: '0103' }, { path: 'Transtypecode', operator: 'EQ', value1: '0104' }, { path: 'Transtypecode', operator: 'EQ', value1: '0111' } ] }\"\n\t\t\t\t\t\t\t\t\t\tfieldGroupIds=\"fgDG\" change=\"onChangeValue\">\n\t\t\t\t\t\t\t\t\t\t<m:items>\n\t\t\t\t\t\t\t\t\t\t\t<core:Item text=\"{Description}\" key=\"{Transtypecode}\"/>\n\t\t\t\t\t\t\t\t\t\t</m:items>\n\t\t\t\t\t\t\t\t\t</m:Select>\n\t\t\t\t\t\t\t\t\t<m:Label text=\"{/#HeadType/Retailstoreid/@sap:label}\"/>\n\t\t\t\t\t\t\t\t\t<m:Input id=\"Retailstoreid\" value=\"{modelCreate>/Retailstoreid}\" description=\"{modelCreate>/RetailstoreidText}\" fieldGroupIds=\"fgDG\"\n\t\t\t\t\t\t\t\t\t\tchange=\"onChangeValue\" required=\"true\" showValueHelp=\"true\" valueHelpRequest=\"onValueHelpRequest\" showSuggestion=\"true\"\n\t\t\t\t\t\t\t\t\t\tmaxLength=\"{= parseInt(${/#HeadType/Retailstoreid/maxLength}) }\" suggestionItems=\"{/zcds_audit_storeid_vh}\">\n\t\t\t\t\t\t\t\t\t\t<m:suggestionItems>\n\t\t\t\t\t\t\t\t\t\t\t<core:Item text=\"{RetailstoreidText}\" key=\"{Retailstoreid}\"/>\n\t\t\t\t\t\t\t\t\t\t</m:suggestionItems>\n\t\t\t\t\t\t\t\t\t</m:Input>\n\t\t\t\t\t\t\t\t\t<m:Label text=\"Periodo de venta\"/>\n\t\t\t\t\t\t\t\t\t<m:DatePicker id=\"Businessdaydate\"\n\t\t\t\t\t\t\t\t\t\tvalue=\"{ 'path':'modelCreate>/Businessdaydate', 'type':'sap.ui.model.type.Date', 'formatOptions': { 'pattern': 'dd-MM-yyyy' } }\"\n\t\t\t\t\t\t\t\t\t\tclass=\"sapUiSmallMarginBottom\" required=\"true\" fieldGroupIds=\"fgDG\" change=\"onChangeValue\" editable=\"{objectView>/displayDate}\"/>\n\t\t\t\t\t\t\t\t\t<m:Button id=\"btnBD\" icon=\"sap-icon://appointment-2\" width=\"20%\" enabled=\"{objectView>/displayDate}\" press=\"onCalendarOpen\"/>\n\t\t\t\t\t\t\t\t\t<m:Label text=\"Fecha de venta\"/>\n\t\t\t\t\t\t\t\t\t<m:DateTimePicker id=\"BegintimestampCreate\" showCurrentDateButton=\"true\" showCurrentTimeButton=\"true\"\n\t\t\t\t\t\t\t\t\t\tvalue=\"{ 'path': 'modelCreate>/BegintimestampCreate', 'type': 'sap.ui.model.type.DateTime', 'formatOptions': { 'style': 'medium' } }\"\n\t\t\t\t\t\t\t\t\t\tfieldGroupIds=\"fgDG\" required=\"true\" change=\"onChangeValue\" class=\"sapUiSmallMarginBottom\"/>\n\t\t\t\t\t\t\t\t\t<m:Label text=\"{/#HeadType/Workstationid/@sap:label}\"/>\n\t\t\t\t\t\t\t\t\t<m:Input id=\"Workstationid\" value=\"{modelCreate>/Workstationid}\" fieldGroupIds=\"fgDG\" change=\"onChangeValue\" required=\"true\"\n\t\t\t\t\t\t\t\t\t\tmaxLength=\"{= parseInt(${/#HeadType/WorkstationidView/maxLength}) }\"/>\n\t\t\t\t\t\t\t\t\t<m:Label text=\"{/#HeadType/Transnumber/@sap:label}\"/>\n\t\t\t\t\t\t\t\t\t<m:Input id=\"Transnumber\" value=\"{modelCreate>/Transnumber}\" fieldGroupIds=\"fgDG\" change=\"onChangeValue\" required=\"true\"\n\t\t\t\t\t\t\t\t\t\tmaxLength=\"{= parseInt(${/#HeadType/TransnumberView/maxLength}) }\"/>\n\t\t\t\t\t\t\t\t\t<!--CORE-->\n\t\t\t\t\t\t\t\t\t<core:Title text=\"\"/>\n\t\t\t\t\t\t\t\t\t<m:Label text=\"{/#HeadType/Operatorid/@sap:label}\"/>\n\t\t\t\t\t\t\t\t\t<m:Input id=\"Operatorid\" value=\"{modelCreate>/Operatorid}\" fieldGroupIds=\"fgDG\" change=\"onChangeValue\"\n\t\t\t\t\t\t\t\t\t\tmaxLength=\"{= parseInt(${/#HeadType/Operatorid/maxLength}) }\"/>\n\t\t\t\t\t\t\t\t\t<m:Label text=\"{/#HeadType/Origbusinessdate/@sap:label}\"/>\n\t\t\t\t\t\t\t\t\t<m:DatePicker id=\"Origbusinessdate\"\n\t\t\t\t\t\t\t\t\t\tvalue=\"{ 'path':'modelCreate>/Origbusinessdate', 'type':'sap.ui.model.type.Date', 'formatOptions': { 'pattern': 'dd-MM-yyyy' } }\"\n\t\t\t\t\t\t\t\t\t\tchange=\"onChangeValue\" class=\"sapUiSmallMarginBottom\"\n\t\t\t\t\t\t\t\t\t\teditable=\"{= ${modelCreate>/Transtypecode} === '0102' || ${modelCreate>/Transtypecode} === '0103' || ${modelCreate>/Transtypecode} === '0104' ? true : false }\"/>\n\t\t\t\t\t\t\t\t\t<m:Label text=\"{/#HeadType/Origstoreid/@sap:label}\"/>\n\t\t\t\t\t\t\t\t\t<m:Input id=\"Origstoreid\" value=\"{modelCreate>/Origstoreid}\" fieldGroupIds=\"fgDG\" change=\"onChangeValue\" required=\"true\"\n\t\t\t\t\t\t\t\t\t\tshowValueHelp=\"true\" valueHelpRequest=\"onValueHelpRequest\" showSuggestion=\"true\"\n\t\t\t\t\t\t\t\t\t\tmaxLength=\"{= parseInt(${/#HeadType/Origstoreid/maxLength}) }\" suggestionItems=\"{/zcds_audit_storeid_vh}\"\n\t\t\t\t\t\t\t\t\t\teditable=\"{= ${modelCreate>/Transtypecode} === '0102' || ${modelCreate>/Transtypecode} === '0103' || ${modelCreate>/Transtypecode} === '0104' ? true : false }\">\n\t\t\t\t\t\t\t\t\t\t<m:suggestionItems>\n\t\t\t\t\t\t\t\t\t\t\t<core:Item text=\"{RetailstoreidText}\" key=\"{Retailstoreid}\"/>\n\t\t\t\t\t\t\t\t\t\t</m:suggestionItems>\n\t\t\t\t\t\t\t\t\t</m:Input>\n\t\t\t\t\t\t\t\t\t<m:Label text=\"{/#HeadType/Origwrkstid/@sap:label}\"/>\n\t\t\t\t\t\t\t\t\t<m:Input id=\"Origwrkstid\" value=\"{modelCreate>/Origwrkstid}\" fieldGroupIds=\"fgDG\" change=\"onChangeValue\"\n\t\t\t\t\t\t\t\t\t\teditable=\"{= ${modelCreate>/Transtypecode} === '0102' || ${modelCreate>/Transtypecode} === '0103' || ${modelCreate>/Transtypecode} === '0104' ? true : false }\"\n\t\t\t\t\t\t\t\t\t\tmaxLength=\"{= parseInt(${/#HeadType/WorkstationidView/maxLength}) }\"/>\n\t\t\t\t\t\t\t\t\t<m:Label text=\"{/#HeadType/Origtransnumber/@sap:label}\"/>\n\t\t\t\t\t\t\t\t\t<m:Input id=\"Origtransnumber\" value=\"{modelCreate>/Origtransnumber}\" fieldGroupIds=\"fgDG\" change=\"onChangeValue\"\n\t\t\t\t\t\t\t\t\t\teditable=\"{= ${modelCreate>/Transtypecode} === '0102' || ${modelCreate>/Transtypecode} === '0103' || ${modelCreate>/Transtypecode} === '0104' ? true : false }\"\n\t\t\t\t\t\t\t\t\t\tmaxLength=\"{= parseInt(${/#HeadType/TransnumberView/maxLength}) }\"/>\n\t\t\t\t\t\t\t\t\t<m:Label text=\"Imp. Tot. Ref.\"/>\n\t\t\t\t\t\t\t\t\t<m:Text id=\"ZzimptransOrg\"\n\t\t\t\t\t\t\t\t\t\ttext=\"{path:'objectView>/ZzimptransOrg', type:'sap.ui.model.type.Float', formatOptions: { maxIntegerDigits: 13, maxFractionDigits: 2, preserveDecimals: true }, constraints:{ precision:13, scale:2 }}\"/>\n\t\t\t\t\t\t\t\t\t<m:Label text=\"\"/>\n\t\t\t\t\t\t\t\t\t<m:ObjectStatus id=\"objectStatError\" visible=\"false\" class=\"sapUiSmallMarginBottom\" text=\"{i18n>errorOrgNoExist}\" icon=\"sap-icon://error\"\n\t\t\t\t\t\t\t\t\t\tstate=\"Error\"/>\n\t\t\t\t\t\t\t\t\t<!--CORE-->\n\t\t\t\t\t\t\t\t\t<core:Title text=\"\"/>\n\t\t\t\t\t\t\t\t\t<m:Label text=\"{/#HeadType/Zzimptrans/@sap:label}\"/>\n\t\t\t\t\t\t\t\t\t<m:Input id=\"Zzimptrans\"\n\t\t\t\t\t\t\t\t\t\tvalue=\"{path:'modelCreate>/Zzimptrans', type:'sap.ui.model.type.Float', formatOptions: { maxIntegerDigits: 13, maxFractionDigits: 2, preserveDecimals: true }, constraints:{ precision:13, scale:2 }}\"\n\t\t\t\t\t\t\t\t\t\tfieldGroupIds=\"fgDG\" change=\"onChangeValue\"/>\n\t\t\t\t\t\t\t\t\t<m:Label text=\"{/#HeadType/Zzformpag/@sap:label}\"/>\n\t\t\t\t\t\t\t\t\t<m:Text id=\"Zzformpag\" text=\"{objectView>/ZzformpagText}({objectView>/Zzformpag})\"/>\n\t\t\t\t\t\t\t\t\t<m:Label text=\"{/#HeadType/Zzimptranscalc/@sap:label}\"/>\n\t\t\t\t\t\t\t\t\t<m:Input id=\"Zzimptranscalc\"\n\t\t\t\t\t\t\t\t\t\tvalue=\"{path:'modelCreate>/Zzimptranscalc', type:'sap.ui.model.type.Float', formatOptions: { maxIntegerDigits: 13, maxFractionDigits: 2, preserveDecimals: true }, constraints:{ precision:13, scale:2 }}\"\n\t\t\t\t\t\t\t\t\t\tfieldGroupIds=\"fgDG\" change=\"onChangeValue\" editable=\"false\"/>\n\t\t\t\t\t\t\t\t\t<m:Label text=\"{/#HeadType/Zzformpag/@sap:label}\"/>\n\t\t\t\t\t\t\t\t\t<m:Label text=\"{/#HeadType/SenDescuento/@sap:label}\"/>\n\t\t\t\t\t\t\t\t\t<m:Input id=\"SenDescuento\" value=\"{modelCreate>/SenDescuento}\" fieldGroupIds=\"fgDG\" change=\"onChangeValue\"\n\t\t\t\t\t\t\t\t\t\tmaxLength=\"{= parseInt(${/#HeadType/SenDescuento/maxLength}) }\"/>\n\t\t\t\t\t\t\t\t\t<m:Label text=\"{/#HeadType/FechaCompromiso/@sap:label}\"/>\n\t\t\t\t\t\t\t\t\t<m:DatePicker id=\"FechaCompromiso\" showCurrentDateButton=\"true\" showCurrentTimeButton=\"true\" fieldGroupIds=\"fgDG\"\n\t\t\t\t\t\t\t\t\t\tminDate=\"{objectView>/minDate}\"\n\t\t\t\t\t\t\t\t\t\tvalue=\"{ 'path': 'modelCreate>/FechaCompromiso', 'type': 'sap.ui.model.type.Date', 'formatOptions': { 'style': 'medium' } }\"\n\t\t\t\t\t\t\t\t\t\tchange=\"onChangeValue\" class=\"sapUiSmallMarginBottom\"/>\n\t\t\t\t\t\t\t\t\t<m:Label text=\"{/#HeadType/FormaretirMerc/@sap:label}\"/>\n\t\t\t\t\t\t\t\t\t<m:Input id=\"FormaretirMerc\" value=\"{modelCreate>/FormaretirMerc}\" fieldGroupIds=\"fgDG\" change=\"onChangeValue\"\n\t\t\t\t\t\t\t\t\t\tmaxLength=\"{= parseInt(${/#HeadType/FormaretirMerc/maxLength}) }\"/>\n\t\t\t\t\t\t\t\t\t<m:Label text=\"{/#HeadType/Actualizarht/@sap:label}\"/>\n\t\t\t\t\t\t\t\t\t<m:CheckBox selected=\"{modelCreate>/Actualizarht}\" select=\"onSelectBajaEst\"/>\n\t\t\t\t\t\t\t\t\t<m:Label text=\"{/#HeadType/BajaEst/@sap:label}\"/>\n\t\t\t\t\t\t\t\t\t<m:CheckBox selected=\"{modelCreate>/BajaEst}\" select=\"onSelectBajaEst\"/>\n\t\t\t\t\t\t\t\t</f:content>\n\t\t\t\t\t\t\t</f:SimpleForm>\n\t\t\t\t\t\t</blocks>\n\t\t\t\t\t</ObjectPageSubSection>\n\t\t\t\t</subSections>\n\t\t\t</ObjectPageSection>\n\t\t\t<ObjectPageSection titleUppercase=\"false\" title=\"Observaciones\">\n\t\t\t\t<subSections>\n\t\t\t\t\t<ObjectPageSubSection titleUppercase=\"false\">\n\t\t\t\t\t\t<blocks>\n\t\t\t\t\t\t\t<m:TextArea id=\"Comentario\" value=\"{modelCreate>/Comentario}\" rows=\"8\" cols=\"200\" maxLength=\"255\" required=\"true\" fieldGroupIds=\"fgDG\"/>\n\t\t\t\t\t\t</blocks>\n\t\t\t\t\t</ObjectPageSubSection>\n\t\t\t\t</subSections>\n\t\t\t</ObjectPageSection>\n\t\t\t<ObjectPageSection titleUppercase=\"false\" title=\"Datos de medio de pago\">\n\t\t\t\t<subSections>\n\t\t\t\t\t<ObjectPageSubSection titleUppercase=\"false\">\n\t\t\t\t\t\t<blocks>\n\t\t\t\t\t\t\t<table:Table id=\"tablePosMp\" rows=\"{modelCreate>/to_Positionmp}\" visibleRowCount=\"3\" selectionMode=\"Single\">\n\t\t\t\t\t\t\t\t<table:extension>\n\t\t\t\t\t\t\t\t\t<m:OverflowToolbar style=\"Clear\">\n\t\t\t\t\t\t\t\t\t\t<m:ToolbarSpacer/>\n\t\t\t\t\t\t\t\t\t\t<m:Button text=\"Crear\" press=\"_onAddPositionMP\"/>\n\t\t\t\t\t\t\t\t\t\t<m:Button text=\"Eliminar\" press=\"_onRemovePositionMP\"/>\n\t\t\t\t\t\t\t\t\t</m:OverflowToolbar>\n\t\t\t\t\t\t\t\t</table:extension>\n\t\t\t\t\t\t\t\t<table:columns>\n\t\t\t\t\t\t\t\t\t<table:Column width=\"11rem\">\n\t\t\t\t\t\t\t\t\t\t<m:Label text=\"{/#PositionmpType/Tenderamount/@sap:label}\"/>\n\t\t\t\t\t\t\t\t\t\t<table:template>\n\t\t\t\t\t\t\t\t\t\t\t<m:Input\n\t\t\t\t\t\t\t\t\t\t\t\tvalue=\"{path:'modelCreate>Tenderamount', type:'sap.ui.model.type.Float', formatOptions: { maxIntegerDigits: 13, maxFractionDigits: 2, preserveDecimals: true }, constraints:{ precision:13, scale:2 } }\"\n\t\t\t\t\t\t\t\t\t\t\t\tfieldGroupIds=\"fgDGMP\" change=\"onChangeValuePosition\"/>\n\t\t\t\t\t\t\t\t\t\t</table:template>\n\t\t\t\t\t\t\t\t\t</table:Column>\n\t\t\t\t\t\t\t\t\t<table:Column width=\"20rem\">\n\t\t\t\t\t\t\t\t\t\t<m:Label text=\"{/#PositionmpType/Medpgsubtip/@sap:label}\"/>\n\t\t\t\t\t\t\t\t\t\t<table:template>\n\t\t\t\t\t\t\t\t\t\t\t<m:Input value=\"{modelCreate>Medpgsubtip}\" description=\"{modelCreate>Mediopagotexts}\" showSuggestion=\"true\" showValueHelp=\"true\"\n\t\t\t\t\t\t\t\t\t\t\t\tsuggestionItems=\"{/zcar_cds_i_mediopago_vh}\" fieldGroupIds=\"fgDGMP\" change=\"onChangeValuePosition\" valueHelpRequest=\"onValueHelpRequest\">\n\t\t\t\t\t\t\t\t\t\t\t\t<m:suggestionItems>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<core:Item text=\"{Mediopagotext}\" key=\"{Mediopagosub}\"/>\n\t\t\t\t\t\t\t\t\t\t\t\t</m:suggestionItems>\n\t\t\t\t\t\t\t\t\t\t\t</m:Input>\n\t\t\t\t\t\t\t\t\t\t</table:template>\n\t\t\t\t\t\t\t\t\t</table:Column>\n\t\t\t\t\t\t\t\t\t<table:Column width=\"11rem\">\n\t\t\t\t\t\t\t\t\t\t<m:Label text=\"{/#PositionmpType/ZzcodepagoNeg/@sap:label}\"/>\n\t\t\t\t\t\t\t\t\t\t<table:template>\n\t\t\t\t\t\t\t\t\t\t\t<m:Text text=\"{modelCreate>ZzcodepagoNeg}\" wrapping=\"false\"/>\n\t\t\t\t\t\t\t\t\t\t</table:template>\n\t\t\t\t\t\t\t\t\t</table:Column>\n\t\t\t\t\t\t\t\t\t<table:Column width=\"11rem\">\n\t\t\t\t\t\t\t\t\t\t<m:Label text=\"{/#PositionmpType/ZzcodpagoDesg/@sap:label}\"/>\n\t\t\t\t\t\t\t\t\t\t<table:template>\n\t\t\t\t\t\t\t\t\t\t\t<m:Text text=\"{modelCreate>ZzcodpagoDesg}\" wrapping=\"false\"/>\n\t\t\t\t\t\t\t\t\t\t</table:template>\n\t\t\t\t\t\t\t\t\t</table:Column>\n\t\t\t\t\t\t\t\t\t<table:Column width=\"11rem\">\n\t\t\t\t\t\t\t\t\t\t<m:Label text=\"{/#PositionmpType/Subtipo/@sap:label}\"/>\n\t\t\t\t\t\t\t\t\t\t<table:template>\n\t\t\t\t\t\t\t\t\t\t\t<m:Text text=\"{modelCreate>Subtipo}\" wrapping=\"false\"/>\n\t\t\t\t\t\t\t\t\t\t</table:template>\n\t\t\t\t\t\t\t\t\t</table:Column>\n\t\t\t\t\t\t\t\t\t<table:Column width=\"11rem\">\n\t\t\t\t\t\t\t\t\t\t<m:Label text=\"{/#PositionmpType/Cardnumber/@sap:label}\"/>\n\t\t\t\t\t\t\t\t\t\t<table:template>\n\t\t\t\t\t\t\t\t\t\t\t<m:Input value=\"{modelCreate>Cardnumber}\" wrapping=\"false\" maxLength=\"{= parseInt(${/#PositionmpType/Cardnumber/maxLength}) }\"\n\t\t\t\t\t\t\t\t\t\t\t\tchange=\"onChangeValuePosition\" enabled=\"true\" fieldGroupIds=\"fgDGMP\"/>\n\t\t\t\t\t\t\t\t\t\t</table:template>\n\t\t\t\t\t\t\t\t\t</table:Column>\n\t\t\t\t\t\t\t\t\t<table:Column width=\"11rem\">\n\t\t\t\t\t\t\t\t\t\t<m:Label text=\"{/#PositionmpType/Zzfechacadnac/@sap:label}\"/>\n\t\t\t\t\t\t\t\t\t\t<!--{= ${modelCreate>Cardnumber}  &amp;&amp;  ${modelCreate>Cardnumber}.length > 0 ? true : false }-->\n\t\t\t\t\t\t\t\t\t\t<table:template>\n\t\t\t\t\t\t\t\t\t\t\t<m:Input value=\"{modelCreate>Zzfechacadnac}\" maxLength=\"4\" enabled=\"false\" liveChange=\"onLiveChangeNumber\" fieldGroupIds=\"fgDGMP\"\n\t\t\t\t\t\t\t\t\t\t\t\tchange=\"onChangeValuePosition\"/>\n\t\t\t\t\t\t\t\t\t\t\t<!--<m:DatePicker\n\t\t\t\t\t\t\t\t\t\t\t\tvalue=\"{ 'path':'modelCreate>Zzfechacadnac', 'type':'sap.ui.model.type.Date', 'formatOptions': { 'pattern': 'MMyy' } }\"\n\t\t\t\t\t\t\t\t\t\t\t\tchange=\"onChangeValue\" \n\t\t\t\t\t\t\t\t\t\t\t\tenabled=\"false\"/>-->\n\t\t\t\t\t\t\t\t\t\t</table:template>\n\t\t\t\t\t\t\t\t\t</table:Column>\n\t\t\t\t\t\t\t\t\t<table:Column width=\"11rem\">\n\t\t\t\t\t\t\t\t\t\t<m:Label text=\"{/#PositionmpType/zzpaypal/@sap:label}\"/>\n\t\t\t\t\t\t\t\t\t\t<table:template>\n\t\t\t\t\t\t\t\t\t\t\t<m:Input value=\"{modelCreate>zzpaypal}\" wrapping=\"false\" maxLength=\"14\" change=\"onChangeValuePosition\" fieldGroupIds=\"fgDGMP\"\n\t\t\t\t\t\t\t\t\t\t\t\tenabled=\"{= ${modelCreate>Medpgsubtip} === '15400007' }\" editable=\"{= ${modelCreate>Medpgsubtip} === '15400007' }\"/>\n\t\t\t\t\t\t\t\t\t\t</table:template>\n\t\t\t\t\t\t\t\t\t</table:Column>\n\t\t\t\t\t\t\t\t</table:columns>\n\t\t\t\t\t\t\t</table:Table>\n\t\t\t\t\t\t</blocks>\n\t\t\t\t\t</ObjectPageSubSection>\n\t\t\t\t</subSections>\n\t\t\t</ObjectPageSection>\n\t\t\t<ObjectPageSection titleUppercase=\"false\" title=\"Datos de posiciones\">\n\t\t\t\t<subSections>\n\t\t\t\t\t<ObjectPageSubSection titleUppercase=\"false\">\n\t\t\t\t\t\t<blocks>\n\t\t\t\t\t\t\t<table:Table id=\"tablePos\" rows=\"{modelCreate>/to_Position}\" visibleRowCount=\"5\" selectionMode=\"MultiToggle\">\n\t\t\t\t\t\t\t\t<table:extension>\n\t\t\t\t\t\t\t\t\t<m:OverflowToolbar style=\"Clear\">\n\t\t\t\t\t\t\t\t\t\t<m:ToolbarSpacer/>\n\t\t\t\t\t\t\t\t\t\t<m:Button text=\"Crear\" press=\"_onAddPosition\"/>\n\t\t\t\t\t\t\t\t\t\t<m:Button text=\"Eliminar\" fieldGroupIds=\"fgDGP\" press=\"_onRemovePosition\"/>\n\t\t\t\t\t\t\t\t\t</m:OverflowToolbar>\n\t\t\t\t\t\t\t\t</table:extension>\n\t\t\t\t\t\t\t\t<table:columns>\n\t\t\t\t\t\t\t\t\t<table:Column width=\"11rem\">\n\t\t\t\t\t\t\t\t\t\t<m:Label text=\"{/#PositionType/Retailnumber/@sap:label}\"/>\n\t\t\t\t\t\t\t\t\t\t<table:template>\n\t\t\t\t\t\t\t\t\t\t\t<m:Input value=\"{modelCreate>RetailnumberView}\" fieldGroupIds=\"fgDGP\" type=\"Number\"\n\t\t\t\t\t\t\t\t\t\t\t\tmaxLength=\"{= parseInt(${/#PositionType/Retailnumber/maxLength}) }\" change=\"onChangeValuePosition\"/>\n\t\t\t\t\t\t\t\t\t\t</table:template>\n\t\t\t\t\t\t\t\t\t</table:Column>\n\t\t\t\t\t\t\t\t\t<table:Column width=\"11rem\">\n\t\t\t\t\t\t\t\t\t\t<m:Label text=\"{/#PositionType/Zzcoddpto/@sap:label}\"/>\n\t\t\t\t\t\t\t\t\t\t<table:template>\n\t\t\t\t\t\t\t\t\t\t\t<m:Input value=\"{modelCreate>Zzcoddpto}\" fieldGroupIds=\"fgDGP\" maxLength=\"{= parseInt(${/#PositionType/Zzcoddpto/maxLength}) }\"\n\t\t\t\t\t\t\t\t\t\t\t\tchange=\"onChangeValuePosition\" liveChange=\"onLiveChangeNumber\"/>\n\t\t\t\t\t\t\t\t\t\t</table:template>\n\t\t\t\t\t\t\t\t\t</table:Column>\n\t\t\t\t\t\t\t\t\t<table:Column width=\"11rem\">\n\t\t\t\t\t\t\t\t\t\t<m:Label text=\"{/#PositionType/Zzarthost/@sap:label}\"/>\n\t\t\t\t\t\t\t\t\t\t<table:template>\n\t\t\t\t\t\t\t\t\t\t\t<m:Input value=\"{modelCreate>Zzarthost}\" fieldGroupIds=\"fgDGP\" maxLength=\"14\" change=\"onChangeValuePosition\" liveChange=\"onLiveChangeNumber\"/>\n\t\t\t\t\t\t\t\t\t\t</table:template>\n\t\t\t\t\t\t\t\t\t</table:Column>\n\t\t\t\t\t\t\t\t\t<table:Column width=\"11rem\">\n\t\t\t\t\t\t\t\t\t\t<m:Label text=\"{/#PositionType/Zztalla/@sap:label}\"/>\n\t\t\t\t\t\t\t\t\t\t<table:template>\n\t\t\t\t\t\t\t\t\t\t\t<m:Input value=\"{modelCreate>Zztalla}\" fieldGroupIds=\"fgDGP\" maxLength=\"{= parseInt(${/#PositionType/Zztalla/maxLength}) }\"\n\t\t\t\t\t\t\t\t\t\t\t\tchange=\"onChangeValuePosition\"/>\n\t\t\t\t\t\t\t\t\t\t</table:template>\n\t\t\t\t\t\t\t\t\t</table:Column>\n\t\t\t\t\t\t\t\t\t<!--<table:Column width=\"11rem\">\n\t\t\t\t\t\t\t\t\t\t<m:Label text=\"{/#PositionType/ZzCalifArtic/@sap:label}\"/>\n\t\t\t\t\t\t\t\t\t\t<table:template>\n\t\t\t\t\t\t\t\t\t\t\t<m:Input value=\"{modelCreate>ZzCalifArtic}\" fieldGroupIds=\"fgDGP\" maxLength=\"{= parseInt(${/#PositionType/ZzCalifArtic/maxLength}) }\"\n\t\t\t\t\t\t\t\t\t\t\t\tchange=\"onChangeValuePosition\"/>\n\t\t\t\t\t\t\t\t\t\t</table:template>\n\t\t\t\t\t\t\t\t\t</table:Column>-->\n\t\t\t\t\t\t\t\t\t<table:Column width=\"11rem\">\n\t\t\t\t\t\t\t\t\t\t<m:Label text=\"{/#PositionType/Retailquantity/@sap:label}\"/>\n\t\t\t\t\t\t\t\t\t\t<table:template>\n\t\t\t\t\t\t\t\t\t\t\t<m:Input\n\t\t\t\t\t\t\t\t\t\t\t\tvalue=\"{path:'modelCreate>Retailquantity', type:'sap.ui.model.type.Float', formatOptions: { maxIntegerDigits: 13, maxFractionDigits: 0, preserveDecimals: false }, constraints:{ precision:13, scale:0 }}\"\n\t\t\t\t\t\t\t\t\t\t\t\tfieldGroupIds=\"fgDGP\" change=\"onChangeValuePosition\" liveChange=\"onLiveChangeNumber\" maxLength=\"10\"/>\n\t\t\t\t\t\t\t\t\t\t</table:template>\n\t\t\t\t\t\t\t\t\t</table:Column>\n\t\t\t\t\t\t\t\t\t<table:Column width=\"11rem\">\n\t\t\t\t\t\t\t\t\t\t<m:Label text=\"{/#PositionType/Zzecunimed/@sap:label}\"/>\n\t\t\t\t\t\t\t\t\t\t<table:template>\n\t\t\t\t\t\t\t\t\t\t\t<m:Input value=\"{modelCreate>Zzecunimed}\" fieldGroupIds=\"fgDGP\" maxLength=\"2\" change=\"onChangeValuePosition\" liveChange=\"onLiveChangeNumber\"\n\t\t\t\t\t\t\t\t\t\t\t\teditable=\"false\"/>\n\t\t\t\t\t\t\t\t\t\t\t<!--<m:Input value=\"{modelCreate>Zzecunimed}\" description=\"{modelCreate>ZzecunimedText}\" showSuggestion=\"true\" showValueHelp=\"true\"\n\t\t\t\t\t\t\t\t\t\t\t\tsuggestionItems=\"{/I_UnitOfMeasure}\" fieldGroupIds=\"fgDGMP\" change=\"onChangeValuePosition\" valueHelpRequest=\"onValueHelpRequest\"\n\t\t\t\t\t\t\t\t\t\t\t\tmaxLength=\"{= parseInt(${/#PositionType/Zzecunimed/maxLength}) }\">\n\t\t\t\t\t\t\t\t\t\t\t\t<m:suggestionItems>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<core:Item text=\"{UnitOfMeasure_Text}\" key=\"{UnitOfMeasure}\"/>\n\t\t\t\t\t\t\t\t\t\t\t\t</m:suggestionItems>\n\t\t\t\t\t\t\t\t\t\t\t</m:Input>-->\n\t\t\t\t\t\t\t\t\t\t</table:template>\n\t\t\t\t\t\t\t\t\t</table:Column>\n\t\t\t\t\t\t\t\t\t<table:Column width=\"11rem\">\n\t\t\t\t\t\t\t\t\t\t<m:Label text=\"{/#PositionType/Salesamount/@sap:label}\"/>\n\t\t\t\t\t\t\t\t\t\t<table:template>\n\t\t\t\t\t\t\t\t\t\t\t<m:Input\n\t\t\t\t\t\t\t\t\t\t\t\tvalue=\"{path:'modelCreate>Salesamount', type:'sap.ui.model.type.Float', formatOptions: { maxIntegerDigits: 13, maxFractionDigits: 2, preserveDecimals: true }, constraints:{ precision:13, scale:2 }}\"\n\t\t\t\t\t\t\t\t\t\t\t\tfieldGroupIds=\"fgDGP\" change=\"onChangeValuePosition\"/>\n\t\t\t\t\t\t\t\t\t\t</table:template>\n\t\t\t\t\t\t\t\t\t</table:Column>\n\t\t\t\t\t\t\t\t\t<table:Column width=\"11rem\">\n\t\t\t\t\t\t\t\t\t\t<m:Label text=\"{/#PositionType/Zzlvimpneto/@sap:label}\"/>\n\t\t\t\t\t\t\t\t\t\t<table:template>\n\t\t\t\t\t\t\t\t\t\t\t<m:Input\n\t\t\t\t\t\t\t\t\t\t\t\tvalue=\"{path:'modelCreate>Zzlvimpneto', type:'sap.ui.model.type.Float', formatOptions: { maxIntegerDigits: 13, maxFractionDigits: 2, preserveDecimals: true }, constraints:{ precision:13, scale:2 }}\"\n\t\t\t\t\t\t\t\t\t\t\t\tfieldGroupIds=\"fgDGP\" change=\"onChangeValuePosition\" maxLength=\"{= parseInt(${/#Zzlvimpneto/maxLength}) }\"/>\n\t\t\t\t\t\t\t\t\t\t</table:template>\n\t\t\t\t\t\t\t\t\t</table:Column>\n\t\t\t\t\t\t\t\t\t<table:Column width=\"11rem\">\n\t\t\t\t\t\t\t\t\t\t<m:Label text=\"{/#PositionType/Zzlvimpbruto/@sap:label}\"/>\n\t\t\t\t\t\t\t\t\t\t<table:template>\n\t\t\t\t\t\t\t\t\t\t\t<m:Input\n\t\t\t\t\t\t\t\t\t\t\t\tvalue=\"{path:'modelCreate>Zzlvimpbruto', type:'sap.ui.model.type.Float', formatOptions: { maxIntegerDigits: 13, maxFractionDigits: 2, preserveDecimals: true }, constraints:{ precision:13, scale:2 }}\"\n\t\t\t\t\t\t\t\t\t\t\t\tfieldGroupIds=\"fgDGP\" change=\"onChangeValuePosition\" maxLength=\"{= parseInt(${/#PositionType/Zzlvimpbruto/maxLength}) }\"/>\n\t\t\t\t\t\t\t\t\t\t</table:template>\n\t\t\t\t\t\t\t\t\t</table:Column>\n\t\t\t\t\t\t\t\t\t<table:Column width=\"11rem\">\n\t\t\t\t\t\t\t\t\t\t<m:Label text=\"{/#PositionType/ZzCalifArtic/@sap:label}\"/>\n\t\t\t\t\t\t\t\t\t\t<table:template>\n\t\t\t\t\t\t\t\t\t\t\t<m:Input value=\"{modelCreate>ZzCalifArtic}\" fieldGroupIds=\"fgDGP\" change=\"onChangeValuePosition\"\n\t\t\t\t\t\t\t\t\t\t\t\tmaxLength=\"{= parseInt(${/#PositionType/ZzCalifArtic/maxLength}) }\" liveChange=\"onLiveChangeNumber\"/>\n\t\t\t\t\t\t\t\t\t\t</table:template>\n\t\t\t\t\t\t\t\t\t</table:Column>\n\t\t\t\t\t\t\t\t\t<table:Column width=\"11rem\">\n\t\t\t\t\t\t\t\t\t\t<m:Label text=\"{/#PositionType/Zzcampoc/@sap:label}\"/>\n\t\t\t\t\t\t\t\t\t\t<table:template>\n\t\t\t\t\t\t\t\t\t\t\t<!--<m:Text text=\"{modelCreate>Zzcampoc}\"/>-->\n\t\t\t\t\t\t\t\t\t\t\t<m:Input value=\"{modelCreate>Zzcampoc}\" fieldGroupIds=\"fgDGP\" change=\"onChangeValuePosition\"\n\t\t\t\t\t\t\t\t\t\t\t\tmaxLength=\"{= parseInt(${/#PositionType/Zzcampoc/maxLength}) }\" liveChange=\"onLiveChangeNumber\"/>\n\t\t\t\t\t\t\t\t\t\t</table:template>\n\t\t\t\t\t\t\t\t\t</table:Column>\n\t\t\t\t\t\t\t\t</table:columns>\n\t\t\t\t\t\t\t</table:Table>\n\t\t\t\t\t\t</blocks>\n\t\t\t\t\t</ObjectPageSubSection>\n\t\t\t\t</subSections>\n\t\t\t</ObjectPageSection>\n\t\t</sections>\n\t\t<footer>\n\t\t\t<m:OverflowToolbar>\n\t\t\t\t<m:ToolbarSpacer/>\n\t\t\t\t<m:Button type=\"Accept\" text=\"Crear\" press=\"onSaveTransaction\"/>\n\t\t\t\t<m:Button type=\"Reject\" text=\"Cancelar\" press=\"onCancelTransaction\"/>\n\t\t\t</m:OverflowToolbar>\n\t\t</footer>\n\t</ObjectPageLayout>\n</mvc:View>",
		"app/eci/zcaraltatrx2/controller/BaseController.js": "sap.ui.define([\r\n\t\"sap/ui/core/mvc/Controller\"\r\n], function(Controller) {\r\n\t\"use strict\";\r\n\r\n\treturn Controller.extend(\"app.eci.zcaraltatrx2.controller.BaseController\", {\r\n\t\t/**\r\n\t\t * Convenience method for accessing the router.\r\n\t\t * @public\r\n\t\t * @returns {sap.ui.core.routing.Router} the router for this component\r\n\t\t */\r\n\t\tgetRouter: function() {\r\n\t\t\treturn sap.ui.core.UIComponent.getRouterFor(this);\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Convenience method for getting the view model by name.\r\n\t\t * @public\r\n\t\t * @param {string} [sName] the model name\r\n\t\t * @returns {sap.ui.model.Model} the model instance\r\n\t\t */\r\n\t\tgetModel: function(sName) {\r\n\t\t\treturn this.getView().getModel(sName);\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Convenience method for setting the view model.\r\n\t\t * @public\r\n\t\t * @param {sap.ui.model.Model} oModel the model instance\r\n\t\t * @param {string} sName the model name\r\n\t\t * @returns {sap.ui.mvc.View} the view instance\r\n\t\t */\r\n\t\tsetModel: function(oModel, sName) {\r\n\t\t\treturn this.getView().setModel(oModel, sName);\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Getter for the resource bundle.\r\n\t\t * @public\r\n\t\t * @returns {sap.ui.model.resource.ResourceModel} the resourceModel of the component\r\n\t\t */\r\n\t\tgetResourceBundle: function() {\r\n\t\t\treturn this.getOwnerComponent().getModel(\"i18n\").getResourceBundle();\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Event handler when the share by E-Mail button has been clicked\r\n\t\t * @public\r\n\t\t */\r\n\t\tonShareEmailPress: function() {\r\n\t\t\tvar oViewModel = (this.getModel(\"objectView\") || this.getModel(\"worklistView\"));\r\n\t\t\tsap.m.URLHelper.triggerEmail(\r\n\t\t\t\tnull,\r\n\t\t\t\toViewModel.getProperty(\"/shareSendEmailSubject\"),\r\n\t\t\t\toViewModel.getProperty(\"/shareSendEmailMessage\")\r\n\t\t\t);\r\n\t\t},\r\n\r\n\t\t_returnObjectPosition: function() {\r\n\t\t\treturn {\r\n\t\t\t\t\"Transactions\": \"\",\r\n\t\t\t\t\"TransactionsGuuid\": \"00000000-0000-0000-0000-000000000000\",\r\n\t\t\t\t\"Retailstoreid\": \"\",\r\n\t\t\t\t\"Businessdaydate\": \"\",\r\n\t\t\t\t\"Transindex\": 0,\r\n\t\t\t\t\"Retailnumber\": \"\",\r\n\t\t\t\t\"Zzcoddpto\": \"\",\r\n\t\t\t\t\"Zzarthost\": \"\",\r\n\t\t\t\t\"Retailquantity\": \"0.00\",\r\n\t\t\t\t\"Salesamount\": \"0.00\",\r\n\t\t\t\t\"Zzlvimpneto\": \"\",\r\n\t\t\t\t\"Zzlvimpbruto\": \"\",\r\n\t\t\t\t\"Itemid\": \"\",\r\n\t\t\t\t\"Recordqualifier\": \"\",\r\n\t\t\t\t\"Referenceid\": \"\",\r\n\t\t\t\t\"Transcurrency\": \"EUR\",\r\n\t\t\t\t\"Tendertypecode\": \"\",\r\n\t\t\t\t\"Motivo\": \"\",\r\n\t\t\t\t\"Custcardnumber\": \"\",\r\n\t\t\t\t\"HasDraftEntity\": false,\r\n\t\t\t\t\"DraftEntityCreationDateTime\": null,\r\n\t\t\t\t\"DraftEntityLastChangeDateTime\": null,\r\n\t\t\t\t\"HasActiveEntity\": false,\r\n\t\t\t\t\"IsActiveEntity\": false\r\n\t\t\t};\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Adds a history entry in the FLP page history\r\n\t\t * @public\r\n\t\t * @param {object} oEntry An entry object to add to the hierachy array as expected from the ShellUIService.setHierarchy method\r\n\t\t * @param {boolean} bReset If true resets the history before the new entry is added\r\n\t\t */\r\n\t\t\taddHistoryEntry: (function() {\r\n\t\t\tvar aHistoryEntries = [];\r\n\r\n\t\t\treturn function(oEntry, bReset) {\r\n\t\t\t\tif (bReset) {\r\n\t\t\t\t\taHistoryEntries = [];\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar bInHistory = aHistoryEntries.some(function(entry) {\r\n\t\t\t\t\treturn entry.intent === oEntry.intent;\r\n\t\t\t\t});\r\n\r\n\t\t\t\tif (!bInHistory) {\r\n\t\t\t\t\taHistoryEntries.push(oEntry);\r\n\t\t\t\t\tthis.getOwnerComponent().getService(\"ShellUIService\").then(function(oService) {\r\n\t\t\t\t\t\toService.setHierarchy(aHistoryEntries);\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t})()\r\n\t});\r\n\r\n});",
		"app/eci/zcaraltatrx2/controller/App.controller.js": "sap.ui.define([\r\n\t\t\"app/eci/zcaraltatrx2/controller/BaseController\",\r\n\t\t\"sap/ui/model/json/JSONModel\"\r\n\t], function (BaseController, JSONModel) {\r\n\t\t\"use strict\";\r\n\r\n\t\treturn BaseController.extend(\"app.eci.zcaraltatrx2.controller.App\", {\r\n\r\n\t\t\tonInit : function () {\r\n\t\t\t\tvar oViewModel,\r\n\t\t\t\t\tfnSetAppNotBusy,\r\n\t\t\t\t\tiOriginalBusyDelay = this.getView().getBusyIndicatorDelay();\r\n\r\n\t\t\t\toViewModel = new JSONModel({\r\n\t\t\t\t\tbusy : true,\r\n\t\t\t\t\tdelay : 0\r\n\t\t\t\t});\r\n\t\t\t\tthis.setModel(oViewModel, \"appView\");\r\n\r\n\t\t\t\tfnSetAppNotBusy = function() {\r\n\t\t\t\t\toViewModel.setProperty(\"/busy\", false);\r\n\t\t\t\t\toViewModel.setProperty(\"/delay\", iOriginalBusyDelay);\r\n\t\t\t\t};\r\n\r\n\t\t\t\t// disable busy indication when the metadata is loaded and in case of errors\r\n\t\t\t\tthis.getOwnerComponent().getModel().metadataLoaded().\r\n\t\t\t\t    then(fnSetAppNotBusy);\r\n\t\t\t\tthis.getOwnerComponent().getModel().attachMetadataFailed(fnSetAppNotBusy);\r\n\r\n\t\t\t\t// apply content density mode to root view\r\n\t\t\t\tthis.getView().addStyleClass(this.getOwnerComponent().getContentDensityClass());\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t}\r\n);",
		"app/eci/zcaraltatrx2/controller/NotFound.controller.js": "sap.ui.define([\r\n\t\t\"app/eci/zcaraltatrx2/controller/BaseController\"\r\n\t], function (BaseController) {\r\n\t\t\"use strict\";\r\n\r\n\t\treturn BaseController.extend(\"app.eci.zcaraltatrx2.controller.NotFound\", {\r\n\r\n\t\t\t/**\r\n\t\t\t * Navigates to the worklist when the link is pressed\r\n\t\t\t * @public\r\n\t\t\t */\r\n\t\t\tonLinkPressed : function () {\r\n\t\t\t\tthis.getRouter().navTo(\"worklist\");\r\n\t\t\t}\r\n\r\n\t\t});\r\n\r\n\t}\r\n);",
		"app/eci/zcaraltatrx2/controller/ErrorHandler.js": "sap.ui.define([\r\n\t\t\"sap/ui/base/Object\",\r\n\t\t\"sap/m/MessageBox\"\r\n\t], function (UI5Object, MessageBox) {\r\n\t\t\"use strict\";\r\n\r\n\t\treturn UI5Object.extend(\"app.eci.zcaraltatrx2.controller.ErrorHandler\", {\r\n\r\n\t\t\t/**\r\n\t\t\t * Handles application errors by automatically attaching to the model events and displaying errors when needed.\r\n\t\t\t * @class\r\n\t\t\t * @param {sap.ui.core.UIComponent} oComponent reference to the app's component\r\n\t\t\t * @public\r\n\t\t\t * @alias app.eci.zcaraltatrx2.controller.ErrorHandler\r\n\t\t\t */\r\n\t\t\tconstructor : function (oComponent) {\r\n\t\t\t\tthis._oResourceBundle = oComponent.getModel(\"i18n\").getResourceBundle();\r\n\t\t\t\tthis._oComponent = oComponent;\r\n\t\t\t\tthis._oModel = oComponent.getModel();\r\n\t\t\t\tthis._bMessageOpen = false;\r\n\t\t\t\tthis._sErrorText = this._oResourceBundle.getText(\"errorText\");\r\n\r\n\t\t\t\tthis._oModel.attachMetadataFailed(function (oEvent) {\r\n\t\t\t\t\tvar oParams = oEvent.getParameters();\r\n\t\t\t\t\tthis._showServiceError(oParams.response);\r\n\t\t\t\t}, this);\r\n\r\n\t\t\t\tthis._oModel.attachRequestFailed(function (oEvent) {\r\n\t\t\t\t\tvar oParams = oEvent.getParameters();\r\n\t\t\t\t\t// An entity that was not found in the service is also throwing a 404 error in oData.\r\n\t\t\t\t\t// We already cover this case with a notFound target so we skip it here.\r\n\t\t\t\t\t// A request that cannot be sent to the server is a technical error that we have to handle though\r\n\t\t\t\t\tif (oParams.response.statusCode !== \"404\" || (oParams.response.statusCode === 404 && oParams.response.responseText.indexOf(\"Cannot POST\") === 0)) {\r\n\t\t\t\t\t\tthis._showServiceError(oParams.response);\r\n\t\t\t\t\t}\r\n\t\t\t\t}, this);\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Shows a {@link sap.m.MessageBox} when a service call has failed.\r\n\t\t\t * Only the first error message will be display.\r\n\t\t\t * @param {string} sDetails a technical error to be displayed on request\r\n\t\t\t * @private\r\n\t\t\t */\r\n\t\t\t_showServiceError : function (sDetails) {\r\n\t\t\t\tif (this._bMessageOpen) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tthis._bMessageOpen = true;\r\n\t\t\t\tMessageBox.error(\r\n\t\t\t\t\tthis._sErrorText,\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tid : \"serviceErrorMessageBox\",\r\n\t\t\t\t\t\tdetails: sDetails,\r\n\t\t\t\t\t\tstyleClass: this._oComponent.getContentDensityClass(),\r\n\t\t\t\t\t\tactions: [MessageBox.Action.CLOSE],\r\n\t\t\t\t\t\tonClose: function () {\r\n\t\t\t\t\t\t\tthis._bMessageOpen = false;\r\n\t\t\t\t\t\t}.bind(this)\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n);",
		"app/eci/zcaraltatrx2/controller/CopyOfObject.controller.js": "/*global location*/\r\nsap.ui.define([\r\n\t\"app/eci/zcaraltatrx2/controller/BaseController\",\r\n\t\"sap/ui/model/json/JSONModel\",\r\n\t\"sap/ui/core/routing/History\",\r\n\t\"app/eci/zcaraltatrx2/model/formatter\",\r\n\t\"sap/ui/core/util/MockServer\",\r\n\t\"sap/ui/model/odata/v2/ODataModel\",\r\n\t\"sap/ui/model/BindingMode\"\r\n], function(\r\n\tBaseController,\r\n\tJSONModel,\r\n\tHistory,\r\n\tformatter,\r\n\tMockServer,\r\n\tODataModel,\r\n\tBindingMode\r\n) {\r\n\t\"use strict\";\r\n\r\n\treturn BaseController.extend(\"app.eci.zcaraltatrx2.controller.Object\", {\r\n\r\n\t\tformatter: formatter,\r\n\r\n\t\t/* =========================================================== */\r\n\t\t/* lifecycle methods                                           */\r\n\t\t/* =========================================================== */\r\n\r\n\t\t/**\r\n\t\t * Called when the worklist controller is instantiated.\r\n\t\t * @public\r\n\t\t */\r\n\t\tonInit: function() {\r\n\t\t\t// Model used to manipulate control states. The chosen values make sure,\r\n\t\t\t// detail page is busy indication immediately so there is no break in\r\n\t\t\t// between the busy indication for loading the view's meta data\r\n\t\t\tvar iOriginalBusyDelay,\r\n\t\t\t\toViewModel = new JSONModel({\r\n\t\t\t\t\tbusy: true,\r\n\t\t\t\t\tdelay: 0\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t\r\n\r\n\t\t\tthis.getRouter().getRoute(\"object\").attachPatternMatched(this._onObjectMatched, this);\r\n\r\n\t\t\t// Store original busy indicator delay, so it can be restored later on\r\n\t\t\tiOriginalBusyDelay = this.getView().getBusyIndicatorDelay();\r\n\t\t\tthis.setModel(oViewModel, \"objectView\");\r\n\t\t\tthis.getOwnerComponent().getModel().metadataLoaded().then(function() {\r\n\t\t\t\t// Restore original busy indicator delay for the object view\r\n\t\t\t\toViewModel.setProperty(\"/delay\", iOriginalBusyDelay);\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\tonBeforeRendering: function() {\r\n\t\t\t//Sobreescribir función de navegación hacia atrás\r\n\t\t\t/*\tthis.getOwnerComponent().getService(\"ShellUIService\").then(function(oShellService) {\r\n\t\t\t\t\toShellService.setBackNavigation(function() {\r\n\t\t\t\t\t\tthis._onNavBack();\r\n\t\t\t\t\t}.bind(this));\r\n\t\t\t\t}.bind(this));*/\r\n\t\t\t\r\n\t\t},\r\n\t\t_onNavBack: function(oEvent) {\r\n\t\t\tthis.getView().getModel().callFunction(\"/HeadDiscard\", {\r\n\t\t\t\tmethod: \"POST\",\r\n\t\t\t\turlParameters: {\r\n\t\t\t\t\tTransactions: this.getView().getBindingContext().getProperty().Transactions,\r\n\t\t\t\t\tIsActiveEntity: false\r\n\t\t\t\t},\r\n\t\t\t\tsuccess: function(data, resp) {\r\n\t\t\t\t\tif (resp.statusCode.startsWith(\"2\")) {\r\n\t\t\t\t\t\tthis.getRouter().navTo(\"worklist\");\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tsap.m.MessageBox.error(\"Error borrando el registros de borrador\");\r\n\t\t\t\t\t}\r\n\t\t\t\t}.bind(this),\r\n\t\t\t\terror: function(error) {\r\n\t\t\t\t\tsap.m.MessageBox.error(\"Error borrando el registros de borrador\");\r\n\t\t\t\t}.bind(this)\r\n\t\t\t});\r\n\r\n\t\t},\r\n\r\n\t\t/* =========================================================== */\r\n\t\t/* internal methods                                            */\r\n\t\t/* =========================================================== */\r\n\r\n\t\t/**\r\n\t\t * Binds the view to the object path.\r\n\t\t * @function\r\n\t\t * @param {sap.ui.base.Event} oEvent pattern match event in route 'object'\r\n\t\t * @private\r\n\t\t */\r\n\t\t_onObjectMatched: function(oEvent) {\r\n\t\t\tvar sObjectId = oEvent.getParameter(\"arguments\").objectId,\r\n\t\t\t\tsAction = oEvent.getParameter(\"arguments\").actionC,\r\n\t\t\t\toViewModel = this.getModel(\"objectView\");\r\n\t\t\tthis.getView().unbindElement();\r\n\t\t\tthis.setModel(new JSONModel({}), \"modelCreate\");\r\n\t\t\tthis._onValidateForm(true, sAction === \"C\" ? true : false);\r\n\t\t\tthis._bindView(\"/\" + sObjectId);\r\n\t\t\t/*if (sObjectId === \"C\") {\r\n\t\t\t\tthis.getView().getModel().callFunction(\"/createInstance\", {\r\n\t\t\t\t\tmethod: \"POST\",\r\n\t\t\t\t\turlParameters: {\r\n\t\t\t\t\t\tResultIsActiveEntity: false,\r\n\t\t\t\t\t\tOperatorid: \"\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsuccess: function(data, resp) {\r\n\t\t\t\t\t\tif (resp.statusCode.startsWith(\"2\")) {\r\n\t\t\t\t\t\t\tvar mBindPath = \"/Head(Transactions='\" + encodeURIComponent(data.Transactions)  + \"',IsActiveEntity=false)\";\r\n\t\t\t\t\t\t\tthis.setModel(new JSONModel(data), \"modelCreate\");\r\n\t\t\t\t\t\t\tthis._bindView(mBindPath);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tsap.m.MessageBox.error(\"Error creando el registros de borrador\");\r\n\t\t\t\t\t\t\tthis.getRouter().navTo(\"worklist\");\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}.bind(this),\r\n\t\t\t\t\terror: function(error) {\r\n\t\t\t\t\t\tsap.m.MessageBox.error(\"Error creando el registros de borrador\");\r\n\t\t\t\t\t\tthis.getRouter().navTo(\"worklist\");\r\n\t\t\t\t\t}.bind(this)\r\n\t\t\t\t});\r\n\t\t\t\toViewModel.setProperty(\"/busy\", false);\r\n\t\t\t}*/\r\n\t\t},\r\n\t\t\t_bindView: function(sObjectPath) {\r\n\t\t\tvar oViewModel = this.getModel(\"objectView\");\r\n\t\t\toViewModel.setProperty(\"/busy\", true);\r\n\t\t\tthis.getView().bindElement({\r\n\t\t\t\taysnc: false,\r\n\t\t\t\tpath: sObjectPath,\r\n\t\t\t\tparameters: {\r\n\t\t\t\t\texpand: \"to_Position,to_Positionmp\"\r\n\t\t\t\t},\r\n\t\t\t\tevents: {\r\n\t\t\t\t\tchange: this._onBindingChange.bind(this),\r\n\t\t\t\t\tdataRequested: function(oEvent) {}.bind(this),\r\n\t\t\t\t\tdataReceived: function(oEvent) {\r\n\t\t\t\t\t\toViewModel.setProperty(\"/busy\", false);\r\n\t\t\t\t\t}.bind(this)\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\t_onBindingChange: function(oEvent) {\r\n\t\t\tvar oViewModel = this.getModel(\"objectView\"),\r\n\t\t\t\tsBindContextView = this.getView().getBindingContext();\r\n\r\n\t\t\tif (!sBindContextView) {\r\n\t\t\t\toViewModel.setProperty(\"/busy\", false);\r\n\t\t\t\tsap.m.MessageBox.error(\"No se ha creado la instancia satisfactoriamente\", {\r\n\t\t\t\t\tactions: [sap.m.MessageBox.Action.OK, sap.m.MessageBox.Action.CLOSE],\r\n\t\t\t\t\tonClose: function(sAction) {\r\n\t\t\t\t\t\tthis.getRouter().navTo(\"worklist\");\r\n\t\t\t\t\t}.bind(this)\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tvar sBindPropertyPosition = sBindContextView.getObject().to_Position,\r\n\t\t\t\t\tsBindPropertyPositionMP = sBindContextView.getObject().to_Positionmp,\r\n\t\t\t\t\toObjectPosition = [];\r\n\r\n\t\t\t\tthis.getView().byId(\"LineItemsSmartTable\").setEditable(true);\r\n\t\t\t\tthis.getView().byId(\"LineItemsSmartTable\").setTableBindingPath(this.getView().getBindingContext().getPath() + \"/to_Position\");\r\n\t\t\t\tthis.getView().byId(\"LineItemsSmartTableMP\").setEditable(true);\r\n\t\t\t\tthis.getView().byId(\"LineItemsSmartTableMP\").setTableBindingPath(this.getView().getBindingContext().getPath() + \"/to_Positionmp\");\r\n\t\t\t\tif (sBindPropertyPosition.__list) {\r\n\t\t\t\t\tthis.getView().setBusy(true);\r\n\t\t\t\t\toObjectPosition = this._getObjectPosition(sBindPropertyPosition);\r\n\t\t\t\t\tsBindPropertyPosition = oObjectPosition;\r\n\t\t\t\t\tthis.getView().getModel().refresh();\r\n\t\t\t\t\tthis.getView().byId(\"LineItemsSmartTable\").rebindTable(true);\r\n\t\t\t\t}\r\n\t\t\t\tif (sBindPropertyPositionMP.__list) {\r\n\t\t\t\t\toObjectPosition = this._getObjectPosition(sBindPropertyPositionMP);\r\n\t\t\t\t\tsBindPropertyPositionMP = oObjectPosition;\r\n\t\t\t\t\tthis.getView().getModel().refresh();\r\n\t\t\t\t\tthis.getView().byId(\"LineItemsSmartTableMP\").rebindTable(true);\r\n\t\t\t\t}\r\n\t\t\t\toViewModel.setProperty(\"/busy\", false);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonChangeValue: function(oEvent) {\r\n\t\t\tvar sModel = this.getModel(),\r\n\t\t\t\tsBindContextView = this.getView().getBindingContext(),\r\n\t\t\t\tsBindProperty = sBindContextView.getProperty(),\r\n\t\t\t\tsBindPath = oEvent.getSource().getBinding(\"value\").getPath(),\r\n\t\t\t\tsValue = oEvent.getSource().getValue(),\r\n\t\t\t\tsProp = {},\r\n\t\t\t\toInput = oEvent.getSource(),\r\n\t\t\t\toFloatFormat = sap.ui.core.format.NumberFormat.getFloatInstance();\r\n\t\t\tif (oEvent.getSource().getValueState() === \"None\" || sBindProperty[sBindPath] !== sValue) {\r\n\t\t\t\toEvent.getSource().setValueState(\"None\");\r\n\t\t\t\tif (sBindPath === \"BegintimestampCreate\" || sBindPath === \"Origbusinessdate\" || sBindPath === \"Businessdaydate\") {\r\n\t\t\t\t\tsValue = oEvent.getSource().getContent().getDateValue();\r\n\t\t\t\t\tsValue = new Date(sValue.getTime() - sValue.getTimezoneOffset() * 180000);\r\n\t\t\t\t\t//sProp[sBindPath] = new Date(sValue.getTime() - sValue.getTimezoneOffset() * 180000);\r\n\t\t\t\t} else if (sBindPath === \"Zzimptrans\") {\r\n\t\t\t\t\t//sProp[sBindPath] = sValue;\r\n\t\t\t\t\tsValue = sValue !== \"\" ? oFloatFormat.parse(sValue).toString() : \"0.00\";\r\n\t\t\t\t}\r\n\t\t\t\tif (sValue !== 'NaN') {\r\n\t\t\t\t\tsProp[sBindPath] = sValue;\r\n\t\t\t\t\t//oInput.setValue(sValue);\r\n\t\t\t\t\tsModel.setProperty(sBindPath, sValue, sBindContextView);\r\n\t\t\t\t\t//this.getView().setBusy(true);\r\n\t\t\t\t\toInput.setValueState(\"None\");\r\n\t\t\t\t\tsModel.update(sBindContextView.getPath(), sProp, {\r\n\t\t\t\t\t\tasync: false,\r\n\t\t\t\t\t\tsuccess: function(data, resp) {\r\n\t\t\t\t\t\t\tvar vCnt = 0,\r\n\t\t\t\t\t\t\t\tvText = \"\",\r\n\t\t\t\t\t\t\t\toErrors;\r\n\t\t\t\t\t\t\t//this.getView().getModel().refresh(true);\r\n\t\t\t\t\t\t\tthis.getView().setBusy(false);\r\n\t\t\t\t\t\t\tif (resp.headers && resp.headers['sap-message']) {\r\n\t\t\t\t\t\t\t\toErrors = JSON.parse(resp.headers['sap-message']);\r\n\t\t\t\t\t\t\t\tif (oErrors.message !== \"Error forma de pago\") {\r\n\t\t\t\t\t\t\t\t\tvCnt = 1;\r\n\t\t\t\t\t\t\t\t\tvText = \"<p><strong>Errores:</strong></p><ul>\";\r\n\t\t\t\t\t\t\t\t\tvText = vText + \"<li>\" + oErrors.message + \"</li>\";\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\toErrors.details.forEach(function(detail) {\r\n\t\t\t\t\t\t\t\t\tif (detail.message !== \"Error forma de pago\") {\r\n\t\t\t\t\t\t\t\t\t\tvText = vCnt === 0 ? \"<p><strong>Errores:</strong></p><ul>\" : vText;\r\n\t\t\t\t\t\t\t\t\t\tvText = vText + \"<li>\" + detail.message + \"</li>\";\r\n\t\t\t\t\t\t\t\t\t\tvCnt = 1;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\tvText = vText !== \"\" ? vText + \"</ul>\" : vText;\r\n\t\t\t\t\t\t\t\tif (vText !== \"\") {\r\n\t\t\t\t\t\t\t\t\tsap.m.MessageBox.error(\"\", {\r\n\t\t\t\t\t\t\t\t\t\ttitle: \"Errores\",\r\n\t\t\t\t\t\t\t\t\t\tid: \"messageBoxId2\",\r\n\t\t\t\t\t\t\t\t\t\tdetails: vText,\r\n\t\t\t\t\t\t\t\t\t\tcontentWidth: \"40em\"\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}.bind(this),\r\n\t\t\t\t\t\terror: function(resp) {\r\n\t\t\t\t\t\t\tthis.getView().setBusy(false);\r\n\t\t\t\t\t\t}.bind(this)\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\toInput.setValueState(\"Error\");\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tonChangeValuePosition: function(oEvent) {\r\n\t\t\tvar sModel = this.getModel(),\r\n\t\t\t\tsInput = oEvent.getParameter(\"changeEvent\") ? oEvent.getParameter(\"changeEvent\").getSource() : oEvent.getSource(),\r\n\t\t\t\tsBindContextView = sInput.getBindingContext(),\r\n\t\t\t\tsBindPath = sInput.getBinding(\"value\").getPath(),\r\n\t\t\t\tsValue = oEvent.getParameter(\"changeEvent\") ? oEvent.getParameter(\"changeEvent\").getParameter(\"value\") : oEvent.getParameter(\r\n\t\t\t\t\t\"value\"),\r\n\t\t\t\tsProp = {},\r\n\t\t\t\toFloatFormat = sap.ui.core.format.NumberFormat.getFloatInstance();\r\n\t\t\tif (sInput.getValueState() === \"None\" || sBindPath === \"Retailquantity\" || sBindPath === \"Salesamount\" || sBindPath ===\r\n\t\t\t\t\"Tenderamount\" || sBindPath === \"Zzlvimpneto\" || sBindPath === \"Zzlvimpneto\") {\r\n\t\t\t\tif (sBindPath === \"Retailquantity\" || sBindPath === \"Salesamount\" || sBindPath === \"Zzlvimpneto\" || sBindPath === \"Zzlvimpbruto\" ||\r\n\t\t\t\t\tsBindPath ===\r\n\t\t\t\t\t\"Tenderamount\") {\r\n\t\t\t\t\tsValue = sValue !== \"\" ? oFloatFormat.parse(sValue).toString() : \"0.00\";\r\n\t\t\t\t}\r\n\t\t\t\tif (sValue !== 'NaN') {\r\n\t\t\t\t\tsInput.setValueState(\"None\");\r\n\t\t\t\t\tsModel.setProperty(sBindPath, sValue, sBindContextView);\r\n\t\t\t\t\tsProp[sBindPath] = sValue;\r\n\t\t\t\t\t//this.getView().setBusy(true);\r\n\t\t\t\t\tsModel.update(sBindContextView.getPath(), sProp, {\r\n\t\t\t\t\t\tasync: false,\r\n\t\t\t\t\t\tsuccess: function(data, resp) {\r\n\t\t\t\t\t\t\tvar vCnt = 0,\r\n\t\t\t\t\t\t\t\tvText = \"\",\r\n\t\t\t\t\t\t\t\toErrors;\r\n\t\t\t\t\t\t\tif (sBindPath === \"Salesamount\" || sBindPath === \"Medpgsubtip\") {\r\n\t\t\t\t\t\t\t\t////this._setValueZZImpTran();\r\n\t\t\t\t\t\t\t\t//this._bindView(this.getView().getBindingContext().getPath());\r\n\t\t\t\t\t\t\t\t////this.getView().setBusy(false);\r\n\t\t\t\t\t\t\t\tthis.getView().getModel().refresh(true);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tthis.getView().setBusy(false);\r\n\t\t\t\t\t\t\tif (resp.headers && resp.headers['sap-message']) {\r\n\t\t\t\t\t\t\t\toErrors = JSON.parse(resp.headers['sap-message']);\r\n\t\t\t\t\t\t\t\tif (oErrors.message !== \"Error forma de pago\") {\r\n\t\t\t\t\t\t\t\t\tvCnt = 1;\r\n\t\t\t\t\t\t\t\t\tvText = \"<p><strong>Errores:</strong></p><ul>\";\r\n\t\t\t\t\t\t\t\t\tvText = vText + \"<li>\" + oErrors.message + \"</li>\";\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\toErrors.details.forEach(function(detail) {\r\n\t\t\t\t\t\t\t\t\tif (detail.message !== \"Error forma de pago\") {\r\n\t\t\t\t\t\t\t\t\t\tvText = vCnt === 0 ? \"<p><strong>Errores:</strong></p><ul>\" : vText;\r\n\t\t\t\t\t\t\t\t\t\tvText = vText + \"<li>\" + detail.message + \"</li>\";\r\n\t\t\t\t\t\t\t\t\t\tvCnt = 1;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\tvText = vText !== \"\" ? vText + \"</ul>\" : vText;\r\n\t\t\t\t\t\t\t\tif (vText !== \"\") {\r\n\t\t\t\t\t\t\t\t\tsap.m.MessageBox.error(\"\", {\r\n\t\t\t\t\t\t\t\t\t\ttitle: \"Errores\",\r\n\t\t\t\t\t\t\t\t\t\tid: \"messageBoxId2\",\r\n\t\t\t\t\t\t\t\t\t\tdetails: vText,\r\n\t\t\t\t\t\t\t\t\t\tcontentWidth: \"40em\"\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}.bind(this),\r\n\t\t\t\t\t\terror: function(resp) {\r\n\t\t\t\t\t\t\tthis.getView().setBusy(false);\r\n\t\t\t\t\t\t}.bind(this)\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsInput.setValueState(\"Error\");\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\t\t},\r\n\t\t_setValueZZImpTran: function(oEvent) {\r\n\t\t\tvar sModel = this.getModel(),\r\n\t\t\t\tsBindViewContext = this.getView().getBindingContext(),\r\n\t\t\t\tsPathPositionBindView = sBindViewContext.getPath() + \"/to_Position\",\r\n\t\t\t\tsContextsPosition = sModel.getContext(sPathPositionBindView).getObject(),\r\n\t\t\t\tlv_total = 0,\r\n\t\t\t\tsProp = {};\r\n\t\t\tsContextsPosition.forEach(function(item) {\r\n\t\t\t\tvar oProperty = sModel.getObject(\"/\" + item);\r\n\t\t\t\tlv_total = lv_total + parseFloat(oProperty.Salesamount);\r\n\t\t\t});\r\n\t\t\tlv_total = lv_total.toString();\r\n\t\t\tsProp[\"Zzimptrans\"] = lv_total.padStart(10, '0');\r\n\t\t\tsModel.setProperty(\"Zzimptrans\", lv_total, sBindViewContext.getPath());\r\n\t\t\tsModel.update(sBindViewContext.getPath(), sProp, {\r\n\t\t\t\tsuccess: function(data, resp) {}.bind(this),\r\n\t\t\t\terror: function(resp) {}.bind(this)\r\n\t\t\t});\r\n\r\n\t\t},\r\n\t\tonSaveTransaction: function(oEvent) {\r\n\t\t\tvar oModel = this.getModel(),\r\n\t\t\t\tsBindViewContext = this.getView().getBindingContext(),\r\n\t\t\t\tsProperty = sBindViewContext.getProperty();\r\n\t\t\tif (!this._onValidateForm(false)) {\r\n\t\t\t\tthis.getView().setBusy(true);\r\n\t\t\t\toModel.callFunction(\"/HeadPrepare\", {\r\n\t\t\t\t\tmethod: \"POST\",\r\n\t\t\t\t\turlParameters: {\r\n\t\t\t\t\t\tTransactions: sProperty.Transactions,\r\n\t\t\t\t\t\tIsActiveEntity: false\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsuccess: function(data, resp) {\r\n\t\t\t\t\t\tvar vCnt = 0,\r\n\t\t\t\t\t\t\tvText = \"\",\r\n\t\t\t\t\t\t\toErrors;\r\n\t\t\t\t\t\tif (resp.headers && resp.headers['sap-message']) {\r\n\t\t\t\t\t\t\toErrors = JSON.parse(resp.headers['sap-message']);\r\n\t\t\t\t\t\t\tif (oErrors.message !== \"Error forma de pago\") {\r\n\t\t\t\t\t\t\t\tvCnt = 1;\r\n\t\t\t\t\t\t\t\tvText = \"<p><strong>Errores:</strong></p><ul>\";\r\n\t\t\t\t\t\t\t\tvText = vText + \"<li>\" + oErrors.message + \"</li>\";\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\toErrors.details.forEach(function(detail) {\r\n\t\t\t\t\t\t\t\tif (detail.message !== \"Error forma de pago\") {\r\n\t\t\t\t\t\t\t\t\tvText = vCnt === 0 ? \"<p><strong>Errores:</strong></p><ul>\" : vText;\r\n\t\t\t\t\t\t\t\t\tvText = vText + \"<li>\" + detail.message + \"</li>\";\r\n\t\t\t\t\t\t\t\t\tvCnt = 1;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tvText = vText !== \"\" ? vText + \"</ul>\" : vText;\r\n\t\t\t\t\t\t\tif (vText !== \"\") {\r\n\t\t\t\t\t\t\t\tsap.m.MessageBox.error(\"\", {\r\n\t\t\t\t\t\t\t\t\ttitle: \"Errores\",\r\n\t\t\t\t\t\t\t\t\tid: \"messageBoxId2\",\r\n\t\t\t\t\t\t\t\t\tdetails: vText,\r\n\t\t\t\t\t\t\t\t\tcontentWidth: \"40em\"\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t/*\tif (oErrors.message !== \"Error forma de pago\") {\r\n\t\t\t\t\t\t\t\t\tvCnt = vCnt + 1;\r\n\t\t\t\t\t\t\t\t\tvText = vText + \"<p><strong>Errores:</strong></p>\" + \"<ul>\";\r\n\t\t\t\t\t\t\t\t\tvText = vText + \"<li>\" + oErrors.message + \"</li>\";\r\n\t\t\t\t\t\t\t\t\toErrors.details.forEach(function(det) {\r\n\t\t\t\t\t\t\t\t\t\tif (det.message !== \"Error forma de pago\") {\r\n\t\t\t\t\t\t\t\t\t\t\tvCnt = vCnt + 1;\r\n\t\t\t\t\t\t\t\t\t\t\tvText = vText + \"<li>\" + det.message + \"</li>\";\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\tvText = vText + \"</ul>\";\r\n\t\t\t\t\t\t\t\t\tsap.m.MessageBox.error(\"\", {\r\n\t\t\t\t\t\t\t\t\t\ttitle: \"Errores\",\r\n\t\t\t\t\t\t\t\t\t\tid: \"messageBoxId2\",\r\n\t\t\t\t\t\t\t\t\t\tdetails: vText,\r\n\t\t\t\t\t\t\t\t\t\tcontentWidth: \"40em\"\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t}*/\r\n\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.getView().setBusy(false);\r\n\t\t\t\t\t\tif (vText === \"\") {\r\n\t\t\t\t\t\t\tthis._onHeadActiveTrx(oModel, sProperty);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/*if (resp.statusCode.startsWith(\"2\")) {\r\n\t\t\t\t\t\t\t//sap.m.MessageBox.error(\"Se ha grabando la transacción satisfactoriamente\");\r\n\t\t\t\t\t\t\t//this.getRouter().navTo(\"worklist\");\r\n\t\t\t\t\t\t\tthis._onHeadActiveTrx(oModel, sProperty);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tsap.m.MessageBox.error(\"Error grabando la transacción\");\r\n\t\t\t\t\t\t\tthis.getView().setBusy(false);\r\n\t\t\t\t\t\t}*/\r\n\r\n\t\t\t\t\t}.bind(this),\r\n\t\t\t\t\terror: function(error) {\r\n\t\t\t\t\t\tthis.getView().setBusy(false);\r\n\t\t\t\t\t\tsap.m.MessageBox.error(\"Error grabando la transacción\");\r\n\t\t\t\t\t}.bind(this)\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t},\r\n\t\t_onHeadActiveTrx: function(pModel, pProperty) {\r\n\t\t\tthis.getView().setBusy(true);\r\n\t\t\tpModel.callFunction(\"/HeadActivate\", {\r\n\t\t\t\tmethod: \"POST\",\r\n\t\t\t\turlParameters: {\r\n\t\t\t\t\tTransactions: pProperty.Transactions,\r\n\t\t\t\t\tIsActiveEntity: false\r\n\t\t\t\t},\r\n\t\t\t\tsuccess: function(data, resp) {\r\n\t\t\t\t\tif (resp.statusCode.startsWith(\"2\")) {\r\n\t\t\t\t\t\t//sap.m.MessageBox.success(\"Se ha grabando la transacción satisfactoriamente\");\r\n\t\t\t\t\t\tthis.getRouter().navTo(\"worklist\");\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tsap.m.MessageBox.error(\"Error grabando la transacción\");\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.getView().setBusy(false);\r\n\t\t\t\t}.bind(this),\r\n\t\t\t\terror: function(error) {\r\n\t\t\t\t\tthis.getView().setBusy(false);\r\n\t\t\t\t\tsap.m.MessageBox.error(\"Error grabando la transacción\");\r\n\t\t\t\t}.bind(this)\r\n\t\t\t});\r\n\t\t},\r\n\t\t_onValidateForm: function(pClearState, pClearValue) {\r\n\t\t\tvar oControlFieldAll = this.getView().getControlsByFieldGroupId(\"fgDG\"),\r\n\t\t\t\toControlTabledAll = this.getView().getControlsByFieldGroupId(\"fgDGT\"),\r\n\t\t\t\tsError = false,\r\n\t\t\t\tsValue = \"\",\r\n\t\t\t\tsRequired = false,\r\n\t\t\t\tsValueState = \"\";\r\n\r\n\t\t\toControlFieldAll.forEach(function(item) {\r\n\t\t\t\tif (item.getMetadata()._sClassName === \"sap.ui.comp.smartfield.SmartField\") {\r\n\t\t\t\t\tsValue = item.getValue() !== \"\" ? item.getValue() : null;\r\n\t\t\t\t\tsRequired = item.getMandatory();\r\n\t\t\t\t\tif (sRequired && !sValue && !pClearState) {\r\n\t\t\t\t\t\titem.setValueState(\"Error\");\r\n\t\t\t\t\t\tsError = true;\r\n\t\t\t\t\t} else if (pClearState) {\r\n\t\t\t\t\t\tif (pClearValue) {\r\n\t\t\t\t\t\t\titem.setValue();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\titem.setValueState(\"None\");\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\titem.setValueState(\"None\");\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\toControlTabledAll.forEach(function(item) {\r\n\t\t\t\tif (item.getMetadata()._sClassName === \"sap.ui.comp.smartfield.SmartField\") {\r\n\t\t\t\t\tsValue = item.getValue() !== \"\" ? item.getValue() : null;\r\n\t\t\t\t\tsRequired = item.getMandatory();\r\n\t\t\t\t\tsValueState = item.getValueState();\r\n\t\t\t\t\tif (sRequired && sValue && sValue !== \"\" && sValueState !== \"None\" && !pClearState) {\r\n\t\t\t\t\t\tsError = true;\r\n\t\t\t\t\t} else if (sRequired && !sValue && sValue === \"\" && !pClearState) {\r\n\t\t\t\t\t\titem.setValueState(\"Error\");\r\n\t\t\t\t\t\tsError = true;\r\n\t\t\t\t\t} else if (pClearState) {\r\n\t\t\t\t\t\tif (pClearValue) {\r\n\t\t\t\t\t\t\titem.setValue();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\titem.setValueState(\"None\");\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\titem.setValueState(\"None\");\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\treturn sError;\r\n\t\t},\r\n\t\tonCancelTransaction: function(oEvent) {\r\n\t\t\tthis._onNavBack(oEvent);\r\n\t\t},\r\n\t\r\n\t\t_getObjectPosition: function(sBindPropertyPosition, sBindPropertyPositionMP) {\r\n\t\t\tvar oModel = this.getModel(),\r\n\t\t\t\toObjectPosition = [];\r\n\t\t\tif (sBindPropertyPosition && sBindPropertyPosition.__list) {\r\n\t\t\t\tsBindPropertyPosition.__list.forEach(function(item) {\r\n\t\t\t\t\toObjectPosition.push(oModel.getObject(\"/\" + item));\r\n\t\t\t\t}.bind(this));\r\n\t\t\t\toObjectPosition = oObjectPosition;\r\n\t\t\t}\r\n\t\t\tif (sBindPropertyPositionMP && sBindPropertyPositionMP.__list) {\r\n\t\t\t\tsBindPropertyPositionMP.__list.forEach(function(item) {\r\n\t\t\t\t\toObjectPosition.push(oModel.getObject(\"/\" + item));\r\n\t\t\t\t}.bind(this));\r\n\t\t\t\toObjectPosition = oObjectPosition;\r\n\t\t\t}\r\n\t\t\treturn oObjectPosition;\r\n\t\t},\r\n\t\t_onAddPosition: function(oEvent) {\r\n\t\t\tvar sModel = this.getModel(),\r\n\t\t\t\tsBindContextView = this.getView().getBindingContext()\r\n\t\t\t\t//sObjectPos = Object.assign({}, this._returnObjectPosition())\r\n\t\t\t;\r\n\t\t\t//delete sObjectPos.Businessdaydate;\r\n\t\t\t//this.getView().setBusy(true);\r\n\t\t\tsModel.create(sBindContextView.getPath() + \"/to_Position\", {}, {\r\n\t\t\t\taysnc: false,\r\n\t\t\t\tsuccess: function(oEvent) {\r\n\t\t\t\t\t//this.getView().byId(\"LineItemsSmartTable\").rebindTable(true);\r\n\t\t\t\t\t//this.getView().getModel().refresh(true);\r\n\t\t\t\t\tthis.getView().setBusy(false);\r\n\t\t\t\t}.bind(this),\r\n\t\t\t\terror: function(oEvent) {\r\n\t\t\t\t\tthis.getView().setBusy(false);\r\n\t\t\t\t}.bind(this)\r\n\t\t\t});\r\n\t\t},\r\n\t\t_onRemovePosition: function(oEvent) {\r\n\t\t\tvar sTable = this.byId(\"LineItemsSmartTable\").getTable(),\r\n\t\t\t\tsContext = sTable.getSelectedContexts(),\r\n\t\t\t\tsPath = sContext.length > 0 ? sContext[0].getPath() : \"\",\r\n\t\t\t\tsModel = this.getModel();\r\n\t\t\tif (sPath !== \"\") {\r\n\t\t\t\t//this.getView().setBusy(true);\r\n\t\t\t\tsModel.remove(sPath, {\r\n\t\t\t\t\taysnc: false,\r\n\t\t\t\t\tsuccess: function(data, resp) {\r\n\t\t\t\t\t\t//this.getView().byId(\"LineItemsSmartTable\").rebindTable(true);\r\n\t\t\t\t\t\t//this.getView().getModel().refresh(true);\r\n\t\t\t\t\t\tthis.getView().setBusy(false);\r\n\t\t\t\t\t}.bind(this),\r\n\t\t\t\t\terror: function(resp) {\r\n\t\t\t\t\t\tthis.getView().setBusy(false);\r\n\t\t\t\t\t}.bind(this)\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\t\t_onAddPositionMP: function(oEvent) {\r\n\t\t\tvar sModel = this.getModel(),\r\n\t\t\t\tsBindContextView = this.getView().getBindingContext()\r\n\t\t\t\t//sObjectPos = Object.assign({}, this._returnObjectPosition())\r\n\t\t\t;\r\n\t\t\t//delete sObjectPos.Businessdaydate;\r\n\t\t\t//this.getView().setBusy(true);\r\n\t\t\tsModel.create(sBindContextView.getPath() + \"/to_Positionmp\", {}, {\r\n\t\t\t\taysnc: false,\r\n\t\t\t\tsuccess: function(oEvent) {\r\n\t\t\t\t\t//this.getView().byId(\"LineItemsSmartTableMP\").rebindTable(true);\r\n\t\t\t\t\t//this.getView().getModel().refresh(true);\r\n\t\t\t\t\tthis.getView().setBusy(false);\r\n\t\t\t\t}.bind(this),\r\n\t\t\t\terror: function(oEvent) {\r\n\t\t\t\t\tthis.getView().setBusy(false);\r\n\t\t\t\t}.bind(this)\r\n\t\t\t});\r\n\t\t},\r\n\t\t_onRemovePositionMP: function(oEvent) {\r\n\t\t\tvar sTable = this.byId(\"LineItemsSmartTableMP\").getTable(),\r\n\t\t\t\tsContext = sTable.getSelectedContexts(),\r\n\t\t\t\tsPath = sContext.length > 0 ? sContext[0].getPath() : \"\",\r\n\t\t\t\tsModel = this.getModel();\r\n\t\t\tif (sPath !== \"\") {\r\n\t\t\t\t//this.getView().setBusy(true);\r\n\t\t\t\tsModel.remove(sPath, {\r\n\t\t\t\t\taysnc: false,\r\n\t\t\t\t\tsuccess: function(data, resp) {\r\n\t\t\t\t\t\t//this.getView().byId(\"LineItemsSmartTableMP\").rebindTable(true);\r\n\t\t\t\t\t\t//this.getView().getModel().refresh(true);\r\n\t\t\t\t\t\tthis.getView().setBusy(false);\r\n\t\t\t\t\t}.bind(this),\r\n\t\t\t\t\terror: function(resp) {\r\n\t\t\t\t\t\tthis.getView().setBusy(false);\r\n\t\t\t\t\t}.bind(this)\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tonBeforeRebindTablePos: function(oEvent) {\r\n\t\t\tvar oBindingParams = oEvent.getParameter(\"bindingParams\");\r\n\t\t\tthis.getView().setBusy(true);\r\n\t\t\toBindingParams.events = {\r\n\t\t\t\t\"dataReceived\": function(oEvent) {\r\n\t\t\t\t\tthis.getView().setBusy(false);\r\n\t\t\t\t}.bind(this)\r\n\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t});\r\n\r\n});",
		"app/eci/zcaraltatrx2/view/CopyOfObject.view.xml": "<mvc:View controllerName=\"app.eci.zcaraltatrx2.controller.Object\" xmlns:mvc=\"sap.ui.core.mvc\" xmlns=\"sap.uxap\" xmlns:m=\"sap.m\"\r\n\txmlns:smartForm=\"sap.ui.comp.smartform\" xmlns:sap.ui.layout=\"sap.ui.layout\" xmlns:smartTable=\"sap.ui.comp.smarttable\"\r\n\txmlns:l=\"sap.ui.layout\" xmlns:core=\"sap.ui.core\" xmlns:smartField=\"sap.ui.comp.smartfield\" height=\"100%\" xmlns:table=\"sap.ui.table\"\r\n\txmlns:customData=\"http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1\" xmlns:f=\"sap.ui.layout.form\">\r\n\t<ObjectPageLayout id=\"ObjectPageLayout\" upperCaseAnchorBar=\"false\" showFooter=\"true\">\r\n\t\t<headerTitle>\r\n\t\t\t<ObjectPageHeader objectTitle=\"Objeto de creación\"></ObjectPageHeader>\r\n\t\t</headerTitle>\r\n\t\t<headerContent>\r\n\t\t\t<!--<m:ObjectAttribute title=\"\" text=\"This example explains the rules for the rendering of sections\"/>-->\r\n\t\t</headerContent>\r\n\t\t<sections>\r\n\t\t\t<ObjectPageSection titleUppercase=\"false\" title=\"Datos de cabecera\">\r\n\t\t\t\t<subSections>\r\n\t\t\t\t\t<ObjectPageSubSection titleUppercase=\"false\">\r\n\t\t\t\t\t\t<blocks>\r\n\t\t\t\t\t\t\t<f:SimpleForm id=\"SimpleFormChange480_Trial\" editable=\"true\" layout=\"ResponsiveGridLayout\" title=\"Address\" labelSpanXL=\"4\" labelSpanL=\"4\"\r\n\t\t\t\t\t\t\t\tlabelSpanM=\"4\" labelSpanS=\"12\" adjustLabelSpan=\"false\" emptySpanXL=\"0\" emptySpanL=\"0\" emptySpanM=\"0\" emptySpanS=\"0\" columnsXL=\"3\"\r\n\t\t\t\t\t\t\t\tcolumnsL=\"2\" columnsM=\"2\" singleContainerFullSize=\"false\">\r\n\t\t\t\t\t\t\t\t<f:content>\r\n\t\t\t\t\t\t\t\t\t<core:Title text=\"\"/>\r\n\t\t\t\t\t\t\t\t\t<m:Label text=\"{/#HeadType/Transtypecode/@sap:label}\"/>\r\n\t\t\t\t\t\t\t\t\t<m:Select id=\"Transtypecode\" selectedKey=\"{modelCreate>/Transtypecode}\" items=\"{/zcds_audit_tranty_vh}\" fieldGroupIds=\"fgDG\"\r\n\t\t\t\t\t\t\t\t\t\tchange=\"onChangeValue\">\r\n\t\t\t\t\t\t\t\t\t\t<m:items>\r\n\t\t\t\t\t\t\t\t\t\t\t<core:Item text=\"{Description}\" key=\"{Transtypecode}\"/>\r\n\t\t\t\t\t\t\t\t\t\t</m:items>\r\n\t\t\t\t\t\t\t\t\t</m:Select>\r\n\t\t\t\t\t\t\t\t\t<m:Label text=\"{/#HeadType/Retailstoreid/@sap:label}\"/>\r\n\t\t\t\t\t\t\t\t\t<m:Input id=\"Retailstoreid\" value=\"{modelCreate>/Retailstoreid}\" fieldGroupIds=\"fgDG\" change=\"onChangeValue\"/>\r\n\t\t\t\t\t\t\t\t\t<m:Label text=\"{/#HeadType/Businessdaydate/@sap:label}\"/>\r\n\t\t\t\t\t\t\t\t\t<m:DatePicker id=\"Businessdaydate\"\r\n\t\t\t\t\t\t\t\t\t\tvalue=\"{ 'path':'modelCreate>/Businessdaydate', 'type':'sap.ui.model.type.Date', 'formatOptions': { 'pattern': 'dd-MM-yyyy' } }\"\r\n\t\t\t\t\t\t\t\t\t\tchange=\"onChangeValue\" class=\"sapUiSmallMarginBottom\"/>\r\n\t\t\t\t\t\t\t\t\t<m:Label text=\"{/#HeadType/Workstationid/@sap:label}\"/>\r\n\t\t\t\t\t\t\t\t\t<m:Input id=\"Workstationid\" value=\"{modelCreate>/Workstationid}\" fieldGroupIds=\"fgDG\" change=\"onChangeValue\"/>\r\n\t\t\t\t\t\t\t\t\t<m:Label text=\"{/#HeadType/Transnumber/@sap:label}\"/>\r\n\t\t\t\t\t\t\t\t\t<m:Input id=\"Transnumber\" value=\"{modelCreate>/Transnumber}\" fieldGroupIds=\"fgDG\" change=\"onChangeValue\"/>\r\n\t\t\t\t\t\t\t\t\t<m:Label text=\"{/#HeadType/Zzvofretir/@sap:label}\"/>\r\n\t\t\t\t\t\t\t\t\t<m:Input id=\"Zzvofretir\" value=\"{modelCreate>/Zzvofretir}\" fieldGroupIds=\"fgDG\" change=\"onChangeValue\"/>\r\n\t\t\t\t\t\t\t\t\t<core:Title text=\"\"/>\r\n\t\t\t\t\t\t\t\t\t<m:Label text=\"{/#HeadType/Operatorid/@sap:label}\"/>\r\n\t\t\t\t\t\t\t\t\t<m:Input id=\"Operatorid\" value=\"{modelCreate>/Operatorid}\" fieldGroupIds=\"fgDG\" change=\"onChangeValue\"/>\r\n\t\t\t\t\t\t\t\t\t<m:Label text=\"{/#HeadType/BegintimestampCreate/@sap:label}\"/>\r\n\t\t\t\t\t\t\t\t\t<m:DateTimePicker id=\"DTP2\" showCurrentDateButton=\"true\" showCurrentTimeButton=\"true\"\r\n\t\t\t\t\t\t\t\t\t\tvalue=\"{ 'path': 'modelCreate>/BegintimestampCreate', 'type': 'sap.ui.model.type.DateTime', 'formatOptions': { 'style': 'medium' } }\"\r\n\t\t\t\t\t\t\t\t\t\tchange=\"onChangeValue\" class=\"sapUiSmallMarginBottom\"/>\r\n\t\t\t\t\t\t\t\t\t<m:Label text=\"{/#HeadType/Origbusinessdate/@sap:label}\"/>\r\n\t\t\t\t\t\t\t\t\t<m:DatePicker id=\"Origbusinessdate\"\r\n\t\t\t\t\t\t\t\t\t\tvalue=\"{ 'path':'modelCreate>/Origbusinessdate', 'type':'sap.ui.model.type.Date', 'formatOptions': { 'pattern': 'dd-MM-yyyy' } }\"\r\n\t\t\t\t\t\t\t\t\t\tchange=\"onChangeValue\" class=\"sapUiSmallMarginBottom\"/>\r\n\t\t\t\t\t\t\t\t\t<m:Label text=\"{/#HeadType/Origstoreid/@sap:label}\"/>\r\n\t\t\t\t\t\t\t\t\t<m:Input id=\"Origstoreid\" value=\"{modelCreate>/Origstoreid}\" fieldGroupIds=\"fgDG\" change=\"onChangeValue\"/>\r\n\t\t\t\t\t\t\t\t\t<m:Label text=\"{/#HeadType/Origwrkstid/@sap:label}\"/>\r\n\t\t\t\t\t\t\t\t\t<m:Input id=\"Origwrkstid\" value=\"{modelCreate>/Origwrkstid}\" fieldGroupIds=\"fgDG\" change=\"onChangeValue\"/>\r\n\t\t\t\t\t\t\t\t\t<m:Label text=\"{/#HeadType/Origtransnumber/@sap:label}\"/>\r\n\t\t\t\t\t\t\t\t\t<m:Input id=\"Origtransnumber\" value=\"{modelCreate>/Origtransnumber}\" fieldGroupIds=\"fgDG\" change=\"onChangeValue\"/>\r\n\t\t\t\t\t\t\t\t\t<core:Title text=\"\"/>\r\n\t\t\t\t\t\t\t\t\t<m:Label text=\"{/#HeadType/Zzimptrans/@sap:label}\"/>\r\n\t\t\t\t\t\t\t\t\t<m:Input id=\"Zzimptrans\" value=\"{modelCreate>/Zzimptrans}\" fieldGroupIds=\"fgDG\" change=\"onChangeValue\"/>\r\n\t\t\t\t\t\t\t\t\t<m:Label text=\"{/#HeadType/Zzimptranscalc/@sap:label}\"/>\r\n\t\t\t\t\t\t\t\t\t<m:Input id=\"Zzimptranscalc\" value=\"{modelCreate>/Zzimptranscalc}\" fieldGroupIds=\"fgDG\" change=\"onChangeValue\"/>\r\n\t\t\t\t\t\t\t\t\t<m:Label text=\"{/#HeadType/Zzformpag/@sap:label}\"/>\r\n\t\t\t\t\t\t\t\t\t<m:Input id=\"Zzformpag\" value=\"{modelCreate>/Zzformpag}\" fieldGroupIds=\"fgDG\" change=\"onChangeValue\"/>\r\n\t\t\t\t\t\t\t\t\t<m:Label text=\"{/#HeadType/ZzSenDesc/@sap:label}\"/>\r\n\t\t\t\t\t\t\t\t\t<m:Input id=\"ZzSenDesc\" value=\"{modelCreate>/ZzSenDesc}\" fieldGroupIds=\"fgDG\" change=\"onChangeValue\"/>\r\n\t\t\t\t\t\t\t\t\t<m:Label text=\"{/#HeadType/Actualizarht/@sap:label}\"/>\r\n\t\t\t\t\t\t\t\t\t<m:CheckBox selected=\"{modelCreate>/Actualizarht}\" />\r\n\t\t\t\t\t\t\t\t\t<m:Label text=\"{/#HeadType/bajaManual/@sap:label}\"/>\r\n\t\t\t\t\t\t\t\t\t<m:CheckBox selected=\"{modelCreate>/bajaManual}\" />\r\n\t\t\t\t\t\t\t\t</f:content>\r\n\t\t\t\t\t\t\t</f:SimpleForm>\r\n\t\t\t\t\t\t\t<!--<smartForm:SmartForm id=\"formCabecera\" editable=\"true\" title=\"\" binding=\"\">\r\n\t\t\t\t\t\t\t\t<smartForm:Group>\r\n\t\t\t\t\t\t\t\t\t<smartForm:GroupElement>\r\n\t\t\t\t\t\t\t\t\t\t<smartField:SmartField entitySet=\"Head\" value=\"{Transtypecode}\" id=\"Transtypecode\" fieldGroupIds=\"fgDG\" change=\"onChangeValue\"/>\r\n\t\t\t\t\t\t\t\t\t</smartForm:GroupElement>\r\n\t\t\t\t\t\t\t\t\t<smartForm:GroupElement>\r\n\t\t\t\t\t\t\t\t\t\t<smartField:SmartField entitySet=\"Head\" value=\"{Retailstoreid}\" id=\"Retailstoreid\" fieldGroupIds=\"fgDG\" change=\"onChangeValue\"/>\r\n\t\t\t\t\t\t\t\t\t</smartForm:GroupElement>\r\n\t\t\t\t\t\t\t\t\t<smartForm:GroupElement>\r\n\t\t\t\t\t\t\t\t\t\t<smartField:SmartField entitySet=\"Head\" value=\"{Businessdaydate}\" jsontype=\"Date\" id=\"Businessdaydate\" fieldGroupIds=\"fgDG\"\r\n\t\t\t\t\t\t\t\t\t\t\tchange=\"onChangeValue\"/>\r\n\t\t\t\t\t\t\t\t\t</smartForm:GroupElement>\r\n\t\t\t\t\t\t\t\t\t<smartForm:GroupElement>\r\n\t\t\t\t\t\t\t\t\t\t<smartField:SmartField entitySet=\"Head\" value=\"{Workstationid}\" id=\"Workstationid\" fieldGroupIds=\"fgDG\" change=\"onChangeValue\"/>\r\n\t\t\t\t\t\t\t\t\t</smartForm:GroupElement>\r\n\t\t\t\t\t\t\t\t\t<smartForm:GroupElement>\r\n\t\t\t\t\t\t\t\t\t\t<smartField:SmartField entitySet=\"Head\" value=\"{Transnumber}\" id=\"Transnumber\" fieldGroupIds=\"fgDG\" change=\"onChangeValue\"/>\r\n\t\t\t\t\t\t\t\t\t</smartForm:GroupElement>\r\n\t\t\t\t\t\t\t\t\t<smartForm:GroupElement>\r\n\t\t\t\t\t\t\t\t\t\t<smartField:SmartField entitySet=\"Head\" value=\"{Zzvofretir}\" id=\"Zzvofretir\" fieldGroupIds=\"fgDG\" change=\"onChangeValue\"/>\r\n\t\t\t\t\t\t\t\t\t</smartForm:GroupElement>\r\n\t\t\t\t\t\t\t\t</smartForm:Group>\r\n\t\t\t\t\t\t\t\t<smartForm:Group>\r\n\t\t\t\t\t\t\t\t\t<smartForm:GroupElement>\r\n\t\t\t\t\t\t\t\t\t\t<smartField:SmartField entitySet=\"Head\" value=\"{Operatorid}\" id=\"Operatorid\" fieldGroupIds=\"fgDG\" change=\"onChangeValue\"/>\r\n\t\t\t\t\t\t\t\t\t</smartForm:GroupElement>\r\n\t\t\t\t\t\t\t\t\t<smartForm:GroupElement>\r\n\t\t\t\t\t\t\t\t\t\t<smartField:SmartField entitySet=\"Head\" value=\"{BegintimestampCreate}\" id=\"Begintimestamp\" fieldGroupIds=\"fgDG\" change=\"onChangeValue\"/>\r\n\t\t\t\t\t\t\t\t\t</smartForm:GroupElement>\r\n\t\t\t\t\t\t\t\t\t<smartForm:GroupElement>\r\n\t\t\t\t\t\t\t\t\t\t<smartField:SmartField entitySet=\"Head\" value=\"{Origbusinessdate}\" id=\"Origbusinessdate\" fieldGroupIds=\"fgDG\" change=\"onChangeValue\"/>\r\n\t\t\t\t\t\t\t\t\t</smartForm:GroupElement>\r\n\t\t\t\t\t\t\t\t\t<smartForm:GroupElement>\r\n\t\t\t\t\t\t\t\t\t\t<smartField:SmartField entitySet=\"Head\" value=\"{Origstoreid}\" id=\"Origstoreid\" fieldGroupIds=\"fgDG\" change=\"onChangeValue\"/>\r\n\t\t\t\t\t\t\t\t\t</smartForm:GroupElement>\r\n\t\t\t\t\t\t\t\t\t<smartForm:GroupElement>\r\n\t\t\t\t\t\t\t\t\t\t<smartField:SmartField entitySet=\"Head\" value=\"{Origwrkstid}\" id=\"Origwrkstid\" fieldGroupIds=\"fgDG\" change=\"onChangeValue\"/>\r\n\t\t\t\t\t\t\t\t\t</smartForm:GroupElement>\r\n\t\t\t\t\t\t\t\t\t<smartForm:GroupElement>\r\n\t\t\t\t\t\t\t\t\t\t<smartField:SmartField entitySet=\"Head\" value=\"{Origtransnumber}\" id=\"Origtransnumber\" fieldGroupIds=\"fgDG\" change=\"onChangeValue\"/>\r\n\t\t\t\t\t\t\t\t\t</smartForm:GroupElement>\r\n\t\t\t\t\t\t\t\t</smartForm:Group>\r\n\t\t\t\t\t\t\t\t<smartForm:Group>\r\n\t\t\t\t\t\t\t\t\t<smartForm:GroupElement>\r\n\t\t\t\t\t\t\t\t\t\t<smartField:SmartField entitySet=\"Head\" value=\"{Zzimptrans}\" id=\"Zzimptrans\" fieldGroupIds=\"fgDG\" change=\"onChangeValue\"/>\r\n\t\t\t\t\t\t\t\t\t</smartForm:GroupElement>\r\n\t\t\t\t\t\t\t\t\t<smartForm:GroupElement>\r\n\t\t\t\t\t\t\t\t\t\t<smartField:SmartField entitySet=\"Head\" value=\"{Zzimptranscalc}\" id=\"Zzimptranscalc\" fieldGroupIds=\"fgDG\" change=\"onChangeValue\"/>\r\n\t\t\t\t\t\t\t\t\t</smartForm:GroupElement>\r\n\t\t\t\t\t\t\t\t\t<smartForm:GroupElement>\r\n\t\t\t\t\t\t\t\t\t\t<smartField:SmartField entitySet=\"Head\" value=\"{Zzformpag}\" textInEditModeSource=\"ValueList\" id=\"Zzformpag\" fieldGroupIds=\"fgDG\" change=\"onChangeValue\"/>\r\n\t\t\t\t\t\t\t\t\t</smartForm:GroupElement>\r\n\t\t\t\t\t\t\t\t\t<smartForm:GroupElement>\r\n\t\t\t\t\t\t\t\t\t\t<smartField:SmartField entitySet=\"Head\" value=\"{ZzSenDesc}\" id=\"ZzSenDesc\" fieldGroupIds=\"fgDG\" change=\"onChangeValue\"/>\r\n\t\t\t\t\t\t\t\t\t</smartForm:GroupElement>\r\n\t\t\t\t\t\t\t\t\t<smartForm:GroupElement>\r\n\t\t\t\t\t\t\t\t\t\t<smartField:SmartField entitySet=\"Head\" value=\"{Actualizarht}\" id=\"Actualizarht\" change=\"onChangeValue\"/>\r\n\t\t\t\t\t\t\t\t\t</smartForm:GroupElement>\r\n\t\t\t\t\t\t\t\t</smartForm:Group>\r\n\t\t\t\t\t\t\t</smartForm:SmartForm>-->\r\n\t\t\t\t\t\t</blocks>\r\n\t\t\t\t\t</ObjectPageSubSection>\r\n\t\t\t\t</subSections>\r\n\t\t\t</ObjectPageSection>\r\n\t\t\t<ObjectPageSection titleUppercase=\"false\" title=\"Datos de medio de pago\">\r\n\t\t\t\t<subSections>\r\n\t\t\t\t\t<ObjectPageSubSection titleUppercase=\"false\">\r\n\t\t\t\t\t\t<blocks>\r\n\t\t\t\t\t\t\t<smartTable:SmartTable id=\"LineItemsSmartTableMP\" entitySet=\"Positionmp\" smartFilterId=\"smartFilterBar\" tableType=\"GridTable\"\r\n\t\t\t\t\t\t\t\tuseExportToExcel=\"false\" beforeExport=\"onBeforeExport\" useVariantManagement=\"true\" useTablePersonalisation=\"false\" showRowCount=\"true\"\r\n\t\t\t\t\t\t\t\tpersistencyKey=\"SmartTableAnalytical_Explored\" enableAutoBinding=\"false\" class=\"sapUiResponsiveContentPadding\" enableAutoColumnWidth=\"true\"\r\n\t\t\t\t\t\t\t\teditTogglable=\"false\" beforeRebindTable=\"onBeforeRebindTablePosMP\" customData:useSmartField=\"true\" fieldChange=\"onChangeValuePosition\"\r\n\t\t\t\t\t\t\t\tfieldGroupIds=\"fgDGT\">\r\n\t\t\t\t\t\t\t\t<smartTable:customToolbar>\r\n\t\t\t\t\t\t\t\t\t<m:OverflowToolbar design=\"Transparent\">\r\n\t\t\t\t\t\t\t\t\t\t<m:ToolbarSpacer/>\r\n\t\t\t\t\t\t\t\t\t\t<m:OverflowToolbarButton icon=\"sap-icon://add\" tooltip=\"Agregar\" press=\"_onAddPositionMP\"/>\r\n\t\t\t\t\t\t\t\t\t\t<m:OverflowToolbarButton icon=\"sap-icon://decline\" tooltip=\"Borrar\" press=\"_onRemovePositionMP\"/>\r\n\t\t\t\t\t\t\t\t\t</m:OverflowToolbar>\r\n\t\t\t\t\t\t\t\t</smartTable:customToolbar>\r\n\t\t\t\t\t\t\t\t<!--<m:Table mode=\"SingleSelectLeft\" growing=\"true\"/>-->\r\n\t\t\t\t\t\t\t\t<m:Table mode=\"SingleSelectLeft\" growing=\"true\" growingScrollToLoad=\"true\" growingThreshold=\"20\" visibleRowCount=\"2\">\r\n\t\t\t\t\t\t\t\t\t<m:columns>\r\n\t\t\t\t\t\t\t\t\t\t<m:Column width=\"100px\" hAlign=\"Left\">\r\n\t\t\t\t\t\t\t\t\t\t\t<m:customData>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<core:CustomData key=\"p13nData\" value='\\{\"columnKey\": \"Tenderamount\", \"columnIndex\":\"0\", \"leadingProperty\": \"Tenderamount\"}'/>\r\n\t\t\t\t\t\t\t\t\t\t\t</m:customData>\r\n\t\t\t\t\t\t\t\t\t\t\t<m:Text text=\"{/#PositionmpType/Tenderamount/@sap:label}\"/>\r\n\t\t\t\t\t\t\t\t\t\t</m:Column>\r\n\t\t\t\t\t\t\t\t\t</m:columns>\r\n\t\t\t\t\t\t\t\t\t<m:items>\r\n\t\t\t\t\t\t\t\t\t\t<m:ColumnListItem >\r\n\t\t\t\t\t\t\t\t\t\t\t<m:cells>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<m:Input\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue=\"{path:'Tenderamount', type:'sap.ui.model.odata.type.Decimal', formatOptions:{minFractionDigits:3,maxFractionDigits:3}, constraints:{precision:13,scale:3}}\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tchange=\"onChangeValuePosition\"/>\r\n\t\t\t\t\t\t\t\t\t\t\t</m:cells>\r\n\t\t\t\t\t\t\t\t\t\t</m:ColumnListItem>\r\n\t\t\t\t\t\t\t\t\t</m:items>\r\n\t\t\t\t\t\t\t\t</m:Table>\r\n\t\t\t\t\t\t\t\t<smartTable:layoutData>\r\n\t\t\t\t\t\t\t\t\t<m:FlexItemData growFactor=\"1\" baseSize=\"0%\"/>\r\n\t\t\t\t\t\t\t\t</smartTable:layoutData>\r\n\t\t\t\t\t\t\t</smartTable:SmartTable>\r\n\t\t\t\t\t\t</blocks>\r\n\t\t\t\t\t</ObjectPageSubSection>\r\n\t\t\t\t</subSections>\r\n\t\t\t</ObjectPageSection>\r\n\t\t\t<ObjectPageSection titleUppercase=\"false\" title=\"Datos de posiciones\">\r\n\t\t\t\t<subSections>\r\n\t\t\t\t\t<ObjectPageSubSection titleUppercase=\"false\">\r\n\t\t\t\t\t\t<blocks>\r\n\t\t\t\t\t\t\t<smartTable:SmartTable id=\"LineItemsSmartTable\" entitySet=\"Position\" smartFilterId=\"smartFilterBar\" tableType=\"ResponsiveTable\"\r\n\t\t\t\t\t\t\t\tuseExportToExcel=\"false\" beforeExport=\"onBeforeExport\" useVariantManagement=\"true\" useTablePersonalisation=\"false\" showRowCount=\"true\"\r\n\t\t\t\t\t\t\t\tpersistencyKey=\"SmartTableAnalytical_Explored\" enableAutoBinding=\"false\" class=\"sapUiResponsiveContentPadding\" enableAutoColumnWidth=\"true\"\r\n\t\t\t\t\t\t\t\teditTogglable=\"false\" beforeRebindTable=\"onBeforeRebindTablePos\" customData:useSmartField=\"true\" fieldChange=\"onChangeValuePosition\"\r\n\t\t\t\t\t\t\t\tfieldGroupIds=\"fgDGT\" demandPopin=\"true\">\r\n\t\t\t\t\t\t\t\t<smartTable:customToolbar>\r\n\t\t\t\t\t\t\t\t\t<m:OverflowToolbar design=\"Transparent\">\r\n\t\t\t\t\t\t\t\t\t\t<m:ToolbarSpacer/>\r\n\t\t\t\t\t\t\t\t\t\t<m:OverflowToolbarButton icon=\"sap-icon://add\" tooltip=\"Agregar\" press=\"_onAddPosition\"/>\r\n\t\t\t\t\t\t\t\t\t\t<m:OverflowToolbarButton icon=\"sap-icon://decline\" tooltip=\"Borrar\" press=\"_onRemovePosition\"/>\r\n\t\t\t\t\t\t\t\t\t</m:OverflowToolbar>\r\n\t\t\t\t\t\t\t\t</smartTable:customToolbar>\r\n\t\t\t\t\t\t\t\t<!--<m:Table mode=\"SingleSelectLeft\" growing=\"true\"/>-->\r\n\t\t\t\t\t\t\t\t<m:Table mode=\"SingleSelectLeft\" growing=\"true\" growingScrollToLoad=\"true\" growingThreshold=\"20\">\r\n\t\t\t\t\t\t\t\t\t<m:columns>\r\n\t\t\t\t\t\t\t\t\t\t<m:Column width=\"100px\" hAlign=\"Left\">\r\n\t\t\t\t\t\t\t\t\t\t\t<m:customData>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<core:CustomData key=\"p13nData\" value='\\{\"columnKey\": \"Retailquantity\", \"columnIndex\":\"5\", \"leadingProperty\": \"Retailquantity\"}'/>\r\n\t\t\t\t\t\t\t\t\t\t\t</m:customData>\r\n\t\t\t\t\t\t\t\t\t\t\t<m:Text text=\"Cantidad\"/>\r\n\t\t\t\t\t\t\t\t\t\t</m:Column>\r\n\t\t\t\t\t\t\t\t\t</m:columns>\r\n\t\t\t\t\t\t\t\t\t<m:items>\r\n\t\t\t\t\t\t\t\t\t\t<m:ColumnListItem >\r\n\t\t\t\t\t\t\t\t\t\t\t<m:cells>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<m:Input\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue=\"{path:'Retailquantity', type:'sap.ui.model.odata.type.Decimal', formatOptions:{minFractionDigits:3,maxFractionDigits:3}, constraints:{precision:13,scale:3}}\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tchange=\"onChangeValuePosition\"/>\r\n\t\t\t\t\t\t\t\t\t\t\t</m:cells>\r\n\t\t\t\t\t\t\t\t\t\t</m:ColumnListItem>\r\n\t\t\t\t\t\t\t\t\t</m:items>\r\n\t\t\t\t\t\t\t\t\t<!--\t<m:columns>\r\n\t\t\t\t\t\t\t\t\t\t<m:Column width=\"100px\" hAlign=\"Left\">\r\n\t\t\t\t\t\t\t\t\t\t\t<m:customData>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<core:CustomData key=\"p13nData\" value='\\{\"columnKey\": \"Retailquantity\", \"columnIndex\":\"4\", \"leadingProperty\": \"Retailquantity\"}'/>\r\n\t\t\t\t\t\t\t\t\t\t\t</m:customData>\r\n\t\t\t\t\t\t\t\t\t\t\t<m:Text text=\"Cantidad\"/>\r\n\t\t\t\t\t\t\t\t\t\t</m:Column>\r\n\t\t\t\t\t\t\t\t\t\t<m:Column width=\"100px\" hAlign=\"Left\">\r\n\t\t\t\t\t\t\t\t\t\t\t<m:customData>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<core:CustomData key=\"p13nData\" value='\\{\"columnKey\": \"TenderAmount\", \"columnIndex\":\"8\", \"leadingProperty\": \"Retailquantity\"}'/>\r\n\t\t\t\t\t\t\t\t\t\t\t</m:customData>\r\n\t\t\t\t\t\t\t\t\t\t\t<m:Text text=\"Importe Medio de Pago\"/>\r\n\t\t\t\t\t\t\t\t\t\t</m:Column>\r\n\t\t\t\t\t\t\t\t\t</m:columns>\r\n\t\t\t\t\t\t\t\t\t<m:items>\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t<m:ColumnListItem >\r\n\t\t\t\t\t\t\t\t\t\t\t<m:cells>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<m:Input\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue=\"{path:'Retailquantity', type:'sap.ui.model.odata.type.Decimal', formatOptions:{minFractionDigits:3,maxFractionDigits:3}, constraints:{precision:13,scale:3}}\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tchange=\"onChangeValuePosition\"/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<m:Input\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue=\"{path:'TenderAmount', type:'sap.ui.model.odata.type.Decimal', formatOptions:{minFractionDigits:3,maxFractionDigits:3}, constraints:{precision:13,scale:3}}\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tchange=\"onChangeValuePosition\"/>\r\n\t\t\t\t\t\t\t\t\t\t\t</m:cells>\r\n\t\t\t\t\t\t\t\t\t\t</m:ColumnListItem>\r\n\t\t\t\t\t\t\t\t\t</m:items>-->\r\n\t\t\t\t\t\t\t\t</m:Table>\r\n\t\t\t\t\t\t\t\t<smartTable:layoutData>\r\n\t\t\t\t\t\t\t\t\t<m:FlexItemData growFactor=\"1\" baseSize=\"0%\"/>\r\n\t\t\t\t\t\t\t\t</smartTable:layoutData>\r\n\t\t\t\t\t\t\t</smartTable:SmartTable>\r\n\t\t\t\t\t\t</blocks>\r\n\t\t\t\t\t</ObjectPageSubSection>\r\n\t\t\t\t</subSections>\r\n\t\t\t</ObjectPageSection>\r\n\t\t</sections>\r\n\t\t<footer>\r\n\t\t\t<m:OverflowToolbar>\r\n\t\t\t\t<m:ToolbarSpacer/>\r\n\t\t\t\t<m:Button type=\"Accept\" text=\"Crear\" press=\"onSaveTransaction\"/>\r\n\t\t\t\t<m:Button type=\"Reject\" text=\"Cancelar\" press=\"onCancelTransaction\"/>\r\n\t\t\t</m:OverflowToolbar>\r\n\t\t</footer>\r\n\t</ObjectPageLayout>\r\n</mvc:View>",
		"app/eci/zcaraltatrx2/view/NotFound.view.xml": "<mvc:View\r\n\tcontrollerName=\"app.eci.zcaraltatrx2.controller.NotFound\"\r\n\txmlns:mvc=\"sap.ui.core.mvc\"\r\n\txmlns=\"sap.m\">\r\n\r\n\t<MessagePage\r\n\t\ttitle=\"{i18n>notFoundTitle}\"\r\n\t\ttext=\"{i18n>notFoundText}\"\r\n\t\ticon=\"{sap-icon://document}\"\r\n\t\tid=\"page\"\r\n\t\tdescription=\"\">\r\n\t\t<customDescription>\r\n\t\t\t<Link id=\"link\" text=\"{i18n>backToWorklist}\" press=\"onLinkPressed\" />\r\n\t\t</customDescription>\r\n\t</MessagePage>\r\n\r\n</mvc:View>",
		"app/eci/zcaraltatrx2/view/App.view.xml": "<mvc:View\r\n\txmlns:mvc=\"sap.ui.core.mvc\"\r\n\tcontrollerName=\"app.eci.zcaraltatrx2.controller.App\"\r\n\tdisplayBlock=\"true\"\r\n\txmlns=\"sap.m\">\r\n\r\n\t<App id=\"app\"\r\n\t\t busy=\"{appView>/busy}\"\r\n\t\t busyIndicatorDelay=\"{appView>/delay}\"/>\r\n\r\n</mvc:View>",
		"app/eci/zcaraltatrx2/view/Worklist.view.xml": "<mvc:View controllerName=\"app.eci.zcaraltatrx2.controller.Worklist\" xmlns=\"sap.m\" xmlns:mvc=\"sap.ui.core.mvc\"\r\n\txmlns:semantic=\"sap.f.semantic\" xmlns:footerbar=\"sap.ushell.ui.footerbar\" xmlns:smartFilterBar=\"sap.ui.comp.smartfilterbar\"\r\n\txmlns:smartTable=\"sap.ui.comp.smarttable\" xmlns:core=\"sap.ui.core\">\r\n\t<semantic:SemanticPage id=\"page\" headerPinnable=\"false\" toggleHeaderOnTitleClick=\"false\">\r\n\t\t<semantic:titleHeading>\r\n\t\t\t<Title text=\"{i18n>worklistTitle}\"/>\r\n\t\t</semantic:titleHeading>\r\n\t\t<semantic:headerContent>\r\n\t\t\t<!--id=\"smartFilterBar\" -->\r\n\t\t\t<smartFilterBar:SmartFilterBar id=\"smartFilterBar\" entitySet=\"Head\" persistencyKey=\"SmartFilter_Explored\">\r\n\t\t\t\t<smartFilterBar:layoutData>\r\n\t\t\t\t\t<FlexItemData shrinkFactor=\"0\"/>\r\n\t\t\t\t</smartFilterBar:layoutData>\r\n\t\t\t</smartFilterBar:SmartFilterBar>\r\n\t\t</semantic:headerContent>\r\n\t\t<semantic:content>\r\n\t\t\t<!--initiallyVisibleFields=\"Businessdaydate,Retailstoreid,Workstationid,Transnumber,Transtypecode,Operatorid,Begintimestamp,CreatedBy\"-->\r\n\t\t\t<smartTable:SmartTable entitySet=\"Head\" smartFilterId=\"smartFilterBar\" showRowCount=\"true\" enableAutoBinding=\"false\"\r\n\t\t\t\tpersistencyKey=\"SmartTable_Explored\" tableType=\"ResponsiveTable\" beforeRebindTable=\"onBeforeRebindTable\" useTablePersonalisation=\"true\"\r\n\t\t\t\tuseVariantManagement=\"true\" showVariantManagement=\"true\" showTablePersonalisation=\"true\">\r\n\t\t\t\t<smartTable:customToolbar>\r\n\t\t\t\t\t<OverflowToolbar >\r\n\t\t\t\t\t\t<ToolbarSpacer/>\r\n\t\t\t\t\t\t<Button icon=\"sap-icon://delete\" text=\"Baja de transacción ( Alta Manual )\" press=\"onExecuteBajaTrx\"/>\r\n\t\t\t\t\t\t<Button id=\"createButton\" text=\"{i18n>masterCreate}\" press=\"onCreate\" icon=\"sap-icon://create\"/>\r\n\t\t\t\t\t</OverflowToolbar>\r\n\t\t\t\t</smartTable:customToolbar>\r\n\t\t\t\t<Table id=\"table\" mode=\"SingleSelectLeft\" selectionChange=\"\" growing=\"true\">\r\n\t\t\t\t\t<items>\r\n\t\t\t\t\t\t<ColumnListItem type=\"Active\" vAlign=\"Middle\" navigated=\"true\" press=\"onRowSelectTable\"></ColumnListItem>\r\n\t\t\t\t\t</items>\r\n\t\t\t\t</Table>\r\n\t\t\t\t<smartTable:layoutData>\r\n\t\t\t\t\t<FlexItemData growFactor=\"1\" baseSize=\"0%\"/>\r\n\t\t\t\t</smartTable:layoutData>\r\n\t\t\t</smartTable:SmartTable>\r\n\t\t</semantic:content>\r\n\t</semantic:SemanticPage>\r\n</mvc:View>",
		"app/eci/zcaraltatrx2/view/ObjectNotFound.view.xml": "<mvc:View\r\n\tcontrollerName=\"app.eci.zcaraltatrx2.controller.NotFound\"\r\n\txmlns:mvc=\"sap.ui.core.mvc\"\r\n\txmlns=\"sap.m\">\r\n\r\n\t<MessagePage\r\n\t\ttitle=\"{i18n>objectTitle}\"\r\n\t\ttext=\"{i18n>noObjectFoundText}\"\r\n\t\ticon=\"{sap-icon://product}\"\r\n\t\tdescription=\"\"\r\n\t\tid=\"page\">\r\n\t\t<customDescription>\r\n\t\t\t<Link id=\"link\" text=\"{i18n>backToWorklist}\" press=\"onLinkPressed\" />\r\n\t\t</customDescription>\r\n\t</MessagePage>\r\n\r\n</mvc:View>",
		"app/eci/zcaraltatrx2/localService/mockserver.js": "sap.ui.define([\r\n\t\t\"sap/ui/core/util/MockServer\"\r\n\t], function (MockServer) {\r\n\t\t\"use strict\";\r\n\r\n\t\tvar oMockServer,\r\n\t\t\t_sAppModulePath = \"app/eci/zcaraltatrx2/\",\r\n\t\t\t_sJsonFilesModulePath = _sAppModulePath + \"localService/mockdata\";\r\n\r\n\t\treturn {\r\n\r\n\t\t\t/**\r\n\t\t\t * Initializes the mock server.\r\n\t\t\t * You can configure the delay with the URL parameter \"serverDelay\".\r\n\t\t\t * The local mock data in this folder is returned instead of the real data for testing.\r\n\t\t\t * @public\r\n\t\t\t */\r\n\r\n\t\t\tinit : function () {\r\n\t\t\t\tvar oUriParameters = jQuery.sap.getUriParameters(),\r\n\t\t\t\t\tsJsonFilesUrl = jQuery.sap.getModulePath(_sJsonFilesModulePath),\r\n\t\t\t\t\tsManifestUrl = jQuery.sap.getModulePath(_sAppModulePath + \"manifest\", \".json\"),\r\n\t\t\t\t\tsEntity = \"Head\",\r\n\t\t\t\t\tsErrorParam = oUriParameters.get(\"errorType\"),\r\n\t\t\t\t\tiErrorCode = sErrorParam === \"badRequest\" ? 400 : 500,\r\n\t\t\t\t\toManifest = jQuery.sap.syncGetJSON(sManifestUrl).data,\r\n\t\t\t\t\toMainDataSource = oManifest[\"sap.app\"].dataSources.mainService,\r\n\t\t\t\t\tsMetadataUrl = jQuery.sap.getModulePath(_sAppModulePath + oMainDataSource.settings.localUri.replace(\".xml\", \"\"), \".xml\"),\r\n\t\t\t\t\t// ensure there is a trailing slash\r\n\t\t\t\t\tsMockServerUrl = /.*\\/$/.test(oMainDataSource.uri) ? oMainDataSource.uri : oMainDataSource.uri + \"/\";\r\n\r\n\t\t\t\toMockServer = new MockServer({\r\n\t\t\t\t\trootUri : sMockServerUrl\r\n\t\t\t\t});\r\n\r\n\t\t\t\t// configure mock server with a delay of 1s\r\n\t\t\t\tMockServer.config({\r\n\t\t\t\t\tautoRespond : true,\r\n\t\t\t\t\tautoRespondAfter : (oUriParameters.get(\"serverDelay\") || 1000)\r\n\t\t\t\t});\r\n\r\n\t\t\t\t// Simulate a manual back-end call\r\n\t\t\t\toMockServer.simulate(sMetadataUrl, {\r\n\t\t\t\t\tsMockdataBaseUrl : sJsonFilesUrl,\r\n\t\t\t\t\tbGenerateMissingMockData : true\r\n\t\t\t\t});\r\n\r\n\t\t\t\tvar aRequests = oMockServer.getRequests(),\r\n\t\t\t\t\tfnResponse = function (iErrCode, sMessage, aRequest) {\r\n\t\t\t\t\t\taRequest.response = function(oXhr){\r\n\t\t\t\t\t\t\toXhr.respond(iErrCode, {\"Content-Type\": \"text/plain;charset=utf-8\"}, sMessage);\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t// handling the metadata error test\r\n\t\t\t\tif (oUriParameters.get(\"metadataError\")) {\r\n\t\t\t\t\taRequests.forEach( function ( aEntry ) {\r\n\t\t\t\t\t\tif (aEntry.path.toString().indexOf(\"$metadata\") > -1) {\r\n\t\t\t\t\t\t\tfnResponse(500, \"metadata Error\", aEntry);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Handling request errors\r\n\t\t\t\tif (sErrorParam) {\r\n\t\t\t\t\taRequests.forEach( function ( aEntry ) {\r\n\t\t\t\t\t\tif (aEntry.path.toString().indexOf(sEntity) > -1) {\r\n\t\t\t\t\t\t\tfnResponse(iErrorCode, sErrorParam, aEntry);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\toMockServer.setRequests(aRequests);\r\n\t\t\t\toMockServer.start();\r\n\r\n\t\t\t\tjQuery.sap.log.info(\"Running the app with mock data\");\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * @public returns the mockserver of the app, should be used in integration tests\r\n\t\t\t * @returns {sap.ui.core.util.MockServer} the mockserver instance\r\n\t\t\t */\r\n\t\t\tgetMockServer : function () {\r\n\t\t\t\treturn oMockServer;\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t}\r\n);",
		"app/eci/zcaraltatrx2/view/fragments/ValueHelpDialog.fragment.xml": "<core:FragmentDefinition xmlns=\"sap.ui.comp.valuehelpdialog\" xmlns:m=\"sap.m\" xmlns:fb=\"sap.ui.comp.filterbar\" xmlns:core=\"sap.ui.core\">\r\n\t<ValueHelpDialog title=\"Product\" ok=\".onValueHelpOkPress\" cancel=\".onValueHelpCancelPress\" afterClose=\".onValueHelpAfterClose\"\r\n\t\tsupportRanges=\"false\">\r\n\t\t<filterBar>\r\n\t\t\t<fb:FilterBar advancedMode=\"true\" search=\".onFilterBarSearch\" isRunningInValueHelpDialog=\"true\">\r\n\t\t\t<!--\t<fb:filterGroupItems>\r\n\t\t\t\t\t<fb:FilterGroupItem groupName=\"__$INTERNAL$\" name=\"ProductCode\" label=\"{/#zcar_cds_i_mediopago_vhType/Mediopagosub/@sap:label}\"\r\n\t\t\t\t\t\tvisibleInFilterBar=\"true\">\r\n\t\t\t\t\t\t<fb:control>\r\n\t\t\t\t\t\t\t<m:Input name=\"{/#zcar_cds_i_mediopago_vhType/Mediopagosub/@sap:label}\" value=\"{Mediopagosub}\"/>\r\n\t\t\t\t\t\t</fb:control>\r\n\t\t\t\t\t</fb:FilterGroupItem>\r\n\t\t\t\t\t<fb:FilterGroupItem groupName=\"__$INTERNAL$\" name=\"ProductName\" label=\"{/#zcar_cds_i_mediopago_vhType/Mediopagotext/@sap:label}\"\r\n\t\t\t\t\t\tvisibleInFilterBar=\"true\">\r\n\t\t\t\t\t\t<fb:control>\r\n\t\t\t\t\t\t\t<m:Input name=\"{/#zcar_cds_i_mediopago_vhType/Mediopagotext/@sap:label}\" value=\"{Mediopagotext}\"/>\r\n\t\t\t\t\t\t</fb:control>\r\n\t\t\t\t\t</fb:FilterGroupItem>\r\n\t\t\t\t</fb:filterGroupItems>-->\r\n\t\t\t</fb:FilterBar>\r\n\t\t</filterBar>\r\n\t</ValueHelpDialog>\r\n</core:FragmentDefinition>",
		"app/eci/zcaraltatrx2/view/fragments/ValueHelpDialogMP.fragment.xml": "<core:FragmentDefinition xmlns=\"sap.ui.comp.valuehelpdialog\" xmlns:m=\"sap.m\" xmlns:fb=\"sap.ui.comp.filterbar\" xmlns:core=\"sap.ui.core\">\r\n\t<ValueHelpDialog title=\"Product\" ok=\".onValueHelpOkPress\" cancel=\".onValueHelpCancelPress\" afterClose=\".onValueHelpAfterClose\"\r\n\t\tsupportRanges=\"false\">\r\n\t\t<filterBar>\r\n\t\t\t<fb:FilterBar advancedMode=\"true\" search=\".onFilterBarSearch\" isRunningInValueHelpDialog=\"true\">\r\n\t\t\t\t<fb:filterGroupItems>\r\n\t\t\t\t\t<fb:FilterGroupItem groupName=\"__$INTERNAL$\" name=\"Tipomp\" label=\"{/#zcar_cds_i_mediopago_vhType/Tipomp/@sap:label}\"\r\n\t\t\t\t\t\tvisibleInFilterBar=\"true\">\r\n\t\t\t\t\t\t<fb:control>\r\n\t\t\t\t\t\t\t<m:Input name=\"Tipomp\"/>\r\n\t\t\t\t\t\t</fb:control>\r\n\t\t\t\t\t</fb:FilterGroupItem>\r\n\t\t\t\t\t<fb:FilterGroupItem groupName=\"__$INTERNAL$\" name=\"Subtipmp\" label=\"{/#zcar_cds_i_mediopago_vhType/Subtipmp/@sap:label}\"\r\n\t\t\t\t\t\tvisibleInFilterBar=\"true\">\r\n\t\t\t\t\t\t<fb:control>\r\n\t\t\t\t\t\t\t<m:Input name=\"Subtipmp\"/>\r\n\t\t\t\t\t\t</fb:control>\r\n\t\t\t\t\t</fb:FilterGroupItem>\r\n\t\t\t\t\t<fb:FilterGroupItem groupName=\"__$INTERNAL$\" name=\"Mediopagotext\" label=\"{/#zcar_cds_i_mediopago_vhType/Mediopagotext/@sap:label}\"\r\n\t\t\t\t\t\tvisibleInFilterBar=\"true\">\r\n\t\t\t\t\t\t<fb:control>\r\n\t\t\t\t\t\t\t<m:Input name=\"Mediopagotext\"/>\r\n\t\t\t\t\t\t</fb:control>\r\n\t\t\t\t\t</fb:FilterGroupItem>\r\n\t\t\t\t\t<fb:FilterGroupItem groupName=\"__$INTERNAL$\" name=\"Mediopago\" label=\"{/#zcar_cds_i_mediopago_vhType/Mediopago/@sap:label}\"\r\n\t\t\t\t\t\tvisibleInFilterBar=\"true\">\r\n\t\t\t\t\t\t<fb:control>\r\n\t\t\t\t\t\t\t<m:Input name=\"Mediopago\"/>\r\n\t\t\t\t\t\t</fb:control>\r\n\t\t\t\t\t</fb:FilterGroupItem>\r\n\t\t\t\t\t<fb:FilterGroupItem groupName=\"__$INTERNAL$\" name=\"Desgloce\" label=\"{/#zcar_cds_i_mediopago_vhType/Desgloce/@sap:label}\"\r\n\t\t\t\t\t\tvisibleInFilterBar=\"true\">\r\n\t\t\t\t\t\t<fb:control>\r\n\t\t\t\t\t\t\t<m:Input name=\"Desgloce\"/>\r\n\t\t\t\t\t\t</fb:control>\r\n\t\t\t\t\t</fb:FilterGroupItem>\r\n\t\t\t\t</fb:filterGroupItems>\r\n\t\t\t</fb:FilterBar>\r\n\t\t</filterBar>\r\n\t</ValueHelpDialog>\r\n</core:FragmentDefinition>",
		"app/eci/zcaraltatrx2/view/fragments/Calendar.fragment.xml": "<core:FragmentDefinition xmlns=\"sap.m\" xmlns:core=\"sap.ui.core\" xmlns:l=\"sap.ui.layout\" xmlns:u=\"sap.ui.unified\">\r\n\t<Popover >\r\n\t\t\t<u:Calendar select=\"onHandleCalendarSelect\" minDate=\"{/minDate}\" disabledDates=\"{path: '/disabled'}\">\r\n\t\t\t<u:disabledDates>\r\n\t\t\t\t<u:DateRange startDate=\"{FperiodoClose}\"/>\r\n\t\t\t</u:disabledDates>\r\n\t\t</u:Calendar>\r\n\t</Popover>\r\n</core:FragmentDefinition>",
		"app/eci/zcaraltatrx2/model/models.js": "sap.ui.define([\r\n\t\t\"sap/ui/model/json/JSONModel\",\r\n\t\t\"sap/ui/Device\"\r\n\t], function (JSONModel, Device) {\r\n\t\t\"use strict\";\r\n\r\n\t\treturn {\r\n\r\n\t\t\tcreateDeviceModel : function () {\r\n\t\t\t\tvar oModel = new JSONModel(Device);\r\n\t\t\t\toModel.setDefaultBindingMode(\"OneWay\");\r\n\t\t\t\treturn oModel;\r\n\t\t\t},\r\n\r\n\t\t\tcreateFLPModel : function () {\r\n\t\t\t\tvar fnGetUser = jQuery.sap.getObject(\"sap.ushell.Container.getUser\"),\r\n\t\t\t\t\tbIsShareInJamActive = fnGetUser ? fnGetUser().isJamActive() : false,\r\n\t\t\t\t\toModel = new JSONModel({\r\n\t\t\t\t\t\tisShareInJamActive: bIsShareInJamActive\r\n\t\t\t\t\t});\r\n\t\t\t\toModel.setDefaultBindingMode(\"OneWay\");\r\n\t\t\t\treturn oModel;\r\n\t\t\t}\r\n\r\n\t\t};\r\n\r\n\t}\r\n);",
		"app/eci/zcaraltatrx2/model/formatter.js": "sap.ui.define([\r\n\t] , function () {\r\n\t\t\"use strict\";\r\n\r\n\t\treturn {\r\n\r\n\t\t\t/**\r\n\t\t\t * Rounds the number unit value to 2 digits\r\n\t\t\t * @public\r\n\t\t\t * @param {string} sValue the number string to be rounded\r\n\t\t\t * @returns {string} sValue with 2 digits rounded\r\n\t\t\t */\r\n\t\t\tnumberUnit : function (sValue) {\r\n\t\t\t\tif (!sValue) {\r\n\t\t\t\t\treturn \"\";\r\n\t\t\t\t}\r\n\t\t\t\treturn parseFloat(sValue).toFixed(2);\r\n\t\t\t}\r\n\r\n\t\t};\r\n\r\n\t}\r\n);"
	}
});