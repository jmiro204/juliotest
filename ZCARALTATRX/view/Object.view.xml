<mvc:View controllerName="app.eci.zcaraltatrx2.controller.Object" xmlns:mvc="sap.ui.core.mvc" xmlns="sap.uxap" xmlns:m="sap.m"
	xmlns:smartForm="sap.ui.comp.smartform" xmlns:sap.ui.layout="sap.ui.layout" xmlns:smartTable="sap.ui.comp.smarttable"
	xmlns:l="sap.ui.layout" xmlns:core="sap.ui.core" xmlns:smartField="sap.ui.comp.smartfield" height="100%" xmlns:table="sap.ui.table"
	xmlns:customData="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1" xmlns:f="sap.ui.layout.form">
	<ObjectPageLayout id="ObjectPageLayout" upperCaseAnchorBar="false" showFooter="true">
		<headerTitle>
			<ObjectPageHeader objectTitle="Objeto de creaciÃ³n"></ObjectPageHeader>
		</headerTitle>
		<headerContent>
			<!--<m:ObjectAttribute title="" text="This example explains the rules for the rendering of sections"/>-->
		</headerContent>
		<sections>
			<ObjectPageSection titleUppercase="false" title="Datos de cabecera">
				<subSections>
					<ObjectPageSubSection titleUppercase="false">
						<blocks>
							<f:SimpleForm id="SimpleFormId" editable="true" layout="ResponsiveGridLayout" title="" labelSpanXL="4" labelSpanL="4" labelSpanM="4"
								labelSpanS="12" adjustLabelSpan="false" emptySpanXL="0" emptySpanL="0" emptySpanM="0" emptySpanS="0" columnsXL="3" columnsL="2" columnsM="2"
								singleContainerFullSize="false">
								<f:content>
									<!--CORE items="{/zcds_audit_tranty_vh}" -->
									<core:Title text=""/>
									<m:Label text="{/#HeadType/Transtypecode/@sap:label}"/>
									<m:Select id="Transtypecode" selectedKey="{modelCreate>/Transtypecode}"
										items="{ path: '/zcds_audit_tranty_vh', filters: [ { path: 'Transtypecode', operator: 'EQ', value1: '0101' }, { path: 'Transtypecode', operator: 'EQ', value1: '0102' }, { path: 'Transtypecode', operator: 'EQ', value1: '0103' }, { path: 'Transtypecode', operator: 'EQ', value1: '0104' }, { path: 'Transtypecode', operator: 'EQ', value1: '0111' } ] }"
										fieldGroupIds="fgDG" change="onChangeValue">
										<m:items>
											<core:Item text="{Description}" key="{Transtypecode}"/>
										</m:items>
									</m:Select>
									<m:Label text="{/#HeadType/Retailstoreid/@sap:label}"/>
									<m:Input id="Retailstoreid" value="{modelCreate>/Retailstoreid}" description="{modelCreate>/RetailstoreidText}" fieldGroupIds="fgDG"
										change="onChangeValue" required="true" showValueHelp="true" valueHelpRequest="onValueHelpRequest" showSuggestion="true"
										maxLength="{= parseInt(${/#HeadType/Retailstoreid/maxLength}) }" suggestionItems="{/zcds_audit_storeid_vh}">
										<m:suggestionItems>
											<core:Item text="{RetailstoreidText}" key="{Retailstoreid}"/>
										</m:suggestionItems>
									</m:Input>
									<m:Label text="Periodo de venta"/>
									<m:DatePicker id="Businessdaydate"
										value="{ 'path':'modelCreate>/Businessdaydate', 'type':'sap.ui.model.type.Date', 'formatOptions': { 'pattern': 'dd-MM-yyyy' } }"
										class="sapUiSmallMarginBottom" required="true" fieldGroupIds="fgDG" change="onChangeValue" editable="{objectView>/displayDate}"/>
									<m:Button id="btnBD" icon="sap-icon://appointment-2" width="20%" enabled="{objectView>/displayDate}" press="onCalendarOpen"/>
									<m:Label text="Fecha de venta"/>
									<m:DateTimePicker id="BegintimestampCreate" showCurrentDateButton="true" showCurrentTimeButton="true"
										value="{ 'path': 'modelCreate>/BegintimestampCreate', 'type': 'sap.ui.model.type.DateTime', 'formatOptions': { 'style': 'medium' } }"
										fieldGroupIds="fgDG" required="true" change="onChangeValue" class="sapUiSmallMarginBottom"/>
									<m:Label text="{/#HeadType/Workstationid/@sap:label}"/>
									<m:Input id="Workstationid" value="{modelCreate>/Workstationid}" fieldGroupIds="fgDG" change="onChangeValue" required="true"
										maxLength="{= parseInt(${/#HeadType/WorkstationidView/maxLength}) }"/>
									<m:Label text="{/#HeadType/Transnumber/@sap:label}"/>
									<m:Input id="Transnumber" value="{modelCreate>/Transnumber}" fieldGroupIds="fgDG" change="onChangeValue" required="true"
										maxLength="{= parseInt(${/#HeadType/TransnumberView/maxLength}) }"/>
									<!--CORE-->
									<core:Title text=""/>
									<m:Label text="{/#HeadType/Operatorid/@sap:label}"/>
									<m:Input id="Operatorid" value="{modelCreate>/Operatorid}" fieldGroupIds="fgDG" change="onChangeValue"
										maxLength="{= parseInt(${/#HeadType/Operatorid/maxLength}) }"/>
									<m:Label text="{/#HeadType/Origbusinessdate/@sap:label}"/>
									<m:DatePicker id="Origbusinessdate"
										value="{ 'path':'modelCreate>/Origbusinessdate', 'type':'sap.ui.model.type.Date', 'formatOptions': { 'pattern': 'dd-MM-yyyy' } }"
										change="onChangeValue" class="sapUiSmallMarginBottom"
										editable="{= ${modelCreate>/Transtypecode} === '0102' || ${modelCreate>/Transtypecode} === '0103' || ${modelCreate>/Transtypecode} === '0104' ? true : false }"/>
									<m:Label text="{/#HeadType/Origstoreid/@sap:label}"/>
									<m:Input id="Origstoreid" value="{modelCreate>/Origstoreid}" fieldGroupIds="fgDG" change="onChangeValue" required="true"
										showValueHelp="true" valueHelpRequest="onValueHelpRequest" showSuggestion="true"
										maxLength="{= parseInt(${/#HeadType/Origstoreid/maxLength}) }" suggestionItems="{/zcds_audit_storeid_vh}"
										editable="{= ${modelCreate>/Transtypecode} === '0102' || ${modelCreate>/Transtypecode} === '0103' || ${modelCreate>/Transtypecode} === '0104' ? true : false }">
										<m:suggestionItems>
											<core:Item text="{RetailstoreidText}" key="{Retailstoreid}"/>
										</m:suggestionItems>
									</m:Input>
									<m:Label text="{/#HeadType/Origwrkstid/@sap:label}"/>
									<m:Input id="Origwrkstid" value="{modelCreate>/Origwrkstid}" fieldGroupIds="fgDG" change="onChangeValue"
										editable="{= ${modelCreate>/Transtypecode} === '0102' || ${modelCreate>/Transtypecode} === '0103' || ${modelCreate>/Transtypecode} === '0104' ? true : false }"
										maxLength="{= parseInt(${/#HeadType/WorkstationidView/maxLength}) }"/>
									<m:Label text="{/#HeadType/Origtransnumber/@sap:label}"/>
									<m:Input id="Origtransnumber" value="{modelCreate>/Origtransnumber}" fieldGroupIds="fgDG" change="onChangeValue"
										editable="{= ${modelCreate>/Transtypecode} === '0102' || ${modelCreate>/Transtypecode} === '0103' || ${modelCreate>/Transtypecode} === '0104' ? true : false }"
										maxLength="{= parseInt(${/#HeadType/TransnumberView/maxLength}) }"/>
									<m:Label text="Imp. Tot. Ref."/>
									<m:Text id="ZzimptransOrg"
										text="{path:'objectView>/ZzimptransOrg', type:'sap.ui.model.type.Float', formatOptions: { maxIntegerDigits: 13, maxFractionDigits: 2, preserveDecimals: true }, constraints:{ precision:13, scale:2 }}"/>
									<m:Label text=""/>
									<m:ObjectStatus id="objectStatError" visible="false" class="sapUiSmallMarginBottom" text="{i18n>errorOrgNoExist}" icon="sap-icon://error"
										state="Error"/>
									<!--CORE-->
									<core:Title text=""/>
									<m:Label text="{/#HeadType/Zzimptrans/@sap:label}"/>
									<m:Input id="Zzimptrans"
										value="{path:'modelCreate>/Zzimptrans', type:'sap.ui.model.type.Float', formatOptions: { maxIntegerDigits: 13, maxFractionDigits: 2, preserveDecimals: true }, constraints:{ precision:13, scale:2 }}"
										fieldGroupIds="fgDG" change="onChangeValue"/>
									<m:Label text="{/#HeadType/Zzformpag/@sap:label}"/>
									<m:Text id="Zzformpag" text="{objectView>/ZzformpagText}({objectView>/Zzformpag})"/>
									<m:Label text="{/#HeadType/Zzimptranscalc/@sap:label}"/>
									<m:Input id="Zzimptranscalc"
										value="{path:'modelCreate>/Zzimptranscalc', type:'sap.ui.model.type.Float', formatOptions: { maxIntegerDigits: 13, maxFractionDigits: 2, preserveDecimals: true }, constraints:{ precision:13, scale:2 }}"
										fieldGroupIds="fgDG" change="onChangeValue" editable="false"/>
									<m:Label text="{/#HeadType/Zzformpag/@sap:label}"/>
									<m:Label text="{/#HeadType/SenDescuento/@sap:label}"/>
									<m:Input id="SenDescuento" value="{modelCreate>/SenDescuento}" fieldGroupIds="fgDG" change="onChangeValue"
										maxLength="{= parseInt(${/#HeadType/SenDescuento/maxLength}) }"/>
									<m:Label text="{/#HeadType/FechaCompromiso/@sap:label}"/>
									<m:DatePicker id="FechaCompromiso" showCurrentDateButton="true" showCurrentTimeButton="true" fieldGroupIds="fgDG"
										minDate="{objectView>/minDate}"
										value="{ 'path': 'modelCreate>/FechaCompromiso', 'type': 'sap.ui.model.type.Date', 'formatOptions': { 'style': 'medium' } }"
										change="onChangeValue" class="sapUiSmallMarginBottom"/>
									<m:Label text="{/#HeadType/FormaretirMerc/@sap:label}"/>
									<m:Input id="FormaretirMerc" value="{modelCreate>/FormaretirMerc}" fieldGroupIds="fgDG" change="onChangeValue"
										maxLength="{= parseInt(${/#HeadType/FormaretirMerc/maxLength}) }"/>
									<m:Label text="{/#HeadType/Actualizarht/@sap:label}"/>
									<m:CheckBox selected="{modelCreate>/Actualizarht}" select="onSelectBajaEst"/>
									<m:Label text="{/#HeadType/BajaEst/@sap:label}"/>
									<m:CheckBox selected="{modelCreate>/BajaEst}" select="onSelectBajaEst"/>
								</f:content>
							</f:SimpleForm>
						</blocks>
					</ObjectPageSubSection>
				</subSections>
			</ObjectPageSection>
			<ObjectPageSection titleUppercase="false" title="Observaciones">
				<subSections>
					<ObjectPageSubSection titleUppercase="false">
						<blocks>
							<m:TextArea id="Comentario" value="{modelCreate>/Comentario}" rows="8" cols="200" maxLength="255" required="true" fieldGroupIds="fgDG"/>
						</blocks>
					</ObjectPageSubSection>
				</subSections>
			</ObjectPageSection>
			<ObjectPageSection titleUppercase="false" title="Datos de medio de pago">
				<subSections>
					<ObjectPageSubSection titleUppercase="false">
						<blocks>
							<table:Table id="tablePosMp" rows="{modelCreate>/to_Positionmp}" visibleRowCount="3" selectionMode="Single">
								<table:extension>
									<m:OverflowToolbar style="Clear">
										<m:ToolbarSpacer/>
										<m:Button text="Crear" press="_onAddPositionMP"/>
										<m:Button text="Eliminar" press="_onRemovePositionMP"/>
									</m:OverflowToolbar>
								</table:extension>
								<table:columns>
									<table:Column width="11rem">
										<m:Label text="{/#PositionmpType/Tenderamount/@sap:label}"/>
										<table:template>
											<m:Input
												value="{path:'modelCreate>Tenderamount', type:'sap.ui.model.type.Float', formatOptions: { maxIntegerDigits: 13, maxFractionDigits: 2, preserveDecimals: true }, constraints:{ precision:13, scale:2 } }"
												fieldGroupIds="fgDGMP" change="onChangeValuePosition"/>
										</table:template>
									</table:Column>
									<table:Column width="20rem">
										<m:Label text="{/#PositionmpType/Medpgsubtip/@sap:label}"/>
										<table:template>
											<m:Input value="{modelCreate>Medpgsubtip}" description="{modelCreate>Mediopagotexts}" showSuggestion="true" showValueHelp="true"
												suggestionItems="{/zcar_cds_i_mediopago_vh}" fieldGroupIds="fgDGMP" change="onChangeValuePosition" valueHelpRequest="onValueHelpRequest">
												<m:suggestionItems>
													<core:Item text="{Mediopagotext}" key="{Mediopagosub}"/>
												</m:suggestionItems>
											</m:Input>
										</table:template>
									</table:Column>
									<table:Column width="11rem">
										<m:Label text="{/#PositionmpType/ZzcodepagoNeg/@sap:label}"/>
										<table:template>
											<m:Text text="{modelCreate>ZzcodepagoNeg}" wrapping="false"/>
										</table:template>
									</table:Column>
									<table:Column width="11rem">
										<m:Label text="{/#PositionmpType/ZzcodpagoDesg/@sap:label}"/>
										<table:template>
											<m:Text text="{modelCreate>ZzcodpagoDesg}" wrapping="false"/>
										</table:template>
									</table:Column>
									<table:Column width="11rem">
										<m:Label text="{/#PositionmpType/Subtipo/@sap:label}"/>
										<table:template>
											<m:Text text="{modelCreate>Subtipo}" wrapping="false"/>
										</table:template>
									</table:Column>
									<table:Column width="11rem">
										<m:Label text="{/#PositionmpType/Cardnumber/@sap:label}"/>
										<table:template>
											<m:Input value="{modelCreate>Cardnumber}" wrapping="false" maxLength="{= parseInt(${/#PositionmpType/Cardnumber/maxLength}) }"
												change="onChangeValuePosition" enabled="true" fieldGroupIds="fgDGMP"/>
										</table:template>
									</table:Column>
									<table:Column width="11rem">
										<m:Label text="{/#PositionmpType/Zzfechacadnac/@sap:label}"/>
										<!--{= ${modelCreate>Cardnumber}  &amp;&amp;  ${modelCreate>Cardnumber}.length > 0 ? true : false }-->
										<table:template>
											<m:Input value="{modelCreate>Zzfechacadnac}" maxLength="4" enabled="false" liveChange="onLiveChangeNumber" fieldGroupIds="fgDGMP"
												change="onChangeValuePosition"/>
											<!--<m:DatePicker
												value="{ 'path':'modelCreate>Zzfechacadnac', 'type':'sap.ui.model.type.Date', 'formatOptions': { 'pattern': 'MMyy' } }"
												change="onChangeValue" 
												enabled="false"/>-->
										</table:template>
									</table:Column>
									<table:Column width="11rem">
										<m:Label text="{/#PositionmpType/zzpaypal/@sap:label}"/>
										<table:template>
											<m:Input value="{modelCreate>zzpaypal}" wrapping="false" maxLength="14" change="onChangeValuePosition" fieldGroupIds="fgDGMP"
												enabled="{= ${modelCreate>Medpgsubtip} === '15400007' }" editable="{= ${modelCreate>Medpgsubtip} === '15400007' }"/>
										</table:template>
									</table:Column>
								</table:columns>
							</table:Table>
						</blocks>
					</ObjectPageSubSection>
				</subSections>
			</ObjectPageSection>
			<ObjectPageSection titleUppercase="false" title="Datos de posiciones">
				<subSections>
					<ObjectPageSubSection titleUppercase="false">
						<blocks>
							<table:Table id="tablePos" rows="{modelCreate>/to_Position}" visibleRowCount="5" selectionMode="MultiToggle">
								<table:extension>
									<m:OverflowToolbar style="Clear">
										<m:ToolbarSpacer/>
										<m:Button text="Crear" press="_onAddPosition"/>
										<m:Button text="Eliminar" fieldGroupIds="fgDGP" press="_onRemovePosition"/>
									</m:OverflowToolbar>
								</table:extension>
								<table:columns>
									<table:Column width="11rem">
										<m:Label text="{/#PositionType/Retailnumber/@sap:label}"/>
										<table:template>
											<m:Input value="{modelCreate>RetailnumberView}" fieldGroupIds="fgDGP" type="Number"
												maxLength="{= parseInt(${/#PositionType/Retailnumber/maxLength}) }" change="onChangeValuePosition"/>
										</table:template>
									</table:Column>
									<table:Column width="11rem">
										<m:Label text="{/#PositionType/Zzcoddpto/@sap:label}"/>
										<table:template>
											<m:Input value="{modelCreate>Zzcoddpto}" fieldGroupIds="fgDGP" maxLength="{= parseInt(${/#PositionType/Zzcoddpto/maxLength}) }"
												change="onChangeValuePosition" liveChange="onLiveChangeNumber"/>
										</table:template>
									</table:Column>
									<table:Column width="11rem">
										<m:Label text="{/#PositionType/Zzarthost/@sap:label}"/>
										<table:template>
											<m:Input value="{modelCreate>Zzarthost}" fieldGroupIds="fgDGP" maxLength="14" change="onChangeValuePosition" liveChange="onLiveChangeNumber"/>
										</table:template>
									</table:Column>
									<table:Column width="11rem">
										<m:Label text="{/#PositionType/Zztalla/@sap:label}"/>
										<table:template>
											<m:Input value="{modelCreate>Zztalla}" fieldGroupIds="fgDGP" maxLength="{= parseInt(${/#PositionType/Zztalla/maxLength}) }"
												change="onChangeValuePosition"/>
										</table:template>
									</table:Column>
									<!--<table:Column width="11rem">
										<m:Label text="{/#PositionType/ZzCalifArtic/@sap:label}"/>
										<table:template>
											<m:Input value="{modelCreate>ZzCalifArtic}" fieldGroupIds="fgDGP" maxLength="{= parseInt(${/#PositionType/ZzCalifArtic/maxLength}) }"
												change="onChangeValuePosition"/>
										</table:template>
									</table:Column>-->
									<table:Column width="11rem">
										<m:Label text="{/#PositionType/Retailquantity/@sap:label}"/>
										<table:template>
											<m:Input
												value="{path:'modelCreate>Retailquantity', type:'sap.ui.model.type.Float', formatOptions: { maxIntegerDigits: 13, maxFractionDigits: 0, preserveDecimals: false }, constraints:{ precision:13, scale:0 }}"
												fieldGroupIds="fgDGP" change="onChangeValuePosition" liveChange="onLiveChangeNumber" maxLength="10"/>
										</table:template>
									</table:Column>
									<table:Column width="11rem">
										<m:Label text="{/#PositionType/Zzecunimed/@sap:label}"/>
										<table:template>
											<m:Input value="{modelCreate>Zzecunimed}" fieldGroupIds="fgDGP" maxLength="2" change="onChangeValuePosition" liveChange="onLiveChangeNumber"
												editable="false"/>
											<!--<m:Input value="{modelCreate>Zzecunimed}" description="{modelCreate>ZzecunimedText}" showSuggestion="true" showValueHelp="true"
												suggestionItems="{/I_UnitOfMeasure}" fieldGroupIds="fgDGMP" change="onChangeValuePosition" valueHelpRequest="onValueHelpRequest"
												maxLength="{= parseInt(${/#PositionType/Zzecunimed/maxLength}) }">
												<m:suggestionItems>
													<core:Item text="{UnitOfMeasure_Text}" key="{UnitOfMeasure}"/>
												</m:suggestionItems>
											</m:Input>-->
										</table:template>
									</table:Column>
									<table:Column width="11rem">
										<m:Label text="{/#PositionType/Salesamount/@sap:label}"/>
										<table:template>
											<m:Input
												value="{path:'modelCreate>Salesamount', type:'sap.ui.model.type.Float', formatOptions: { maxIntegerDigits: 13, maxFractionDigits: 2, preserveDecimals: true }, constraints:{ precision:13, scale:2 }}"
												fieldGroupIds="fgDGP" change="onChangeValuePosition"/>
										</table:template>
									</table:Column>
									<table:Column width="11rem">
										<m:Label text="{/#PositionType/Zzlvimpneto/@sap:label}"/>
										<table:template>
											<m:Input
												value="{path:'modelCreate>Zzlvimpneto', type:'sap.ui.model.type.Float', formatOptions: { maxIntegerDigits: 13, maxFractionDigits: 2, preserveDecimals: true }, constraints:{ precision:13, scale:2 }}"
												fieldGroupIds="fgDGP" change="onChangeValuePosition" maxLength="{= parseInt(${/#Zzlvimpneto/maxLength}) }"/>
										</table:template>
									</table:Column>
									<table:Column width="11rem">
										<m:Label text="{/#PositionType/Zzlvimpbruto/@sap:label}"/>
										<table:template>
											<m:Input
												value="{path:'modelCreate>Zzlvimpbruto', type:'sap.ui.model.type.Float', formatOptions: { maxIntegerDigits: 13, maxFractionDigits: 2, preserveDecimals: true }, constraints:{ precision:13, scale:2 }}"
												fieldGroupIds="fgDGP" change="onChangeValuePosition" maxLength="{= parseInt(${/#PositionType/Zzlvimpbruto/maxLength}) }"/>
										</table:template>
									</table:Column>
									<table:Column width="11rem">
										<m:Label text="{/#PositionType/ZzCalifArtic/@sap:label}"/>
										<table:template>
											<m:Input value="{modelCreate>ZzCalifArtic}" fieldGroupIds="fgDGP" change="onChangeValuePosition"
												maxLength="{= parseInt(${/#PositionType/ZzCalifArtic/maxLength}) }" liveChange="onLiveChangeNumber"/>
										</table:template>
									</table:Column>
									<table:Column width="11rem">
										<m:Label text="{/#PositionType/Zzcampoc/@sap:label}"/>
										<table:template>
											<!--<m:Text text="{modelCreate>Zzcampoc}"/>-->
											<m:Input value="{modelCreate>Zzcampoc}" fieldGroupIds="fgDGP" change="onChangeValuePosition"
												maxLength="{= parseInt(${/#PositionType/Zzcampoc/maxLength}) }" liveChange="onLiveChangeNumber"/>
										</table:template>
									</table:Column>
								</table:columns>
							</table:Table>
						</blocks>
					</ObjectPageSubSection>
				</subSections>
			</ObjectPageSection>
		</sections>
		<footer>
			<m:OverflowToolbar>
				<m:ToolbarSpacer/>
				<m:Button type="Accept" text="Crear" press="onSaveTransaction"/>
				<m:Button type="Reject" text="Cancelar" press="onCancelTransaction"/>
			</m:OverflowToolbar>
		</footer>
	</ObjectPageLayout>
</mvc:View>